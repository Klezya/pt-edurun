import{s as k,d as y,r as f,o as j,p as E,c as s,a as e,i as l,f as M,t as d,b as i,n as v,u as C,k as o,_ as B}from"./index-DYHoR0K5.js";async function I(m,b){try{const r=await fetch(`${k.apiBaseUrl}/api/evaluacion/entrega/?user_id_lms=${m}&evaluacion_id=${b}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){if(r.status===404)return null;const c=await r.json().catch(()=>({detail:"Error al obtener la entrega"}));throw new Error(c.detail||"Error al obtener la entrega")}return await r.json()}catch(r){throw console.error("Error al obtener la entrega:",r),r}}const V={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},z={class:"relative flex min-h-screen flex-col"},L={class:"flex flex-grow items-start justify-center px-4 py-8"},D={class:"mx-auto max-w-7xl w-full"},N={key:0,class:"space-y-6"},A={key:1,class:"rounded-2xl border border-red-500/20 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},$={class:"p-8 text-center"},R={class:"text-slate-400"},S={key:2,class:"space-y-6"},T={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},U={class:"p-8"},q={class:"space-y-4"},P={key:0,class:"flex items-center gap-4 p-4 rounded-lg bg-slate-900/50 border border-white/10"},G={class:"text-lg font-mono font-semibold text-white bg-slate-800/50 px-4 py-2 rounded-lg"},F={key:1,class:"flex items-center gap-4 p-4 rounded-lg bg-slate-900/50 border border-white/10"},H={class:"text-lg font-mono font-semibold text-white bg-slate-800/50 px-4 py-2 rounded-lg"},O={key:0,class:"space-y-6"},J={key:0,class:"rounded-2xl border border-red-500/50 bg-red-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},K={class:"p-8"},Q={class:"flex items-center gap-3 mb-6 pb-4 border-b border-white/10"},W={key:0,class:"ml-auto px-3 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-semibold border border-red-500/30"},X={class:"text-center py-6"},Y={key:1,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},Z={class:"p-8"},ee={class:"rounded-lg bg-slate-900/50 border border-white/10 overflow-hidden"},te={class:"p-4 overflow-x-auto text-sm text-slate-300 font-mono"},ae={key:2,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},se={class:"p-8"},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},de={class:"p-6 rounded-xl bg-gradient-to-br from-blue-900/30 to-blue-800/20 border border-blue-500/30"},le={class:"text-4xl font-bold text-blue-200"},re={class:"p-6 rounded-xl bg-gradient-to-br from-purple-900/30 to-purple-800/20 border border-purple-500/30"},ie={class:"text-4xl font-bold text-purple-200"},ne={class:"p-6 rounded-xl bg-gradient-to-br from-emerald-900/30 to-emerald-800/20 border border-emerald-500/30"},ve={class:"text-4xl font-bold text-emerald-200"},ce={key:3,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},ue={class:"p-8"},pe={class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fe={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},be={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},xe={class:"flex-1"},me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ge={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},he={class:"text-2xl font-bold text-white"},we={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},_e={class:"text-2xl font-bold text-white"},ke={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},ye={class:"text-2xl font-bold text-white"},je={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},Ee={class:"text-2xl font-bold text-white"},Me={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},Ce={class:"text-2xl font-bold text-white"},Be={key:0,class:"mt-4 p-4 rounded-lg bg-slate-900/50 border border-white/10"},Ie={class:"text-sm text-white font-mono"},Ve=y({__name:"review_activity",setup(m){const b=E(),r=C(),u=f(""),c=f(""),g=f(!0),a=f(null),p=f("");j(async()=>{try{if(u.value=b.query.user_id||"",c.value=b.query.assessment_id||"",!u.value){console.warn("No se encontró user_id en los parámetros de URL"),p.value="No se encontró el ID del usuario";return}if(!c.value){console.warn("No se encontró assessment_id en los parámetros de URL"),p.value="No se encontró el ID de la evaluación";return}a.value=await I(u.value,parseInt(c.value)),a.value||(p.value="No se encontró ninguna entrega para este estudiante")}catch(n){console.error("Error al cargar la información:",n),p.value=n instanceof Error?n.message:"Error al cargar la información de la entrega"}finally{g.value=!1}});function w(){r.back()}function _(n){const t=Math.floor(n/3600),x=Math.floor(n%3600/60),h=n%60;return t>0?`${t}h ${x}m`:x>0?`${x}m ${h}s`:`${h}s`}return(n,t)=>(o(),s("div",V,[t[28]||(t[28]=e("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})],-1)),e("div",z,[e("header",{class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},[e("div",{class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},[e("div",{class:"flex h-20 items-center justify-between"},[t[1]||(t[1]=l('<div class="flex items-center gap-3" data-v-0a7d05ff><div class="bg-gradient-to-br from-purple-400 to-blue-600 p-2 rounded-xl shadow-lg" data-v-0a7d05ff><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-0a7d05ff></path></svg></div><div data-v-0a7d05ff><h1 class="text-2xl font-bold bg-gradient-to-r from-purple-400 to-blue-500 bg-clip-text text-transparent" data-v-0a7d05ff> Revisar Actividad </h1><p class="text-sm text-slate-400" data-v-0a7d05ff>Revisión de entrega del estudiante</p></div></div>',1)),e("div",{class:"flex items-center gap-3"},[e("button",{onClick:w,class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105"},t[0]||(t[0]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),M(" Volver ",-1)]))])])])]),e("main",L,[e("div",D,[g.value?(o(),s("div",N,t[2]||(t[2]=[l('<div class="rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden" data-v-0a7d05ff><div class="p-8 animate-pulse" data-v-0a7d05ff><div class="h-6 w-48 bg-slate-700/50 rounded mb-4" data-v-0a7d05ff></div><div class="space-y-3" data-v-0a7d05ff><div class="h-4 w-full bg-slate-700/50 rounded" data-v-0a7d05ff></div><div class="h-4 w-3/4 bg-slate-700/50 rounded" data-v-0a7d05ff></div></div></div></div>',1)]))):p.value?(o(),s("div",A,[e("div",$,[t[3]||(t[3]=e("div",{class:"mx-auto w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mb-4"},[e("svg",{class:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[4]||(t[4]=e("h3",{class:"text-xl font-bold text-white mb-2"},"Error",-1)),e("p",R,d(p.value),1)])])):(o(),s("div",S,[e("div",T,[e("div",U,[t[7]||(t[7]=l('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-0a7d05ff><div class="bg-gradient-to-br from-sky-500/20 to-blue-600/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-6 h-6 text-sky-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-0a7d05ff></path></svg></div><h3 class="text-xl font-bold text-white" data-v-0a7d05ff>Información del Estudiante</h3></div>',1)),e("div",q,[u.value?(o(),s("div",P,[t[5]||(t[5]=e("span",{class:"text-sm font-medium text-slate-400"},"ID de Usuario:",-1)),e("span",G,d(u.value),1)])):i("",!0),c.value?(o(),s("div",F,[t[6]||(t[6]=e("span",{class:"text-sm font-medium text-slate-400"},"ID de Evaluación:",-1)),e("span",H,d(c.value),1)])):i("",!0)])])]),a.value?(o(),s("div",O,[a.value.detalles?.salio_pantalla_completa?(o(),s("div",J,t[8]||(t[8]=[l('<div class="p-8" data-v-0a7d05ff><div class="flex items-center gap-4" data-v-0a7d05ff><div class="bg-red-500 p-3 rounded-xl shadow-lg" data-v-0a7d05ff><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-0a7d05ff></path></svg></div><div class="flex-1" data-v-0a7d05ff><h3 class="text-2xl font-bold text-red-200 mb-2" data-v-0a7d05ff>⚠️ EVALUACIÓN INVALIDADA</h3><p class="text-red-300" data-v-0a7d05ff> El estudiante salió de pantalla completa durante la evaluación. Esta prueba no es válida. </p></div></div></div>',1)]))):i("",!0),e("div",{class:v(["rounded-2xl border backdrop-blur-md shadow-2xl overflow-hidden",a.value.detalles?.salio_pantalla_completa?"border-red-500/50 bg-red-950/20":"border-white/10 bg-slate-950/40"])},[e("div",K,[e("div",Q,[e("div",{class:v(["p-2 rounded-lg",a.value.detalles?.salio_pantalla_completa?"bg-red-500/20":"bg-gradient-to-br from-emerald-500/20 to-teal-600/20"])},[(o(),s("svg",{class:v(["w-6 h-6",a.value.detalles?.salio_pantalla_completa?"text-red-400":"text-emerald-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]),2))],2),t[10]||(t[10]=e("h3",{class:"text-xl font-bold text-white"},"Resultado de la Evaluación",-1)),a.value.detalles?.salio_pantalla_completa?(o(),s("span",W," NO VÁLIDA ")):i("",!0)]),e("div",X,[t[11]||(t[11]=e("p",{class:"text-sm text-slate-400 mb-2"},"Puntaje obtenido de los Test Unitarios",-1)),e("p",{class:v(["text-6xl font-bold bg-clip-text text-transparent",a.value.detalles?.salio_pantalla_completa?"bg-gradient-to-r from-red-400 to-red-600":"bg-gradient-to-r from-emerald-400 to-teal-500"])},d(a.value.nota)+"/100 ",3)])])],2),a.value.codigo?(o(),s("div",Y,[e("div",Z,[t[12]||(t[12]=l('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-0a7d05ff><div class="bg-gradient-to-br from-purple-500/20 to-blue-600/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" data-v-0a7d05ff></path></svg></div><h3 class="text-xl font-bold text-white" data-v-0a7d05ff>Código Enviado</h3></div>',1)),e("div",ee,[e("pre",te,[e("code",null,d(a.value.codigo),1)])])])])):i("",!0),a.value.detalles?(o(),s("div",ae,[e("div",se,[t[19]||(t[19]=l('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-0a7d05ff><div class="bg-gradient-to-br from-blue-500/20 to-purple-600/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" data-v-0a7d05ff></path></svg></div><h3 class="text-xl font-bold text-white" data-v-0a7d05ff>Actividad de Desarrollo</h3></div>',1)),e("div",oe,[e("div",de,[t[13]||(t[13]=l('<div class="flex items-center gap-3 mb-2" data-v-0a7d05ff><div class="bg-blue-500/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" data-v-0a7d05ff></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-0a7d05ff></path></svg></div><p class="text-sm font-medium text-blue-300" data-v-0a7d05ff>Ejecuciones de código</p></div>',1)),e("p",le,d(a.value.detalles.ejecuciones_codigo||0),1),t[14]||(t[14]=e("p",{class:"text-xs text-blue-400/70 mt-1"},"Veces que ejecutó su código",-1))]),e("div",re,[t[15]||(t[15]=l('<div class="flex items-center gap-3 mb-2" data-v-0a7d05ff><div class="bg-purple-500/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-0a7d05ff></path></svg></div><p class="text-sm font-medium text-purple-300" data-v-0a7d05ff>Ejecuciones de tests</p></div>',1)),e("p",ie,d(a.value.detalles.ejecuciones_tests||0),1),t[16]||(t[16]=e("p",{class:"text-xs text-purple-400/70 mt-1"},"Veces que corrió los tests",-1))]),e("div",ne,[t[17]||(t[17]=l('<div class="flex items-center gap-3 mb-2" data-v-0a7d05ff><div class="bg-emerald-500/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-0a7d05ff></path></svg></div><p class="text-sm font-medium text-emerald-300" data-v-0a7d05ff>Tiempo total</p></div>',1)),e("p",ve,d(_(a.value.detalles.tiempo_total_segundos||0)),1),t[18]||(t[18]=e("p",{class:"text-xs text-emerald-400/70 mt-1"},"Duración de la evaluación",-1))])])])])):i("",!0),a.value.detalles?(o(),s("div",ce,[e("div",ue,[t[26]||(t[26]=l('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-0a7d05ff><div class="bg-gradient-to-br from-amber-500/20 to-orange-600/20 p-2 rounded-lg" data-v-0a7d05ff><svg class="w-6 h-6 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0a7d05ff><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-0a7d05ff></path></svg></div><h3 class="text-xl font-bold text-white" data-v-0a7d05ff>Acciones Sospechosas</h3></div>',1)),e("div",{class:v(["mb-6 p-5 rounded-xl border flex items-center gap-4",a.value.detalles.salio_pantalla_completa?"bg-red-950/30 border-red-500/50":"bg-emerald-950/30 border-emerald-500/50"])},[e("div",{class:v(["p-3 rounded-xl shadow-lg",a.value.detalles.salio_pantalla_completa?"bg-red-500":"bg-emerald-500"])},[(o(),s("svg",pe,[a.value.detalles.salio_pantalla_completa?(o(),s("path",fe)):(o(),s("path",be))]))],2),e("div",xe,[e("p",{class:v(["text-sm font-medium mb-1",a.value.detalles.salio_pantalla_completa?"text-red-300":"text-emerald-300"])}," Estado de Pantalla Completa ",2),e("p",{class:v(["text-xl font-bold",a.value.detalles.salio_pantalla_completa?"text-red-200":"text-emerald-200"])},d(a.value.detalles.salio_pantalla_completa?"Salió de pantalla completa":"Permaneció en pantalla completa"),3)])],2),e("div",me,[e("div",ge,[t[20]||(t[20]=e("p",{class:"text-xs text-slate-400 mb-1"},"Intentos de copiar",-1)),e("p",he,d(a.value.detalles.intentos_copiar),1)]),e("div",we,[t[21]||(t[21]=e("p",{class:"text-xs text-slate-400 mb-1"},"Intentos de pegar",-1)),e("p",_e,d(a.value.detalles.intentos_pegar),1)]),e("div",ke,[t[22]||(t[22]=e("p",{class:"text-xs text-slate-400 mb-1"},"Intentos de cortar",-1)),e("p",ye,d(a.value.detalles.intentos_cortar),1)]),e("div",je,[t[23]||(t[23]=e("p",{class:"text-xs text-slate-400 mb-1"},"Cambios de ventana",-1)),e("p",Ee,d(a.value.detalles.cambios_ventana),1)]),e("div",Me,[t[24]||(t[24]=e("p",{class:"text-xs text-slate-400 mb-1"},"Tiempo fuera de la Evaluacion",-1)),e("p",Ce,d(a.value.detalles.tiempo_inactividad_segundos)+"s",1)])]),a.value.detalles.timestamp?(o(),s("div",Be,[t[25]||(t[25]=e("p",{class:"text-xs text-slate-400 mb-1"},"Fecha y hora de entrega",-1)),e("p",Ie,d(new Date(a.value.detalles.timestamp).toLocaleString("es-ES")),1)])):i("",!0)])])):i("",!0)])):i("",!0)]))])]),t[27]||(t[27]=l('<footer class="border-t border-white/10 bg-slate-950/30 backdrop-blur-sm" data-v-0a7d05ff><div class="mx-auto max-w-7xl px-4 py-8" data-v-0a7d05ff><div class="flex flex-col items-center justify-center gap-2" data-v-0a7d05ff><p class="text-sm text-slate-400" data-v-0a7d05ff>Sistema de Gestión de Actividades</p><p class="text-xs text-slate-500" data-v-0a7d05ff>© 2025 - Plataforma Educativa</p></div></div></footer>',1))])]))}}),Le=B(Ve,[["__scopeId","data-v-0a7d05ff"]]);export{Le as default};
