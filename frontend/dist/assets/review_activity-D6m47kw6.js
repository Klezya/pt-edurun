import{c as f,d as w,r as p,o as _,q as k,a as s,b as e,k as v,i as y,t as l,e as r,p as n,u as E,f as o,_ as C}from"./index-ImIDxtLm.js";async function j(m,b){try{const d=await fetch(`${f.apiBaseUrl}/api/evaluacion/entrega/?user_id_lms=${m}&evaluacion_id=${b}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!d.ok){if(d.status===404)return null;const i=await d.json().catch(()=>({detail:"Error al obtener la entrega"}));throw new Error(i.detail||"Error al obtener la entrega")}return await d.json()}catch(d){throw console.error("Error al obtener la entrega:",d),d}}const I={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},M={class:"relative flex min-h-screen flex-col"},B={class:"flex flex-grow items-start justify-center px-4 py-8"},N={class:"mx-auto max-w-7xl w-full"},V={key:0,class:"space-y-6"},D={key:1,class:"rounded-2xl border border-red-500/20 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},L={class:"p-8 text-center"},z={class:"text-slate-400"},A={key:2,class:"space-y-6"},R={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},S={class:"p-8"},U={class:"space-y-4"},T={key:0,class:"flex items-center gap-4 p-4 rounded-lg bg-slate-900/50 border border-white/10"},q={class:"text-lg font-mono font-semibold text-white bg-slate-800/50 px-4 py-2 rounded-lg"},P={key:1,class:"flex items-center gap-4 p-4 rounded-lg bg-slate-900/50 border border-white/10"},$={class:"text-lg font-mono font-semibold text-white bg-slate-800/50 px-4 py-2 rounded-lg"},G={key:0,class:"space-y-6"},H={key:0,class:"rounded-2xl border border-red-500/50 bg-red-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},F={class:"p-8"},O={class:"flex items-center gap-3 mb-6 pb-4 border-b border-white/10"},J={key:0,class:"ml-auto px-3 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-semibold border border-red-500/30"},K={class:"text-center py-6"},Q={key:1,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},W={class:"p-8"},X={class:"rounded-lg bg-slate-900/50 border border-white/10 overflow-hidden"},Y={class:"p-4 overflow-x-auto text-sm text-slate-300 font-mono"},Z={key:2,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},ee={class:"p-8"},te={class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},se={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},oe={class:"flex-1"},le={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},de={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},re={class:"text-2xl font-bold text-white"},ne={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},ie={class:"text-2xl font-bold text-white"},ve={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},ce={class:"text-2xl font-bold text-white"},ue={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},pe={class:"text-2xl font-bold text-white"},be={class:"p-4 rounded-lg bg-slate-900/50 border border-white/10"},xe={class:"text-2xl font-bold text-white"},me={key:0,class:"mt-4 p-4 rounded-lg bg-slate-900/50 border border-white/10"},he={class:"text-sm text-white font-mono"},ge=w({__name:"review_activity",setup(m){const b=k(),d=E(),c=p(""),i=p(""),h=p(!0),a=p(null),u=p("");_(async()=>{try{if(c.value=b.query.user_id||"",i.value=b.query.assessment_id||"",!c.value){console.warn("No se encontró user_id en los parámetros de URL"),u.value="No se encontró el ID del usuario";return}if(!i.value){console.warn("No se encontró assessment_id en los parámetros de URL"),u.value="No se encontró el ID de la evaluación";return}a.value=await j(c.value,parseInt(i.value)),a.value||(u.value="No se encontró ninguna entrega para este estudiante")}catch(x){console.error("Error al cargar la información:",x),u.value=x instanceof Error?x.message:"Error al cargar la información de la entrega"}finally{h.value=!1}});function g(){d.back()}return(x,t)=>(o(),s("div",I,[t[21]||(t[21]=e("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})],-1)),e("div",M,[e("header",{class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},[e("div",{class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},[e("div",{class:"flex h-20 items-center justify-between"},[t[1]||(t[1]=v('<div class="flex items-center gap-3" data-v-90016006><div class="bg-gradient-to-br from-purple-400 to-blue-600 p-2 rounded-xl shadow-lg" data-v-90016006><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-90016006><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-90016006></path></svg></div><div data-v-90016006><h1 class="text-2xl font-bold bg-gradient-to-r from-purple-400 to-blue-500 bg-clip-text text-transparent" data-v-90016006> Revisar Actividad </h1><p class="text-sm text-slate-400" data-v-90016006>Revisión de entrega del estudiante</p></div></div>',1)),e("div",{class:"flex items-center gap-3"},[e("button",{onClick:g,class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105"},t[0]||(t[0]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),y(" Volver ",-1)]))])])])]),e("main",B,[e("div",N,[h.value?(o(),s("div",V,t[2]||(t[2]=[v('<div class="rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden" data-v-90016006><div class="p-8 animate-pulse" data-v-90016006><div class="h-6 w-48 bg-slate-700/50 rounded mb-4" data-v-90016006></div><div class="space-y-3" data-v-90016006><div class="h-4 w-full bg-slate-700/50 rounded" data-v-90016006></div><div class="h-4 w-3/4 bg-slate-700/50 rounded" data-v-90016006></div></div></div></div>',1)]))):u.value?(o(),s("div",D,[e("div",L,[t[3]||(t[3]=e("div",{class:"mx-auto w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mb-4"},[e("svg",{class:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[4]||(t[4]=e("h3",{class:"text-xl font-bold text-white mb-2"},"Error",-1)),e("p",z,l(u.value),1)])])):(o(),s("div",A,[e("div",R,[e("div",S,[t[7]||(t[7]=v('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-90016006><div class="bg-gradient-to-br from-sky-500/20 to-blue-600/20 p-2 rounded-lg" data-v-90016006><svg class="w-6 h-6 text-sky-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-90016006><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-90016006></path></svg></div><h3 class="text-xl font-bold text-white" data-v-90016006>Información del Estudiante</h3></div>',1)),e("div",U,[c.value?(o(),s("div",T,[t[5]||(t[5]=e("span",{class:"text-sm font-medium text-slate-400"},"ID de Usuario:",-1)),e("span",q,l(c.value),1)])):r("",!0),i.value?(o(),s("div",P,[t[6]||(t[6]=e("span",{class:"text-sm font-medium text-slate-400"},"ID de Evaluación:",-1)),e("span",$,l(i.value),1)])):r("",!0)])])]),a.value?(o(),s("div",G,[a.value.detalles?.salio_pantalla_completa?(o(),s("div",H,t[8]||(t[8]=[v('<div class="p-8" data-v-90016006><div class="flex items-center gap-4" data-v-90016006><div class="bg-red-500 p-3 rounded-xl shadow-lg" data-v-90016006><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-90016006><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-90016006></path></svg></div><div class="flex-1" data-v-90016006><h3 class="text-2xl font-bold text-red-200 mb-2" data-v-90016006>⚠️ EVALUACIÓN INVALIDADA</h3><p class="text-red-300" data-v-90016006> El estudiante salió de pantalla completa durante la evaluación. Esta prueba no es válida. </p></div></div></div>',1)]))):r("",!0),e("div",{class:n(["rounded-2xl border backdrop-blur-md shadow-2xl overflow-hidden",a.value.detalles?.salio_pantalla_completa?"border-red-500/50 bg-red-950/20":"border-white/10 bg-slate-950/40"])},[e("div",F,[e("div",O,[e("div",{class:n(["p-2 rounded-lg",a.value.detalles?.salio_pantalla_completa?"bg-red-500/20":"bg-gradient-to-br from-emerald-500/20 to-teal-600/20"])},[(o(),s("svg",{class:n(["w-6 h-6",a.value.detalles?.salio_pantalla_completa?"text-red-400":"text-emerald-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]),2))],2),t[10]||(t[10]=e("h3",{class:"text-xl font-bold text-white"},"Resultado de la Evaluación",-1)),a.value.detalles?.salio_pantalla_completa?(o(),s("span",J," NO VÁLIDA ")):r("",!0)]),e("div",K,[t[11]||(t[11]=e("p",{class:"text-sm text-slate-400 mb-2"},"Nota obtenida",-1)),e("p",{class:n(["text-6xl font-bold bg-clip-text text-transparent",a.value.detalles?.salio_pantalla_completa?"bg-gradient-to-r from-red-400 to-red-600":"bg-gradient-to-r from-emerald-400 to-teal-500"])},l(a.value.nota)+"% ",3)])])],2),a.value.codigo?(o(),s("div",Q,[e("div",W,[t[12]||(t[12]=v('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-90016006><div class="bg-gradient-to-br from-purple-500/20 to-blue-600/20 p-2 rounded-lg" data-v-90016006><svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-90016006><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" data-v-90016006></path></svg></div><h3 class="text-xl font-bold text-white" data-v-90016006>Código Enviado</h3></div>',1)),e("div",X,[e("pre",Y,[e("code",null,l(a.value.codigo),1)])])])])):r("",!0),a.value.detalles?(o(),s("div",Z,[e("div",ee,[t[19]||(t[19]=v('<div class="flex items-center gap-3 mb-6 pb-4 border-b border-white/10" data-v-90016006><div class="bg-gradient-to-br from-amber-500/20 to-orange-600/20 p-2 rounded-lg" data-v-90016006><svg class="w-6 h-6 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-90016006><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-90016006></path></svg></div><h3 class="text-xl font-bold text-white" data-v-90016006>Estadísticas de Comportamiento</h3></div>',1)),e("div",{class:n(["mb-6 p-5 rounded-xl border flex items-center gap-4",a.value.detalles.salio_pantalla_completa?"bg-red-950/30 border-red-500/50":"bg-emerald-950/30 border-emerald-500/50"])},[e("div",{class:n(["p-3 rounded-xl shadow-lg",a.value.detalles.salio_pantalla_completa?"bg-red-500":"bg-emerald-500"])},[(o(),s("svg",te,[a.value.detalles.salio_pantalla_completa?(o(),s("path",ae)):(o(),s("path",se))]))],2),e("div",oe,[e("p",{class:n(["text-sm font-medium mb-1",a.value.detalles.salio_pantalla_completa?"text-red-300":"text-emerald-300"])}," Estado de Pantalla Completa ",2),e("p",{class:n(["text-xl font-bold",a.value.detalles.salio_pantalla_completa?"text-red-200":"text-emerald-200"])},l(a.value.detalles.salio_pantalla_completa?"Salió de pantalla completa":"Permaneció en pantalla completa"),3)])],2),e("div",le,[e("div",de,[t[13]||(t[13]=e("p",{class:"text-xs text-slate-400 mb-1"},"Intentos de copiar",-1)),e("p",re,l(a.value.detalles.intentos_copiar),1)]),e("div",ne,[t[14]||(t[14]=e("p",{class:"text-xs text-slate-400 mb-1"},"Intentos de pegar",-1)),e("p",ie,l(a.value.detalles.intentos_pegar),1)]),e("div",ve,[t[15]||(t[15]=e("p",{class:"text-xs text-slate-400 mb-1"},"Intentos de cortar",-1)),e("p",ce,l(a.value.detalles.intentos_cortar),1)]),e("div",ue,[t[16]||(t[16]=e("p",{class:"text-xs text-slate-400 mb-1"},"Cambios de ventana",-1)),e("p",pe,l(a.value.detalles.cambios_ventana),1)]),e("div",be,[t[17]||(t[17]=e("p",{class:"text-xs text-slate-400 mb-1"},"Tiempo fuera de la Evaluacion",-1)),e("p",xe,l(a.value.detalles.tiempo_inactividad_segundos)+"s",1)])]),a.value.detalles.timestamp?(o(),s("div",me,[t[18]||(t[18]=e("p",{class:"text-xs text-slate-400 mb-1"},"Fecha y hora de entrega",-1)),e("p",he,l(new Date(a.value.detalles.timestamp).toLocaleString("es-ES")),1)])):r("",!0)])])):r("",!0)])):r("",!0)]))])]),t[20]||(t[20]=v('<footer class="border-t border-white/10 bg-slate-950/30 backdrop-blur-sm" data-v-90016006><div class="mx-auto max-w-7xl px-4 py-8" data-v-90016006><div class="flex flex-col items-center justify-center gap-2" data-v-90016006><p class="text-sm text-slate-400" data-v-90016006>Sistema de Gestión de Actividades</p><p class="text-xs text-slate-500" data-v-90016006>© 2025 - Plataforma Educativa</p></div></div></footer>',1))])]))}}),we=C(ge,[["__scopeId","data-v-90016006"]]);export{we as default};
