(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ra(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const Se={},Tn=[],oi=()=>{},Hg=()=>!1,lo=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Ma=i=>i.startsWith("onUpdate:"),it=Object.assign,Ea=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},Xg=Object.prototype.hasOwnProperty,me=(i,e)=>Xg.call(i,e),ee=Array.isArray,Cn=i=>ao(i)==="[object Map]",iu=i=>ao(i)==="[object Set]",ie=i=>typeof i=="function",Ie=i=>typeof i=="string",Zi=i=>typeof i=="symbol",Me=i=>i!==null&&typeof i=="object",nu=i=>(Me(i)||ie(i))&&ie(i.then)&&ie(i.catch),su=Object.prototype.toString,ao=i=>su.call(i),Gg=i=>ao(i).slice(8,-1),ru=i=>ao(i)==="[object Object]",$a=i=>Ie(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,cs=Ra(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ho=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},Zg=/-(\w)/g,_t=ho(i=>i.replace(Zg,(e,t)=>t?t.toUpperCase():"")),Kg=/\B([A-Z])/g,Ki=ho(i=>i.replace(Kg,"-$1").toLowerCase()),co=ho(i=>i.charAt(0).toUpperCase()+i.slice(1)),Lo=ho(i=>i?`on${co(i)}`:""),Wi=(i,e)=>!Object.is(i,e),Or=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},Cl=(i,e,t,n=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Pl=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let Qh;const fo=()=>Qh||(Qh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Da(i){if(ee(i)){const e={};for(let t=0;t<i.length;t++){const n=i[t],s=Ie(n)?tm(n):Da(n);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ie(i)||Me(i))return i}const Yg=/;(?![^(]*\))/g,Jg=/:([^]+)/,em=/\/\*[^]*?\*\//g;function tm(i){const e={};return i.replace(em,"").split(Yg).forEach(t=>{if(t){const n=t.split(Jg);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function fn(i){let e="";if(Ie(i))e=i;else if(ee(i))for(let t=0;t<i.length;t++){const n=fn(i[t]);n&&(e+=n+" ")}else if(Me(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const im="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nm=Ra(im);function ou(i){return!!i||i===""}const lu=i=>!!(i&&i.__v_isRef===!0),le=i=>Ie(i)?i:i==null?"":ee(i)||Me(i)&&(i.toString===su||!ie(i.toString))?lu(i)?le(i.value):JSON.stringify(i,au,2):String(i),au=(i,e)=>lu(e)?au(i,e.value):Cn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,s],r)=>(t[Wo(n,r)+" =>"]=s,t),{})}:iu(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Wo(t))}:Zi(e)?Wo(e):Me(e)&&!ee(e)&&!ru(e)?String(e):e,Wo=(i,e="")=>{var t;return Zi(i)?`Symbol(${(t=i.description)!=null?t:e})`:i};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ut;class sm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ut,!e&&ut&&(this.index=(ut.scopes||(ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ut;try{return ut=this,e()}finally{ut=t}}}on(){++this._on===1&&(this.prevScope=ut,ut=this)}off(){this._on>0&&--this._on===0&&(ut=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function rm(){return ut}let Pe;const Vo=new WeakSet;class hu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ut&&ut.active&&ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vo.has(this)&&(Vo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ah(this),uu(this);const e=Pe,t=zt;Pe=this,zt=!0;try{return this.fn()}finally{du(this),Pe=e,zt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)za(e);this.deps=this.depsTail=void 0,Ah(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ql(this)&&this.run()}get dirty(){return Ql(this)}}let cu=0,fs,us;function fu(i,e=!1){if(i.flags|=8,e){i.next=us,us=i;return}i.next=fs,fs=i}function Ba(){cu++}function qa(){if(--cu>0)return;if(us){let e=us;for(us=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;fs;){let e=fs;for(fs=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){i||(i=n)}e=t}}if(i)throw i}function uu(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function du(i){let e,t=i.depsTail,n=t;for(;n;){const s=n.prevDep;n.version===-1?(n===t&&(t=s),za(n),om(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}i.deps=e,i.depsTail=t}function Ql(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function pu(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===ks)||(i.globalVersion=ks,!i.isSSR&&i.flags&128&&(!i.deps&&!i._dirty||!Ql(i))))return;i.flags|=2;const e=i.dep,t=Pe,n=zt;Pe=i,zt=!0;try{uu(i);const s=i.fn(i._value);(e.version===0||Wi(s,i._value))&&(i.flags|=128,i._value=s,e.version++)}catch(s){throw e.version++,s}finally{Pe=t,zt=n,du(i),i.flags&=-3}}function za(i,e=!1){const{dep:t,prevSub:n,nextSub:s}=i;if(n&&(n.nextSub=s,i.prevSub=void 0),s&&(s.prevSub=n,i.nextSub=void 0),t.subs===i&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)za(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function om(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let zt=!0;const gu=[];function Ci(){gu.push(zt),zt=!1}function Pi(){const i=gu.pop();zt=i===void 0?!0:i}function Ah(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=Pe;Pe=void 0;try{e()}finally{Pe=t}}}let ks=0;class lm{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ia{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Pe||!zt||Pe===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Pe)t=this.activeLink=new lm(Pe,this),Pe.deps?(t.prevDep=Pe.depsTail,Pe.depsTail.nextDep=t,Pe.depsTail=t):Pe.deps=Pe.depsTail=t,mu(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Pe.depsTail,t.nextDep=void 0,Pe.depsTail.nextDep=t,Pe.depsTail=t,Pe.deps===t&&(Pe.deps=n)}return t}trigger(e){this.version++,ks++,this.notify(e)}notify(e){Ba();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{qa()}}}function mu(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)mu(n)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subs=i}}const Al=new WeakMap,hn=Symbol(""),_l=Symbol(""),Ss=Symbol("");function Ye(i,e,t){if(zt&&Pe){let n=Al.get(i);n||Al.set(i,n=new Map);let s=n.get(t);s||(n.set(t,s=new Ia),s.map=n,s.key=t),s.track()}}function yi(i,e,t,n,s,r){const o=Al.get(i);if(!o){ks++;return}const l=a=>{a&&a.trigger()};if(Ba(),e==="clear")o.forEach(l);else{const a=ee(i),c=a&&$a(t);if(a&&t==="length"){const h=Number(n);o.forEach((f,u)=>{(u==="length"||u===Ss||!Zi(u)&&u>=h)&&l(f)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),c&&l(o.get(Ss)),e){case"add":a?c&&l(o.get("length")):(l(o.get(hn)),Cn(i)&&l(o.get(_l)));break;case"delete":a||(l(o.get(hn)),Cn(i)&&l(o.get(_l)));break;case"set":Cn(i)&&l(o.get(hn));break}}qa()}function On(i){const e=ge(i);return e===i?e:(Ye(e,"iterate",Ss),Ct(i)?e:e.map(Ge))}function uo(i){return Ye(i=ge(i),"iterate",Ss),i}const am={__proto__:null,[Symbol.iterator](){return No(this,Symbol.iterator,Ge)},concat(...i){return On(this).concat(...i.map(e=>ee(e)?On(e):e))},entries(){return No(this,"entries",i=>(i[1]=Ge(i[1]),i))},every(i,e){return ui(this,"every",i,e,void 0,arguments)},filter(i,e){return ui(this,"filter",i,e,t=>t.map(Ge),arguments)},find(i,e){return ui(this,"find",i,e,Ge,arguments)},findIndex(i,e){return ui(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return ui(this,"findLast",i,e,Ge,arguments)},findLastIndex(i,e){return ui(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return ui(this,"forEach",i,e,void 0,arguments)},includes(...i){return jo(this,"includes",i)},indexOf(...i){return jo(this,"indexOf",i)},join(i){return On(this).join(i)},lastIndexOf(...i){return jo(this,"lastIndexOf",i)},map(i,e){return ui(this,"map",i,e,void 0,arguments)},pop(){return Zn(this,"pop")},push(...i){return Zn(this,"push",i)},reduce(i,...e){return _h(this,"reduce",i,e)},reduceRight(i,...e){return _h(this,"reduceRight",i,e)},shift(){return Zn(this,"shift")},some(i,e){return ui(this,"some",i,e,void 0,arguments)},splice(...i){return Zn(this,"splice",i)},toReversed(){return On(this).toReversed()},toSorted(i){return On(this).toSorted(i)},toSpliced(...i){return On(this).toSpliced(...i)},unshift(...i){return Zn(this,"unshift",i)},values(){return No(this,"values",Ge)}};function No(i,e,t){const n=uo(i),s=n[e]();return n!==i&&!Ct(i)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=t(r.value)),r}),s}const hm=Array.prototype;function ui(i,e,t,n,s,r){const o=uo(i),l=o!==i&&!Ct(i),a=o[e];if(a!==hm[e]){const f=a.apply(i,r);return l?Ge(f):f}let c=t;o!==i&&(l?c=function(f,u){return t.call(this,Ge(f),u,i)}:t.length>2&&(c=function(f,u){return t.call(this,f,u,i)}));const h=a.call(o,c,n);return l&&s?s(h):h}function _h(i,e,t,n){const s=uo(i);let r=t;return s!==i&&(Ct(i)?t.length>3&&(r=function(o,l,a){return t.call(this,o,l,a,i)}):r=function(o,l,a){return t.call(this,o,Ge(l),a,i)}),s[e](r,...n)}function jo(i,e,t){const n=ge(i);Ye(n,"iterate",Ss);const s=n[e](...t);return(s===-1||s===!1)&&Va(t[0])?(t[0]=ge(t[0]),n[e](...t)):s}function Zn(i,e,t=[]){Ci(),Ba();const n=ge(i)[e].apply(i,t);return qa(),Pi(),n}const cm=Ra("__proto__,__v_isRef,__isVue"),Ou=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Zi));function fm(i){Zi(i)||(i=String(i));const e=ge(this);return Ye(e,"has",i),e.hasOwnProperty(i)}class vu{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return r;if(t==="__v_raw")return n===(s?r?ym:wu:r?yu:xu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ee(e);if(!s){let a;if(o&&(a=am[t]))return a;if(t==="hasOwnProperty")return fm}const l=Reflect.get(e,t,tt(e)?e:n);return(Zi(t)?Ou.has(t):cm(t))||(s||Ye(e,"get",t),r)?l:tt(l)?o&&$a(t)?l:l.value:Me(l)?s?Su(l):po(l):l}}class bu extends vu{constructor(e=!1){super(!1,e)}set(e,t,n,s){let r=e[t];if(!this._isShallow){const a=Vi(r);if(!Ct(n)&&!Vi(n)&&(r=ge(r),n=ge(n)),!ee(e)&&tt(r)&&!tt(n))return a?!1:(r.value=n,!0)}const o=ee(e)&&$a(t)?Number(t)<e.length:me(e,t),l=Reflect.set(e,t,n,tt(e)?e:s);return e===ge(s)&&(o?Wi(n,r)&&yi(e,"set",t,n):yi(e,"add",t,n)),l}deleteProperty(e,t){const n=me(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&yi(e,"delete",t,void 0),s}has(e,t){const n=Reflect.has(e,t);return(!Zi(t)||!Ou.has(t))&&Ye(e,"has",t),n}ownKeys(e){return Ye(e,"iterate",ee(e)?"length":hn),Reflect.ownKeys(e)}}class um extends vu{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const dm=new bu,pm=new um,gm=new bu(!0);const Rl=i=>i,Gs=i=>Reflect.getPrototypeOf(i);function mm(i,e,t){return function(...n){const s=this.__v_raw,r=ge(s),o=Cn(r),l=i==="entries"||i===Symbol.iterator&&o,a=i==="keys"&&o,c=s[i](...n),h=t?Rl:e?Br:Ge;return!e&&Ye(r,"iterate",a?_l:hn),{next(){const{value:f,done:u}=c.next();return u?{value:f,done:u}:{value:l?[h(f[0]),h(f[1])]:h(f),done:u}},[Symbol.iterator](){return this}}}}function Zs(i){return function(...e){return i==="delete"?!1:i==="clear"?void 0:this}}function Om(i,e){const t={get(s){const r=this.__v_raw,o=ge(r),l=ge(s);i||(Wi(s,l)&&Ye(o,"get",s),Ye(o,"get",l));const{has:a}=Gs(o),c=e?Rl:i?Br:Ge;if(a.call(o,s))return c(r.get(s));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!i&&Ye(ge(s),"iterate",hn),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=ge(r),l=ge(s);return i||(Wi(s,l)&&Ye(o,"has",s),Ye(o,"has",l)),s===l?r.has(s):r.has(s)||r.has(l)},forEach(s,r){const o=this,l=o.__v_raw,a=ge(l),c=e?Rl:i?Br:Ge;return!i&&Ye(a,"iterate",hn),l.forEach((h,f)=>s.call(r,c(h),c(f),o))}};return it(t,i?{add:Zs("add"),set:Zs("set"),delete:Zs("delete"),clear:Zs("clear")}:{add(s){!e&&!Ct(s)&&!Vi(s)&&(s=ge(s));const r=ge(this);return Gs(r).has.call(r,s)||(r.add(s),yi(r,"add",s,s)),this},set(s,r){!e&&!Ct(r)&&!Vi(r)&&(r=ge(r));const o=ge(this),{has:l,get:a}=Gs(o);let c=l.call(o,s);c||(s=ge(s),c=l.call(o,s));const h=a.call(o,s);return o.set(s,r),c?Wi(r,h)&&yi(o,"set",s,r):yi(o,"add",s,r),this},delete(s){const r=ge(this),{has:o,get:l}=Gs(r);let a=o.call(r,s);a||(s=ge(s),a=o.call(r,s)),l&&l.call(r,s);const c=r.delete(s);return a&&yi(r,"delete",s,void 0),c},clear(){const s=ge(this),r=s.size!==0,o=s.clear();return r&&yi(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=mm(s,i,e)}),t}function La(i,e){const t=Om(i,e);return(n,s,r)=>s==="__v_isReactive"?!i:s==="__v_isReadonly"?i:s==="__v_raw"?n:Reflect.get(me(t,s)&&s in n?t:n,s,r)}const vm={get:La(!1,!1)},bm={get:La(!1,!0)},xm={get:La(!0,!1)};const xu=new WeakMap,yu=new WeakMap,wu=new WeakMap,ym=new WeakMap;function wm(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function km(i){return i.__v_skip||!Object.isExtensible(i)?0:wm(Gg(i))}function po(i){return Vi(i)?i:Wa(i,!1,dm,vm,xu)}function ku(i){return Wa(i,!1,gm,bm,yu)}function Su(i){return Wa(i,!0,pm,xm,wu)}function Wa(i,e,t,n,s){if(!Me(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const r=km(i);if(r===0)return i;const o=s.get(i);if(o)return o;const l=new Proxy(i,r===2?n:t);return s.set(i,l),l}function Pn(i){return Vi(i)?Pn(i.__v_raw):!!(i&&i.__v_isReactive)}function Vi(i){return!!(i&&i.__v_isReadonly)}function Ct(i){return!!(i&&i.__v_isShallow)}function Va(i){return i?!!i.__v_raw:!1}function ge(i){const e=i&&i.__v_raw;return e?ge(e):i}function Sm(i){return!me(i,"__v_skip")&&Object.isExtensible(i)&&Cl(i,"__v_skip",!0),i}const Ge=i=>Me(i)?po(i):i,Br=i=>Me(i)?Su(i):i;function tt(i){return i?i.__v_isRef===!0:!1}function J(i){return Tu(i,!1)}function Tm(i){return Tu(i,!0)}function Tu(i,e){return tt(i)?i:new Cm(i,e)}class Cm{constructor(e,t){this.dep=new Ia,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ge(e),this._value=t?e:Ge(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Ct(e)||Vi(e);e=n?e:ge(e),Wi(e,t)&&(this._rawValue=e,this._value=n?e:Ge(e),this.dep.trigger())}}function Pt(i){return tt(i)?i.value:i}const Pm={get:(i,e,t)=>e==="__v_raw"?i:Pt(Reflect.get(i,e,t)),set:(i,e,t,n)=>{const s=i[e];return tt(s)&&!tt(t)?(s.value=t,!0):Reflect.set(i,e,t,n)}};function Cu(i){return Pn(i)?i:new Proxy(i,Pm)}class Qm{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ia(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ks-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return fu(this,!0),!0}get value(){const e=this.dep.track();return pu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Am(i,e,t=!1){let n,s;return ie(i)?n=i:(n=i.get,s=i.set),new Qm(n,s,t)}const Ks={},qr=new WeakMap;let sn;function _m(i,e=!1,t=sn){if(t){let n=qr.get(t);n||qr.set(t,n=[]),n.push(i)}}function Rm(i,e,t=Se){const{immediate:n,deep:s,once:r,scheduler:o,augmentJob:l,call:a}=t,c=C=>s?C:Ct(C)||s===!1||s===0?wi(C,1):wi(C);let h,f,u,p,g=!1,O=!1;if(tt(i)?(f=()=>i.value,g=Ct(i)):Pn(i)?(f=()=>c(i),g=!0):ee(i)?(O=!0,g=i.some(C=>Pn(C)||Ct(C)),f=()=>i.map(C=>{if(tt(C))return C.value;if(Pn(C))return c(C);if(ie(C))return a?a(C,2):C()})):ie(i)?e?f=a?()=>a(i,2):i:f=()=>{if(u){Ci();try{u()}finally{Pi()}}const C=sn;sn=h;try{return a?a(i,3,[p]):i(p)}finally{sn=C}}:f=oi,e&&s){const C=f,M=s===!0?1/0:s;f=()=>wi(C(),M)}const v=rm(),x=()=>{h.stop(),v&&v.active&&Ea(v.effects,h)};if(r&&e){const C=e;e=(...M)=>{C(...M),x()}}let y=O?new Array(i.length).fill(Ks):Ks;const T=C=>{if(!(!(h.flags&1)||!h.dirty&&!C))if(e){const M=h.run();if(s||g||(O?M.some((N,D)=>Wi(N,y[D])):Wi(M,y))){u&&u();const N=sn;sn=h;try{const D=[M,y===Ks?void 0:O&&y[0]===Ks?[]:y,p];y=M,a?a(e,3,D):e(...D)}finally{sn=N}}}else h.run()};return l&&l(T),h=new hu(f),h.scheduler=o?()=>o(T,!1):T,p=C=>_m(C,!1,h),u=h.onStop=()=>{const C=qr.get(h);if(C){if(a)a(C,4);else for(const M of C)M();qr.delete(h)}},e?n?T(!0):y=h.run():o?o(T.bind(null,!0),!0):h.run(),x.pause=h.pause.bind(h),x.resume=h.resume.bind(h),x.stop=x,x}function wi(i,e=1/0,t){if(e<=0||!Me(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),e--,tt(i))wi(i.value,e,t);else if(ee(i))for(let n=0;n<i.length;n++)wi(i[n],e,t);else if(iu(i)||Cn(i))i.forEach(n=>{wi(n,e,t)});else if(ru(i)){for(const n in i)wi(i[n],e,t);for(const n of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,n)&&wi(i[n],e,t)}return i}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vs(i,e,t,n){try{return n?i(...n):i()}catch(s){go(s,e,t)}}function ai(i,e,t,n){if(ie(i)){const s=Vs(i,e,t,n);return s&&nu(s)&&s.catch(r=>{go(r,e,t)}),s}if(ee(i)){const s=[];for(let r=0;r<i.length;r++)s.push(ai(i[r],e,t,n));return s}}function go(i,e,t,n=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Se;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const h=l.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](i,a,c)===!1)return}l=l.parent}if(r){Ci(),Vs(r,null,10,[i,a,c]),Pi();return}}Mm(i,t,s,n,o)}function Mm(i,e,t,n=!0,s=!1){if(s)throw i;console.error(i)}const rt=[];let Yt=-1;const Qn=[];let Ei=null,bn=0;const Pu=Promise.resolve();let zr=null;function Qu(i){const e=zr||Pu;return i?e.then(this?i.bind(this):i):e}function Em(i){let e=Yt+1,t=rt.length;for(;e<t;){const n=e+t>>>1,s=rt[n],r=Ts(s);r<i||r===i&&s.flags&2?e=n+1:t=n}return e}function Na(i){if(!(i.flags&1)){const e=Ts(i),t=rt[rt.length-1];!t||!(i.flags&2)&&e>=Ts(t)?rt.push(i):rt.splice(Em(e),0,i),i.flags|=1,Au()}}function Au(){zr||(zr=Pu.then(Ru))}function $m(i){ee(i)?Qn.push(...i):Ei&&i.id===-1?Ei.splice(bn+1,0,i):i.flags&1||(Qn.push(i),i.flags|=1),Au()}function Rh(i,e,t=Yt+1){for(;t<rt.length;t++){const n=rt[t];if(n&&n.flags&2){if(i&&n.id!==i.uid)continue;rt.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function _u(i){if(Qn.length){const e=[...new Set(Qn)].sort((t,n)=>Ts(t)-Ts(n));if(Qn.length=0,Ei){Ei.push(...e);return}for(Ei=e,bn=0;bn<Ei.length;bn++){const t=Ei[bn];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Ei=null,bn=0}}const Ts=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Ru(i){try{for(Yt=0;Yt<rt.length;Yt++){const e=rt[Yt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Yt<rt.length;Yt++){const e=rt[Yt];e&&(e.flags&=-2)}Yt=-1,rt.length=0,_u(),zr=null,(rt.length||Qn.length)&&Ru()}}let wt=null,Mu=null;function Ir(i){const e=wt;return wt=i,Mu=i&&i.type.__scopeId||null,e}function jn(i,e=wt,t){if(!e||i._n)return i;const n=(...s)=>{n._d&&Wh(-1);const r=Ir(e);let o;try{o=i(...s)}finally{Ir(r),n._d&&Wh(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function on(i,e){if(wt===null)return i;const t=bo(wt),n=i.dirs||(i.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,l,a=Se]=e[s];r&&(ie(r)&&(r={mounted:r,updated:r}),r.deep&&wi(o),n.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:a}))}return i}function en(i,e,t,n){const s=i.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];r&&(l.oldValue=r[o].value);let a=l.dir[n];a&&(Ci(),ai(a,t,8,[i.el,l,i,e]),Pi())}}const Dm=Symbol("_vte"),Bm=i=>i.__isTeleport;function ja(i,e){i.shapeFlag&6&&i.component?(i.transition=e,ja(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ai(i,e){return ie(i)?it({name:i.name},e,{setup:i}):i}function Eu(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function ds(i,e,t,n,s=!1){if(ee(i)){i.forEach((g,O)=>ds(g,e&&(ee(e)?e[O]:e),t,n,s));return}if(ps(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ds(i,e,t,n.component.subTree);return}const r=n.shapeFlag&4?bo(n.component):n.el,o=s?null:r,{i:l,r:a}=i,c=e&&e.r,h=l.refs===Se?l.refs={}:l.refs,f=l.setupState,u=ge(f),p=f===Se?()=>!1:g=>me(u,g);if(c!=null&&c!==a&&(Ie(c)?(h[c]=null,p(c)&&(f[c]=null)):tt(c)&&(c.value=null)),ie(a))Vs(a,l,12,[o,h]);else{const g=Ie(a),O=tt(a);if(g||O){const v=()=>{if(i.f){const x=g?p(a)?f[a]:h[a]:a.value;s?ee(x)&&Ea(x,r):ee(x)?x.includes(r)||x.push(r):g?(h[a]=[r],p(a)&&(f[a]=h[a])):(a.value=[r],i.k&&(h[i.k]=a.value))}else g?(h[a]=o,p(a)&&(f[a]=o)):O&&(a.value=o,i.k&&(h[i.k]=o))};o?(v.id=-1,xt(v,t)):v()}}}fo().requestIdleCallback;fo().cancelIdleCallback;const ps=i=>!!i.type.__asyncLoader,$u=i=>i.type.__isKeepAlive;function qm(i,e){Du(i,"a",e)}function zm(i,e){Du(i,"da",e)}function Du(i,e,t=Je){const n=i.__wdc||(i.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return i()});if(mo(e,n,t),t){let s=t.parent;for(;s&&s.parent;)$u(s.parent.vnode)&&Im(n,e,t,s),s=s.parent}}function Im(i,e,t,n){const s=mo(e,i,n,!0);qu(()=>{Ea(n[e],s)},t)}function mo(i,e,t=Je,n=!1){if(t){const s=t[i]||(t[i]=[]),r=e.__weh||(e.__weh=(...o)=>{Ci();const l=Ns(t),a=ai(e,t,i,o);return l(),Pi(),a});return n?s.unshift(r):s.push(r),r}}const _i=i=>(e,t=Je)=>{(!Qs||i==="sp")&&mo(i,(...n)=>e(...n),t)},Lm=_i("bm"),Fn=_i("m"),Wm=_i("bu"),Vm=_i("u"),Bu=_i("bum"),qu=_i("um"),Nm=_i("sp"),jm=_i("rtg"),Fm=_i("rtc");function Um(i,e=Je){mo("ec",i,e)}const Hm="components";function Un(i,e){return Gm(Hm,i,!0,e)||i}const Xm=Symbol.for("v-ndc");function Gm(i,e,t=!0,n=!1){const s=wt||Je;if(s){const r=s.type;{const l=B0(r,!1);if(l&&(l===e||l===_t(e)||l===co(_t(e))))return r}const o=Mh(s[i]||r[i],e)||Mh(s.appContext[i],e);return!o&&n?r:o}}function Mh(i,e){return i&&(i[e]||i[_t(e)]||i[co(_t(e))])}function Cs(i,e,t,n){let s;const r=t,o=ee(i);if(o||Ie(i)){const l=o&&Pn(i);let a=!1,c=!1;l&&(a=!Ct(i),c=Vi(i),i=uo(i)),s=new Array(i.length);for(let h=0,f=i.length;h<f;h++)s[h]=e(a?c?Br(Ge(i[h])):Ge(i[h]):i[h],h,void 0,r)}else if(typeof i=="number"){s=new Array(i);for(let l=0;l<i;l++)s[l]=e(l+1,l,void 0,r)}else if(Me(i))if(i[Symbol.iterator])s=Array.from(i,(l,a)=>e(l,a,void 0,r));else{const l=Object.keys(i);s=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const h=l[a];s[a]=e(i[h],h,a,r)}}else s=[];return s}const Ml=i=>i?sd(i)?bo(i):Ml(i.parent):null,gs=it(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Ml(i.parent),$root:i=>Ml(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Iu(i),$forceUpdate:i=>i.f||(i.f=()=>{Na(i.update)}),$nextTick:i=>i.n||(i.n=Qu.bind(i.proxy)),$watch:i=>m0.bind(i)}),Fo=(i,e)=>i!==Se&&!i.__isScriptSetup&&me(i,e),Zm={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:s,props:r,accessCache:o,type:l,appContext:a}=i;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(Fo(n,e))return o[e]=1,n[e];if(s!==Se&&me(s,e))return o[e]=2,s[e];if((c=i.propsOptions[0])&&me(c,e))return o[e]=3,r[e];if(t!==Se&&me(t,e))return o[e]=4,t[e];El&&(o[e]=0)}}const h=gs[e];let f,u;if(h)return e==="$attrs"&&Ye(i.attrs,"get",""),h(i);if((f=l.__cssModules)&&(f=f[e]))return f;if(t!==Se&&me(t,e))return o[e]=4,t[e];if(u=a.config.globalProperties,me(u,e))return u[e]},set({_:i},e,t){const{data:n,setupState:s,ctx:r}=i;return Fo(s,e)?(s[e]=t,!0):n!==Se&&me(n,e)?(n[e]=t,!0):me(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(r[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:n,appContext:s,propsOptions:r}},o){let l;return!!t[o]||i!==Se&&me(i,o)||Fo(e,o)||(l=r[0])&&me(l,o)||me(n,o)||me(gs,o)||me(s.config.globalProperties,o)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:me(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};function Eh(i){return ee(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}let El=!0;function Km(i){const e=Iu(i),t=i.proxy,n=i.ctx;El=!1,e.beforeCreate&&$h(e.beforeCreate,i,"bc");const{data:s,computed:r,methods:o,watch:l,provide:a,inject:c,created:h,beforeMount:f,mounted:u,beforeUpdate:p,updated:g,activated:O,deactivated:v,beforeDestroy:x,beforeUnmount:y,destroyed:T,unmounted:C,render:M,renderTracked:N,renderTriggered:D,errorCaptured:ae,serverPrefetch:oe,expose:U,inheritAttrs:k,components:G,directives:ne,filters:ve}=e;if(c&&Ym(c,n,null),o)for(const ce in o){const he=o[ce];ie(he)&&(n[ce]=he.bind(t))}if(s){const ce=s.call(t,t);Me(ce)&&(i.data=po(ce))}if(El=!0,r)for(const ce in r){const he=r[ce],Fe=ie(he)?he.bind(t,t):ie(he.get)?he.get.bind(t,t):oi,$t=!ie(he)&&ie(he.set)?he.set.bind(t):oi,$e=Bt({get:Fe,set:$t});Object.defineProperty(n,ce,{enumerable:!0,configurable:!0,get:()=>$e.value,set:ye=>$e.value=ye})}if(l)for(const ce in l)zu(l[ce],n,t,ce);if(a){const ce=ie(a)?a.call(t):a;Reflect.ownKeys(ce).forEach(he=>{vr(he,ce[he])})}h&&$h(h,i,"c");function xe(ce,he){ee(he)?he.forEach(Fe=>ce(Fe.bind(t))):he&&ce(he.bind(t))}if(xe(Lm,f),xe(Fn,u),xe(Wm,p),xe(Vm,g),xe(qm,O),xe(zm,v),xe(Um,ae),xe(Fm,N),xe(jm,D),xe(Bu,y),xe(qu,C),xe(Nm,oe),ee(U))if(U.length){const ce=i.exposed||(i.exposed={});U.forEach(he=>{Object.defineProperty(ce,he,{get:()=>t[he],set:Fe=>t[he]=Fe,enumerable:!0})})}else i.exposed||(i.exposed={});M&&i.render===oi&&(i.render=M),k!=null&&(i.inheritAttrs=k),G&&(i.components=G),ne&&(i.directives=ne),oe&&Eu(i)}function Ym(i,e,t=oi){ee(i)&&(i=$l(i));for(const n in i){const s=i[n];let r;Me(s)?"default"in s?r=It(s.from||n,s.default,!0):r=It(s.from||n):r=It(s),tt(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function $h(i,e,t){ai(ee(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,t)}function zu(i,e,t,n){let s=n.includes(".")?Yu(t,n):()=>t[n];if(Ie(i)){const r=e[i];ie(r)&&br(s,r)}else if(ie(i))br(s,i.bind(t));else if(Me(i))if(ee(i))i.forEach(r=>zu(r,e,t,n));else{const r=ie(i.handler)?i.handler.bind(t):e[i.handler];ie(r)&&br(s,r,i)}}function Iu(i){const e=i.type,{mixins:t,extends:n}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,l=r.get(e);let a;return l?a=l:!s.length&&!t&&!n?a=e:(a={},s.length&&s.forEach(c=>Lr(a,c,o,!0)),Lr(a,e,o)),Me(e)&&r.set(e,a),a}function Lr(i,e,t,n=!1){const{mixins:s,extends:r}=e;r&&Lr(i,r,t,!0),s&&s.forEach(o=>Lr(i,o,t,!0));for(const o in e)if(!(n&&o==="expose")){const l=Jm[o]||t&&t[o];i[o]=l?l(i[o],e[o]):e[o]}return i}const Jm={data:Dh,props:Bh,emits:Bh,methods:rs,computed:rs,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:rs,directives:rs,watch:t0,provide:Dh,inject:e0};function Dh(i,e){return e?i?function(){return it(ie(i)?i.call(this,this):i,ie(e)?e.call(this,this):e)}:e:i}function e0(i,e){return rs($l(i),$l(e))}function $l(i){if(ee(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function st(i,e){return i?[...new Set([].concat(i,e))]:e}function rs(i,e){return i?it(Object.create(null),i,e):e}function Bh(i,e){return i?ee(i)&&ee(e)?[...new Set([...i,...e])]:it(Object.create(null),Eh(i),Eh(e??{})):e}function t0(i,e){if(!i)return e;if(!e)return i;const t=it(Object.create(null),i);for(const n in e)t[n]=st(i[n],e[n]);return t}function Lu(){return{app:null,config:{isNativeTag:Hg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i0=0;function n0(i,e){return function(n,s=null){ie(n)||(n=it({},n)),s!=null&&!Me(s)&&(s=null);const r=Lu(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:i0++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:z0,get config(){return r.config},set config(h){},use(h,...f){return o.has(h)||(h&&ie(h.install)?(o.add(h),h.install(c,...f)):ie(h)&&(o.add(h),h(c,...f))),c},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),c},component(h,f){return f?(r.components[h]=f,c):r.components[h]},directive(h,f){return f?(r.directives[h]=f,c):r.directives[h]},mount(h,f,u){if(!a){const p=c._ceVNode||Ve(n,s);return p.appContext=r,u===!0?u="svg":u===!1&&(u=void 0),i(p,h,u),a=!0,c._container=h,h.__vue_app__=c,bo(p.component)}},onUnmount(h){l.push(h)},unmount(){a&&(ai(l,c._instance,16),i(null,c._container),delete c._container.__vue_app__)},provide(h,f){return r.provides[h]=f,c},runWithContext(h){const f=An;An=c;try{return h()}finally{An=f}}};return c}}let An=null;function vr(i,e){if(Je){let t=Je.provides;const n=Je.parent&&Je.parent.provides;n===t&&(t=Je.provides=Object.create(n)),t[i]=e}}function It(i,e,t=!1){const n=R0();if(n||An){let s=An?An._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&i in s)return s[i];if(arguments.length>1)return t&&ie(e)?e.call(n&&n.proxy):e}}const Wu={},Vu=()=>Object.create(Wu),Nu=i=>Object.getPrototypeOf(i)===Wu;function s0(i,e,t,n=!1){const s={},r=Vu();i.propsDefaults=Object.create(null),ju(i,e,s,r);for(const o in i.propsOptions[0])o in s||(s[o]=void 0);t?i.props=n?s:ku(s):i.type.props?i.props=s:i.props=r,i.attrs=r}function r0(i,e,t,n){const{props:s,attrs:r,vnode:{patchFlag:o}}=i,l=ge(s),[a]=i.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=i.vnode.dynamicProps;for(let f=0;f<h.length;f++){let u=h[f];if(Oo(i.emitsOptions,u))continue;const p=e[u];if(a)if(me(r,u))p!==r[u]&&(r[u]=p,c=!0);else{const g=_t(u);s[g]=Dl(a,l,g,p,i,!1)}else p!==r[u]&&(r[u]=p,c=!0)}}}else{ju(i,e,s,r)&&(c=!0);let h;for(const f in l)(!e||!me(e,f)&&((h=Ki(f))===f||!me(e,h)))&&(a?t&&(t[f]!==void 0||t[h]!==void 0)&&(s[f]=Dl(a,l,f,void 0,i,!0)):delete s[f]);if(r!==l)for(const f in r)(!e||!me(e,f))&&(delete r[f],c=!0)}c&&yi(i.attrs,"set","")}function ju(i,e,t,n){const[s,r]=i.propsOptions;let o=!1,l;if(e)for(let a in e){if(cs(a))continue;const c=e[a];let h;s&&me(s,h=_t(a))?!r||!r.includes(h)?t[h]=c:(l||(l={}))[h]=c:Oo(i.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,o=!0)}if(r){const a=ge(t),c=l||Se;for(let h=0;h<r.length;h++){const f=r[h];t[f]=Dl(s,a,f,c[f],i,!me(c,f))}}return o}function Dl(i,e,t,n,s,r){const o=i[t];if(o!=null){const l=me(o,"default");if(l&&n===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&ie(a)){const{propsDefaults:c}=s;if(t in c)n=c[t];else{const h=Ns(s);n=c[t]=a.call(null,e),h()}}else n=a;s.ce&&s.ce._setProp(t,n)}o[0]&&(r&&!l?n=!1:o[1]&&(n===""||n===Ki(t))&&(n=!0))}return n}const o0=new WeakMap;function Fu(i,e,t=!1){const n=t?o0:e.propsCache,s=n.get(i);if(s)return s;const r=i.props,o={},l=[];let a=!1;if(!ie(i)){const h=f=>{a=!0;const[u,p]=Fu(f,e,!0);it(o,u),p&&l.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}if(!r&&!a)return Me(i)&&n.set(i,Tn),Tn;if(ee(r))for(let h=0;h<r.length;h++){const f=_t(r[h]);qh(f)&&(o[f]=Se)}else if(r)for(const h in r){const f=_t(h);if(qh(f)){const u=r[h],p=o[f]=ee(u)||ie(u)?{type:u}:it({},u),g=p.type;let O=!1,v=!0;if(ee(g))for(let x=0;x<g.length;++x){const y=g[x],T=ie(y)&&y.name;if(T==="Boolean"){O=!0;break}else T==="String"&&(v=!1)}else O=ie(g)&&g.name==="Boolean";p[0]=O,p[1]=v,(O||me(p,"default"))&&l.push(f)}}const c=[o,l];return Me(i)&&n.set(i,c),c}function qh(i){return i[0]!=="$"&&!cs(i)}const Fa=i=>i==="_"||i==="__"||i==="_ctx"||i==="$stable",Ua=i=>ee(i)?i.map(Jt):[Jt(i)],l0=(i,e,t)=>{if(e._n)return e;const n=jn((...s)=>Ua(e(...s)),t);return n._c=!1,n},Uu=(i,e,t)=>{const n=i._ctx;for(const s in i){if(Fa(s))continue;const r=i[s];if(ie(r))e[s]=l0(s,r,n);else if(r!=null){const o=Ua(r);e[s]=()=>o}}},Hu=(i,e)=>{const t=Ua(e);i.slots.default=()=>t},Xu=(i,e,t)=>{for(const n in e)(t||!Fa(n))&&(i[n]=e[n])},a0=(i,e,t)=>{const n=i.slots=Vu();if(i.vnode.shapeFlag&32){const s=e.__;s&&Cl(n,"__",s,!0);const r=e._;r?(Xu(n,e,t),t&&Cl(n,"_",r,!0)):Uu(e,n)}else e&&Hu(i,e)},h0=(i,e,t)=>{const{vnode:n,slots:s}=i;let r=!0,o=Se;if(n.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:Xu(s,e,t):(r=!e.$stable,Uu(e,s)),o=e}else e&&(Hu(i,e),o={default:1});if(r)for(const l in s)!Fa(l)&&o[l]==null&&delete s[l]},xt=k0;function c0(i){return f0(i)}function f0(i,e){const t=fo();t.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:h,parentNode:f,nextSibling:u,setScopeId:p=oi,insertStaticContent:g}=i,O=(m,b,w,Q=null,_=null,A=null,z=void 0,B=null,$=!!b.dynamicChildren)=>{if(m===b)return;m&&!Kn(m,b)&&(Q=P(m),ye(m,_,A,!0),m=null),b.patchFlag===-2&&($=!1,b.dynamicChildren=null);const{type:R,ref:K,shapeFlag:W}=b;switch(R){case vo:v(m,b,w,Q);break;case Ni:x(m,b,w,Q);break;case xr:m==null&&y(b,w,Q,z);break;case dt:G(m,b,w,Q,_,A,z,B,$);break;default:W&1?M(m,b,w,Q,_,A,z,B,$):W&6?ne(m,b,w,Q,_,A,z,B,$):(W&64||W&128)&&R.process(m,b,w,Q,_,A,z,B,$,H)}K!=null&&_?ds(K,m&&m.ref,A,b||m,!b):K==null&&m&&m.ref!=null&&ds(m.ref,null,A,m,!0)},v=(m,b,w,Q)=>{if(m==null)n(b.el=l(b.children),w,Q);else{const _=b.el=m.el;b.children!==m.children&&c(_,b.children)}},x=(m,b,w,Q)=>{m==null?n(b.el=a(b.children||""),w,Q):b.el=m.el},y=(m,b,w,Q)=>{[m.el,m.anchor]=g(m.children,b,w,Q,m.el,m.anchor)},T=({el:m,anchor:b},w,Q)=>{let _;for(;m&&m!==b;)_=u(m),n(m,w,Q),m=_;n(b,w,Q)},C=({el:m,anchor:b})=>{let w;for(;m&&m!==b;)w=u(m),s(m),m=w;s(b)},M=(m,b,w,Q,_,A,z,B,$)=>{b.type==="svg"?z="svg":b.type==="math"&&(z="mathml"),m==null?N(b,w,Q,_,A,z,B,$):oe(m,b,_,A,z,B,$)},N=(m,b,w,Q,_,A,z,B)=>{let $,R;const{props:K,shapeFlag:W,transition:Z,dirs:te}=m;if($=m.el=o(m.type,A,K&&K.is,K),W&8?h($,m.children):W&16&&ae(m.children,$,null,Q,_,Uo(m,A),z,B),te&&en(m,null,Q,"created"),D($,m,m.scopeId,z,Q),K){for(const Ce in K)Ce!=="value"&&!cs(Ce)&&r($,Ce,null,K[Ce],A,Q);"value"in K&&r($,"value",null,K.value,A),(R=K.onVnodeBeforeMount)&&Ht(R,Q,m)}te&&en(m,null,Q,"beforeMount");const fe=u0(_,Z);fe&&Z.beforeEnter($),n($,b,w),((R=K&&K.onVnodeMounted)||fe||te)&&xt(()=>{R&&Ht(R,Q,m),fe&&Z.enter($),te&&en(m,null,Q,"mounted")},_)},D=(m,b,w,Q,_)=>{if(w&&p(m,w),Q)for(let A=0;A<Q.length;A++)p(m,Q[A]);if(_){let A=_.subTree;if(b===A||ed(A.type)&&(A.ssContent===b||A.ssFallback===b)){const z=_.vnode;D(m,z,z.scopeId,z.slotScopeIds,_.parent)}}},ae=(m,b,w,Q,_,A,z,B,$=0)=>{for(let R=$;R<m.length;R++){const K=m[R]=B?$i(m[R]):Jt(m[R]);O(null,K,b,w,Q,_,A,z,B)}},oe=(m,b,w,Q,_,A,z)=>{const B=b.el=m.el;let{patchFlag:$,dynamicChildren:R,dirs:K}=b;$|=m.patchFlag&16;const W=m.props||Se,Z=b.props||Se;let te;if(w&&tn(w,!1),(te=Z.onVnodeBeforeUpdate)&&Ht(te,w,b,m),K&&en(b,m,w,"beforeUpdate"),w&&tn(w,!0),(W.innerHTML&&Z.innerHTML==null||W.textContent&&Z.textContent==null)&&h(B,""),R?U(m.dynamicChildren,R,B,w,Q,Uo(b,_),A):z||he(m,b,B,null,w,Q,Uo(b,_),A,!1),$>0){if($&16)k(B,W,Z,w,_);else if($&2&&W.class!==Z.class&&r(B,"class",null,Z.class,_),$&4&&r(B,"style",W.style,Z.style,_),$&8){const fe=b.dynamicProps;for(let Ce=0;Ce<fe.length;Ce++){const be=fe[Ce],ct=W[be],ft=Z[be];(ft!==ct||be==="value")&&r(B,be,ct,ft,_,w)}}$&1&&m.children!==b.children&&h(B,b.children)}else!z&&R==null&&k(B,W,Z,w,_);((te=Z.onVnodeUpdated)||K)&&xt(()=>{te&&Ht(te,w,b,m),K&&en(b,m,w,"updated")},Q)},U=(m,b,w,Q,_,A,z)=>{for(let B=0;B<b.length;B++){const $=m[B],R=b[B],K=$.el&&($.type===dt||!Kn($,R)||$.shapeFlag&198)?f($.el):w;O($,R,K,null,Q,_,A,z,!0)}},k=(m,b,w,Q,_)=>{if(b!==w){if(b!==Se)for(const A in b)!cs(A)&&!(A in w)&&r(m,A,b[A],null,_,Q);for(const A in w){if(cs(A))continue;const z=w[A],B=b[A];z!==B&&A!=="value"&&r(m,A,B,z,_,Q)}"value"in w&&r(m,"value",b.value,w.value,_)}},G=(m,b,w,Q,_,A,z,B,$)=>{const R=b.el=m?m.el:l(""),K=b.anchor=m?m.anchor:l("");let{patchFlag:W,dynamicChildren:Z,slotScopeIds:te}=b;te&&(B=B?B.concat(te):te),m==null?(n(R,w,Q),n(K,w,Q),ae(b.children||[],w,K,_,A,z,B,$)):W>0&&W&64&&Z&&m.dynamicChildren?(U(m.dynamicChildren,Z,w,_,A,z,B),(b.key!=null||_&&b===_.subTree)&&Gu(m,b,!0)):he(m,b,w,K,_,A,z,B,$)},ne=(m,b,w,Q,_,A,z,B,$)=>{b.slotScopeIds=B,m==null?b.shapeFlag&512?_.ctx.activate(b,w,Q,z,$):ve(b,w,Q,_,A,z,$):_e(m,b,$)},ve=(m,b,w,Q,_,A,z)=>{const B=m.component=_0(m,Q,_);if($u(m)&&(B.ctx.renderer=H),M0(B,!1,z),B.asyncDep){if(_&&_.registerDep(B,xe,z),!m.el){const $=B.subTree=Ve(Ni);x(null,$,b,w),m.placeholder=$.el}}else xe(B,m,b,w,_,A,z)},_e=(m,b,w)=>{const Q=b.component=m.component;if(y0(m,b,w))if(Q.asyncDep&&!Q.asyncResolved){ce(Q,b,w);return}else Q.next=b,Q.update();else b.el=m.el,Q.vnode=b},xe=(m,b,w,Q,_,A,z)=>{const B=()=>{if(m.isMounted){let{next:W,bu:Z,u:te,parent:fe,vnode:Ce}=m;{const Ft=Zu(m);if(Ft){W&&(W.el=Ce.el,ce(m,W,z)),Ft.asyncDep.then(()=>{m.isUnmounted||B()});return}}let be=W,ct;tn(m,!1),W?(W.el=Ce.el,ce(m,W,z)):W=Ce,Z&&Or(Z),(ct=W.props&&W.props.onVnodeBeforeUpdate)&&Ht(ct,fe,W,Ce),tn(m,!0);const ft=Ih(m),jt=m.subTree;m.subTree=ft,O(jt,ft,f(jt.el),P(jt),m,_,A),W.el=ft.el,be===null&&w0(m,ft.el),te&&xt(te,_),(ct=W.props&&W.props.onVnodeUpdated)&&xt(()=>Ht(ct,fe,W,Ce),_)}else{let W;const{el:Z,props:te}=b,{bm:fe,m:Ce,parent:be,root:ct,type:ft}=m,jt=ps(b);tn(m,!1),fe&&Or(fe),!jt&&(W=te&&te.onVnodeBeforeMount)&&Ht(W,be,b),tn(m,!0);{ct.ce&&ct.ce._def.shadowRoot!==!1&&ct.ce._injectChildStyle(ft);const Ft=m.subTree=Ih(m);O(null,Ft,w,Q,m,_,A),b.el=Ft.el}if(Ce&&xt(Ce,_),!jt&&(W=te&&te.onVnodeMounted)){const Ft=b;xt(()=>Ht(W,be,Ft),_)}(b.shapeFlag&256||be&&ps(be.vnode)&&be.vnode.shapeFlag&256)&&m.a&&xt(m.a,_),m.isMounted=!0,b=w=Q=null}};m.scope.on();const $=m.effect=new hu(B);m.scope.off();const R=m.update=$.run.bind($),K=m.job=$.runIfDirty.bind($);K.i=m,K.id=m.uid,$.scheduler=()=>Na(K),tn(m,!0),R()},ce=(m,b,w)=>{b.component=m;const Q=m.vnode.props;m.vnode=b,m.next=null,r0(m,b.props,Q,w),h0(m,b.children,w),Ci(),Rh(m),Pi()},he=(m,b,w,Q,_,A,z,B,$=!1)=>{const R=m&&m.children,K=m?m.shapeFlag:0,W=b.children,{patchFlag:Z,shapeFlag:te}=b;if(Z>0){if(Z&128){$t(R,W,w,Q,_,A,z,B,$);return}else if(Z&256){Fe(R,W,w,Q,_,A,z,B,$);return}}te&8?(K&16&&He(R,_,A),W!==R&&h(w,W)):K&16?te&16?$t(R,W,w,Q,_,A,z,B,$):He(R,_,A,!0):(K&8&&h(w,""),te&16&&ae(W,w,Q,_,A,z,B,$))},Fe=(m,b,w,Q,_,A,z,B,$)=>{m=m||Tn,b=b||Tn;const R=m.length,K=b.length,W=Math.min(R,K);let Z;for(Z=0;Z<W;Z++){const te=b[Z]=$?$i(b[Z]):Jt(b[Z]);O(m[Z],te,w,null,_,A,z,B,$)}R>K?He(m,_,A,!0,!1,W):ae(b,w,Q,_,A,z,B,$,W)},$t=(m,b,w,Q,_,A,z,B,$)=>{let R=0;const K=b.length;let W=m.length-1,Z=K-1;for(;R<=W&&R<=Z;){const te=m[R],fe=b[R]=$?$i(b[R]):Jt(b[R]);if(Kn(te,fe))O(te,fe,w,null,_,A,z,B,$);else break;R++}for(;R<=W&&R<=Z;){const te=m[W],fe=b[Z]=$?$i(b[Z]):Jt(b[Z]);if(Kn(te,fe))O(te,fe,w,null,_,A,z,B,$);else break;W--,Z--}if(R>W){if(R<=Z){const te=Z+1,fe=te<K?b[te].el:Q;for(;R<=Z;)O(null,b[R]=$?$i(b[R]):Jt(b[R]),w,fe,_,A,z,B,$),R++}}else if(R>Z)for(;R<=W;)ye(m[R],_,A,!0),R++;else{const te=R,fe=R,Ce=new Map;for(R=fe;R<=Z;R++){const vt=b[R]=$?$i(b[R]):Jt(b[R]);vt.key!=null&&Ce.set(vt.key,R)}let be,ct=0;const ft=Z-fe+1;let jt=!1,Ft=0;const Gn=new Array(ft);for(R=0;R<ft;R++)Gn[R]=0;for(R=te;R<=W;R++){const vt=m[R];if(ct>=ft){ye(vt,_,A,!0);continue}let Ut;if(vt.key!=null)Ut=Ce.get(vt.key);else for(be=fe;be<=Z;be++)if(Gn[be-fe]===0&&Kn(vt,b[be])){Ut=be;break}Ut===void 0?ye(vt,_,A,!0):(Gn[Ut-fe]=R+1,Ut>=Ft?Ft=Ut:jt=!0,O(vt,b[Ut],w,null,_,A,z,B,$),ct++)}const Th=jt?d0(Gn):Tn;for(be=Th.length-1,R=ft-1;R>=0;R--){const vt=fe+R,Ut=b[vt],Ch=b[vt+1],Ph=vt+1<K?Ch.el||Ch.placeholder:Q;Gn[R]===0?O(null,Ut,w,Ph,_,A,z,B,$):jt&&(be<0||R!==Th[be]?$e(Ut,w,Ph,2):be--)}}},$e=(m,b,w,Q,_=null)=>{const{el:A,type:z,transition:B,children:$,shapeFlag:R}=m;if(R&6){$e(m.component.subTree,b,w,Q);return}if(R&128){m.suspense.move(b,w,Q);return}if(R&64){z.move(m,b,w,H);return}if(z===dt){n(A,b,w);for(let W=0;W<$.length;W++)$e($[W],b,w,Q);n(m.anchor,b,w);return}if(z===xr){T(m,b,w);return}if(Q!==2&&R&1&&B)if(Q===0)B.beforeEnter(A),n(A,b,w),xt(()=>B.enter(A),_);else{const{leave:W,delayLeave:Z,afterLeave:te}=B,fe=()=>{m.ctx.isUnmounted?s(A):n(A,b,w)},Ce=()=>{W(A,()=>{fe(),te&&te()})};Z?Z(A,fe,Ce):Ce()}else n(A,b,w)},ye=(m,b,w,Q=!1,_=!1)=>{const{type:A,props:z,ref:B,children:$,dynamicChildren:R,shapeFlag:K,patchFlag:W,dirs:Z,cacheIndex:te}=m;if(W===-2&&(_=!1),B!=null&&(Ci(),ds(B,null,w,m,!0),Pi()),te!=null&&(b.renderCache[te]=void 0),K&256){b.ctx.deactivate(m);return}const fe=K&1&&Z,Ce=!ps(m);let be;if(Ce&&(be=z&&z.onVnodeBeforeUnmount)&&Ht(be,b,m),K&6)Dt(m.component,w,Q);else{if(K&128){m.suspense.unmount(w,Q);return}fe&&en(m,null,b,"beforeUnmount"),K&64?m.type.remove(m,b,w,H,Q):R&&!R.hasOnce&&(A!==dt||W>0&&W&64)?He(R,b,w,!1,!0):(A===dt&&W&384||!_&&K&16)&&He($,b,w),Q&&Ue(m)}(Ce&&(be=z&&z.onVnodeUnmounted)||fe)&&xt(()=>{be&&Ht(be,b,m),fe&&en(m,null,b,"unmounted")},w)},Ue=m=>{const{type:b,el:w,anchor:Q,transition:_}=m;if(b===dt){ht(w,Q);return}if(b===xr){C(m);return}const A=()=>{s(w),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(m.shapeFlag&1&&_&&!_.persisted){const{leave:z,delayLeave:B}=_,$=()=>z(w,A);B?B(m.el,A,$):$()}else A()},ht=(m,b)=>{let w;for(;m!==b;)w=u(m),s(m),m=w;s(b)},Dt=(m,b,w)=>{const{bum:Q,scope:_,job:A,subTree:z,um:B,m:$,a:R,parent:K,slots:{__:W}}=m;zh($),zh(R),Q&&Or(Q),K&&ee(W)&&W.forEach(Z=>{K.renderCache[Z]=void 0}),_.stop(),A&&(A.flags|=8,ye(z,m,b,w)),B&&xt(B,b),xt(()=>{m.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},He=(m,b,w,Q=!1,_=!1,A=0)=>{for(let z=A;z<m.length;z++)ye(m[z],b,w,Q,_)},P=m=>{if(m.shapeFlag&6)return P(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const b=u(m.anchor||m.el),w=b&&b[Dm];return w?u(w):b};let F=!1;const L=(m,b,w)=>{m==null?b._vnode&&ye(b._vnode,null,null,!0):O(b._vnode||null,m,b,null,null,null,w),b._vnode=m,F||(F=!0,Rh(),_u(),F=!1)},H={p:O,um:ye,m:$e,r:Ue,mt:ve,mc:ae,pc:he,pbc:U,n:P,o:i};return{render:L,hydrate:void 0,createApp:n0(L)}}function Uo({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function tn({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function u0(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function Gu(i,e,t=!1){const n=i.children,s=e.children;if(ee(n)&&ee(s))for(let r=0;r<n.length;r++){const o=n[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=$i(s[r]),l.el=o.el),!t&&l.patchFlag!==-2&&Gu(o,l)),l.type===vo&&(l.el=o.el),l.type===Ni&&!l.el&&(l.el=o.el)}}function d0(i){const e=i.slice(),t=[0];let n,s,r,o,l;const a=i.length;for(n=0;n<a;n++){const c=i[n];if(c!==0){if(s=t[t.length-1],i[s]<c){e[n]=s,t.push(n);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,i[t[l]]<c?r=l+1:o=l;c<i[t[r]]&&(r>0&&(e[n]=t[r-1]),t[r]=n)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function Zu(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Zu(e)}function zh(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const p0=Symbol.for("v-scx"),g0=()=>It(p0);function br(i,e,t){return Ku(i,e,t)}function Ku(i,e,t=Se){const{immediate:n,deep:s,flush:r,once:o}=t,l=it({},t),a=e&&n||!e&&r!=="post";let c;if(Qs){if(r==="sync"){const p=g0();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!a){const p=()=>{};return p.stop=oi,p.resume=oi,p.pause=oi,p}}const h=Je;l.call=(p,g,O)=>ai(p,h,g,O);let f=!1;r==="post"?l.scheduler=p=>{xt(p,h&&h.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(p,g)=>{g?p():Na(p)}),l.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,h&&(p.id=h.uid,p.i=h))};const u=Rm(i,e,l);return Qs&&(c?c.push(u):a&&u()),u}function m0(i,e,t){const n=this.proxy,s=Ie(i)?i.includes(".")?Yu(n,i):()=>n[i]:i.bind(n,n);let r;ie(e)?r=e:(r=e.handler,t=e);const o=Ns(this),l=Ku(s,r.bind(n),t);return o(),l}function Yu(i,e){const t=e.split(".");return()=>{let n=i;for(let s=0;s<t.length&&n;s++)n=n[t[s]];return n}}const O0=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${_t(e)}Modifiers`]||i[`${Ki(e)}Modifiers`];function v0(i,e,...t){if(i.isUnmounted)return;const n=i.vnode.props||Se;let s=t;const r=e.startsWith("update:"),o=r&&O0(n,e.slice(7));o&&(o.trim&&(s=t.map(h=>Ie(h)?h.trim():h)),o.number&&(s=t.map(Pl)));let l,a=n[l=Lo(e)]||n[l=Lo(_t(e))];!a&&r&&(a=n[l=Lo(Ki(e))]),a&&ai(a,i,6,s);const c=n[l+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[l])return;i.emitted[l]=!0,ai(c,i,6,s)}}function Ju(i,e,t=!1){const n=e.emitsCache,s=n.get(i);if(s!==void 0)return s;const r=i.emits;let o={},l=!1;if(!ie(i)){const a=c=>{const h=Ju(c,e,!0);h&&(l=!0,it(o,h))};!t&&e.mixins.length&&e.mixins.forEach(a),i.extends&&a(i.extends),i.mixins&&i.mixins.forEach(a)}return!r&&!l?(Me(i)&&n.set(i,null),null):(ee(r)?r.forEach(a=>o[a]=null):it(o,r),Me(i)&&n.set(i,o),o)}function Oo(i,e){return!i||!lo(e)?!1:(e=e.slice(2).replace(/Once$/,""),me(i,e[0].toLowerCase()+e.slice(1))||me(i,Ki(e))||me(i,e))}function Ih(i){const{type:e,vnode:t,proxy:n,withProxy:s,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:h,props:f,data:u,setupState:p,ctx:g,inheritAttrs:O}=i,v=Ir(i);let x,y;try{if(t.shapeFlag&4){const C=s||n,M=C;x=Jt(c.call(M,C,h,f,p,u,g)),y=l}else{const C=e;x=Jt(C.length>1?C(f,{attrs:l,slots:o,emit:a}):C(f,null)),y=e.props?l:b0(l)}}catch(C){ms.length=0,go(C,i,1),x=Ve(Ni)}let T=x;if(y&&O!==!1){const C=Object.keys(y),{shapeFlag:M}=T;C.length&&M&7&&(r&&C.some(Ma)&&(y=x0(y,r)),T=Dn(T,y,!1,!0))}return t.dirs&&(T=Dn(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(t.dirs):t.dirs),t.transition&&ja(T,t.transition),x=T,Ir(v),x}const b0=i=>{let e;for(const t in i)(t==="class"||t==="style"||lo(t))&&((e||(e={}))[t]=i[t]);return e},x0=(i,e)=>{const t={};for(const n in i)(!Ma(n)||!(n.slice(9)in e))&&(t[n]=i[n]);return t};function y0(i,e,t){const{props:n,children:s,component:r}=i,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return n?Lh(n,o,c):!!o;if(a&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const u=h[f];if(o[u]!==n[u]&&!Oo(c,u))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?Lh(n,o,c):!0:!!o;return!1}function Lh(i,e,t){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(e[r]!==i[r]&&!Oo(t,r))return!0}return!1}function w0({vnode:i,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===i&&(n.el=i.el),n===i)(i=e.vnode).el=t,e=e.parent;else break}}const ed=i=>i.__isSuspense;function k0(i,e){e&&e.pendingBranch?ee(i)?e.effects.push(...i):e.effects.push(i):$m(i)}const dt=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),Ni=Symbol.for("v-cmt"),xr=Symbol.for("v-stc"),ms=[];let kt=null;function I(i=!1){ms.push(kt=i?null:[])}function S0(){ms.pop(),kt=ms[ms.length-1]||null}let Ps=1;function Wh(i,e=!1){Ps+=i,i<0&&kt&&e&&(kt.hasOnce=!0)}function td(i){return i.dynamicChildren=Ps>0?kt||Tn:null,S0(),Ps>0&&kt&&kt.push(i),i}function V(i,e,t,n,s,r){return td(d(i,e,t,n,s,r,!0))}function id(i,e,t,n,s){return td(Ve(i,e,t,n,s,!0))}function Wr(i){return i?i.__v_isVNode===!0:!1}function Kn(i,e){return i.type===e.type&&i.key===e.key}const nd=({key:i})=>i??null,yr=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?Ie(i)||tt(i)||ie(i)?{i:wt,r:i,k:e,f:!!t}:i:null);function d(i,e=null,t=null,n=0,s=null,r=i===dt?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&nd(e),ref:e&&yr(e),scopeId:Mu,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:wt};return l?(Ha(a,t),r&128&&i.normalize(a)):t&&(a.shapeFlag|=Ie(t)?8:16),Ps>0&&!o&&kt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&kt.push(a),a}const Ve=T0;function T0(i,e=null,t=null,n=0,s=null,r=!1){if((!i||i===Xm)&&(i=Ni),Wr(i)){const l=Dn(i,e,!0);return t&&Ha(l,t),Ps>0&&!r&&kt&&(l.shapeFlag&6?kt[kt.indexOf(i)]=l:kt.push(l)),l.patchFlag=-2,l}if(q0(i)&&(i=i.__vccOpts),e){e=C0(e);let{class:l,style:a}=e;l&&!Ie(l)&&(e.class=fn(l)),Me(a)&&(Va(a)&&!ee(a)&&(a=it({},a)),e.style=Da(a))}const o=Ie(i)?1:ed(i)?128:Bm(i)?64:Me(i)?4:ie(i)?2:0;return d(i,e,t,n,s,o,r,!0)}function C0(i){return i?Va(i)||Nu(i)?it({},i):i:null}function Dn(i,e,t=!1,n=!1){const{props:s,ref:r,patchFlag:o,children:l,transition:a}=i,c=e?P0(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:i.type,props:c,key:c&&nd(c),ref:e&&e.ref?t&&r?ee(r)?r.concat(yr(e)):[r,yr(e)]:yr(e):r,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:l,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==dt?o===-1?16:o|16:o,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:a,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Dn(i.ssContent),ssFallback:i.ssFallback&&Dn(i.ssFallback),placeholder:i.placeholder,el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return a&&n&&ja(h,a.clone(h)),h}function se(i=" ",e=0){return Ve(vo,null,i,e)}function Be(i,e){const t=Ve(xr,null,i);return t.staticCount=e,t}function je(i="",e=!1){return e?(I(),id(Ni,null,i)):Ve(Ni,null,i)}function Jt(i){return i==null||typeof i=="boolean"?Ve(Ni):ee(i)?Ve(dt,null,i.slice()):Wr(i)?$i(i):Ve(vo,null,String(i))}function $i(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Dn(i)}function Ha(i,e){let t=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(ee(e))t=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Ha(i,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!Nu(e)?e._ctx=wt:s===3&&wt&&(wt.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:wt},t=32):(e=String(e),n&64?(t=16,e=[se(e)]):t=8);i.children=e,i.shapeFlag|=t}function P0(...i){const e={};for(let t=0;t<i.length;t++){const n=i[t];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=fn([e.class,n.class]));else if(s==="style")e.style=Da([e.style,n.style]);else if(lo(s)){const r=e[s],o=n[s];o&&r!==o&&!(ee(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=n[s])}return e}function Ht(i,e,t,n=null){ai(i,e,7,[t,n])}const Q0=Lu();let A0=0;function _0(i,e,t){const n=i.type,s=(e?e.appContext:i.appContext)||Q0,r={uid:A0++,vnode:i,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fu(n,s),emitsOptions:Ju(n,s),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:n.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=v0.bind(null,r),i.ce&&i.ce(r),r}let Je=null;const R0=()=>Je||wt;let Vr,Bl;{const i=fo(),e=(t,n)=>{let s;return(s=i[t])||(s=i[t]=[]),s.push(n),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Vr=e("__VUE_INSTANCE_SETTERS__",t=>Je=t),Bl=e("__VUE_SSR_SETTERS__",t=>Qs=t)}const Ns=i=>{const e=Je;return Vr(i),i.scope.on(),()=>{i.scope.off(),Vr(e)}},Vh=()=>{Je&&Je.scope.off(),Vr(null)};function sd(i){return i.vnode.shapeFlag&4}let Qs=!1;function M0(i,e=!1,t=!1){e&&Bl(e);const{props:n,children:s}=i.vnode,r=sd(i);s0(i,n,r,e),a0(i,s,t||e);const o=r?E0(i,e):void 0;return e&&Bl(!1),o}function E0(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,Zm);const{setup:n}=t;if(n){Ci();const s=i.setupContext=n.length>1?D0(i):null,r=Ns(i),o=Vs(n,i,0,[i.props,s]),l=nu(o);if(Pi(),r(),(l||i.sp)&&!ps(i)&&Eu(i),l){if(o.then(Vh,Vh),e)return o.then(a=>{Nh(i,a)}).catch(a=>{go(a,i,0)});i.asyncDep=o}else Nh(i,o)}else rd(i)}function Nh(i,e,t){ie(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:Me(e)&&(i.setupState=Cu(e)),rd(i)}function rd(i,e,t){const n=i.type;i.render||(i.render=n.render||oi);{const s=Ns(i);Ci();try{Km(i)}finally{Pi(),s()}}}const $0={get(i,e){return Ye(i,"get",""),i[e]}};function D0(i){const e=t=>{i.exposed=t||{}};return{attrs:new Proxy(i.attrs,$0),slots:i.slots,emit:i.emit,expose:e}}function bo(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Cu(Sm(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in gs)return gs[t](i)},has(e,t){return t in e||t in gs}})):i.proxy}function B0(i,e=!0){return ie(i)?i.displayName||i.name:i.name||e&&i.__name}function q0(i){return ie(i)&&"__vccOpts"in i}const Bt=(i,e)=>Am(i,e,Qs);function od(i,e,t){const n=arguments.length;return n===2?Me(e)&&!ee(e)?Wr(e)?Ve(i,null,[e]):Ve(i,e):Ve(i,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Wr(t)&&(t=[t]),Ve(i,e,t))}const z0="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ql;const jh=typeof window<"u"&&window.trustedTypes;if(jh)try{ql=jh.createPolicy("vue",{createHTML:i=>i})}catch{}const ld=ql?i=>ql.createHTML(i):i=>i,I0="http://www.w3.org/2000/svg",L0="http://www.w3.org/1998/Math/MathML",bi=typeof document<"u"?document:null,Fh=bi&&bi.createElement("template"),W0={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,n)=>{const s=e==="svg"?bi.createElementNS(I0,i):e==="mathml"?bi.createElementNS(L0,i):t?bi.createElement(i,{is:t}):bi.createElement(i);return i==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:i=>bi.createTextNode(i),createComment:i=>bi.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>bi.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,n,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{Fh.innerHTML=ld(n==="svg"?`<svg>${i}</svg>`:n==="mathml"?`<math>${i}</math>`:i);const l=Fh.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},V0=Symbol("_vtc");function N0(i,e,t){const n=i[V0];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const Nr=Symbol("_vod"),ad=Symbol("_vsh"),Uh={beforeMount(i,{value:e},{transition:t}){i[Nr]=i.style.display==="none"?"":i.style.display,t&&e?t.beforeEnter(i):Yn(i,e)},mounted(i,{value:e},{transition:t}){t&&e&&t.enter(i)},updated(i,{value:e,oldValue:t},{transition:n}){!e!=!t&&(n?e?(n.beforeEnter(i),Yn(i,!0),n.enter(i)):n.leave(i,()=>{Yn(i,!1)}):Yn(i,e))},beforeUnmount(i,{value:e}){Yn(i,e)}};function Yn(i,e){i.style.display=e?i[Nr]:"none",i[ad]=!e}const j0=Symbol(""),F0=/(^|;)\s*display\s*:/;function U0(i,e,t){const n=i.style,s=Ie(t);let r=!1;if(t&&!s){if(e)if(Ie(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&wr(n,l,"")}else for(const o in e)t[o]==null&&wr(n,o,"");for(const o in t)o==="display"&&(r=!0),wr(n,o,t[o])}else if(s){if(e!==t){const o=n[j0];o&&(t+=";"+o),n.cssText=t,r=F0.test(t)}}else e&&i.removeAttribute("style");Nr in i&&(i[Nr]=r?n.display:"",i[ad]&&(n.display="none"))}const Hh=/\s*!important$/;function wr(i,e,t){if(ee(t))t.forEach(n=>wr(i,e,n));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const n=H0(i,e);Hh.test(t)?i.setProperty(Ki(n),t.replace(Hh,""),"important"):i[n]=t}}const Xh=["Webkit","Moz","ms"],Ho={};function H0(i,e){const t=Ho[e];if(t)return t;let n=_t(e);if(n!=="filter"&&n in i)return Ho[e]=n;n=co(n);for(let s=0;s<Xh.length;s++){const r=Xh[s]+n;if(r in i)return Ho[e]=r}return e}const Gh="http://www.w3.org/1999/xlink";function Zh(i,e,t,n,s,r=nm(e)){n&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(Gh,e.slice(6,e.length)):i.setAttributeNS(Gh,e,t):t==null||r&&!ou(t)?i.removeAttribute(e):i.setAttribute(e,r?"":Zi(t)?String(t):t)}function Kh(i,e,t,n,s){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?ld(t):t);return}const r=i.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?i.getAttribute("value")||"":i.value,a=t==null?i.type==="checkbox"?"on":"":String(t);(l!==a||!("_value"in i))&&(i.value=a),t==null&&i.removeAttribute(e),i._value=t;return}let o=!1;if(t===""||t==null){const l=typeof i[e];l==="boolean"?t=ou(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{i[e]=t}catch{}o&&i.removeAttribute(s||e)}function xn(i,e,t,n){i.addEventListener(e,t,n)}function X0(i,e,t,n){i.removeEventListener(e,t,n)}const Yh=Symbol("_vei");function G0(i,e,t,n,s=null){const r=i[Yh]||(i[Yh]={}),o=r[e];if(n&&o)o.value=n;else{const[l,a]=Z0(e);if(n){const c=r[e]=J0(n,s);xn(i,l,c,a)}else o&&(X0(i,l,o,a),r[e]=void 0)}}const Jh=/(?:Once|Passive|Capture)$/;function Z0(i){let e;if(Jh.test(i)){e={};let n;for(;n=i.match(Jh);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Ki(i.slice(2)),e]}let Xo=0;const K0=Promise.resolve(),Y0=()=>Xo||(K0.then(()=>Xo=0),Xo=Date.now());function J0(i,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;ai(eO(n,t.value),e,5,[n])};return t.value=i,t.attached=Y0(),t}function eO(i,e){if(ee(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ec=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,tO=(i,e,t,n,s,r)=>{const o=s==="svg";e==="class"?N0(i,n,o):e==="style"?U0(i,t,n):lo(e)?Ma(e)||G0(i,e,t,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iO(i,e,n,o))?(Kh(i,e,n),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zh(i,e,n,o,r,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!Ie(n))?Kh(i,_t(e),n,r,e):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),Zh(i,e,n,o))};function iO(i,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in i&&ec(e)&&ie(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=i.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ec(e)&&Ie(t)?!1:e in i}const tc=i=>{const e=i.props["onUpdate:modelValue"]||!1;return ee(e)?t=>Or(e,t):e};function nO(i){i.target.composing=!0}function ic(i){const e=i.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Go=Symbol("_assign"),os={created(i,{modifiers:{lazy:e,trim:t,number:n}},s){i[Go]=tc(s);const r=n||s.props&&s.props.type==="number";xn(i,e?"change":"input",o=>{if(o.target.composing)return;let l=i.value;t&&(l=l.trim()),r&&(l=Pl(l)),i[Go](l)}),t&&xn(i,"change",()=>{i.value=i.value.trim()}),e||(xn(i,"compositionstart",nO),xn(i,"compositionend",ic),xn(i,"change",ic))},mounted(i,{value:e}){i.value=e??""},beforeUpdate(i,{value:e,oldValue:t,modifiers:{lazy:n,trim:s,number:r}},o){if(i[Go]=tc(o),i.composing)return;const l=(r||i.type==="number")&&!/^0\d/.test(i.value)?Pl(i.value):i.value,a=e??"";l!==a&&(document.activeElement===i&&i.type!=="range"&&(n&&e===t||s&&i.value.trim()===a)||(i.value=a))}},sO=["ctrl","shift","alt","meta"],rO={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,e)=>sO.some(t=>i[`${t}Key`]&&!e.includes(t))},oO=(i,e)=>{const t=i._withMods||(i._withMods={}),n=e.join(".");return t[n]||(t[n]=(s,...r)=>{for(let o=0;o<e.length;o++){const l=rO[e[o]];if(l&&l(s,e))return}return i(s,...r)})},lO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},aO=(i,e)=>{const t=i._withKeys||(i._withKeys={}),n=e.join(".");return t[n]||(t[n]=s=>{if(!("key"in s))return;const r=Ki(s.key);if(e.some(o=>o===r||lO[o]===r))return i(s)})},hO=it({patchProp:tO},W0);let nc;function cO(){return nc||(nc=c0(hO))}const fO=(...i)=>{const e=cO().createApp(...i),{mount:t}=e;return e.mount=n=>{const s=dO(n);if(!s)return;const r=e._component;!ie(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=t(s,!1,uO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function uO(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function dO(i){return Ie(i)?document.querySelector(i):i}const Yi=(i,e)=>{const t=i.__vccOpts||i;for(const[n,s]of e)t[n]=s;return t},pO={};function gO(i,e){const t=Un("RouterView");return I(),id(t)}const mO=Yi(pO,[["render",gO]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const yn=typeof document<"u";function hd(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function OO(i){return i.__esModule||i[Symbol.toStringTag]==="Module"||i.default&&hd(i.default)}const pe=Object.assign;function Zo(i,e){const t={};for(const n in e){const s=e[n];t[n]=Lt(s)?s.map(i):i(s)}return t}const Os=()=>{},Lt=Array.isArray,cd=/#/g,vO=/&/g,bO=/\//g,xO=/=/g,yO=/\?/g,fd=/\+/g,wO=/%5B/g,kO=/%5D/g,ud=/%5E/g,SO=/%60/g,dd=/%7B/g,TO=/%7C/g,pd=/%7D/g,CO=/%20/g;function Xa(i){return encodeURI(""+i).replace(TO,"|").replace(wO,"[").replace(kO,"]")}function PO(i){return Xa(i).replace(dd,"{").replace(pd,"}").replace(ud,"^")}function zl(i){return Xa(i).replace(fd,"%2B").replace(CO,"+").replace(cd,"%23").replace(vO,"%26").replace(SO,"`").replace(dd,"{").replace(pd,"}").replace(ud,"^")}function QO(i){return zl(i).replace(xO,"%3D")}function AO(i){return Xa(i).replace(cd,"%23").replace(yO,"%3F")}function _O(i){return i==null?"":AO(i).replace(bO,"%2F")}function As(i){try{return decodeURIComponent(""+i)}catch{}return""+i}const RO=/\/$/,MO=i=>i.replace(RO,"");function Ko(i,e,t="/"){let n,s={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(n=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),s=i(r)),l>-1&&(n=n||e.slice(0,l),o=e.slice(l,e.length)),n=BO(n??e,t),{fullPath:n+(r&&"?")+r+o,path:n,query:s,hash:As(o)}}function EO(i,e){const t=e.query?i(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function sc(i,e){return!e||!i.toLowerCase().startsWith(e.toLowerCase())?i:i.slice(e.length)||"/"}function $O(i,e,t){const n=e.matched.length-1,s=t.matched.length-1;return n>-1&&n===s&&Bn(e.matched[n],t.matched[s])&&gd(e.params,t.params)&&i(e.query)===i(t.query)&&e.hash===t.hash}function Bn(i,e){return(i.aliasOf||i)===(e.aliasOf||e)}function gd(i,e){if(Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(!DO(i[t],e[t]))return!1;return!0}function DO(i,e){return Lt(i)?rc(i,e):Lt(e)?rc(e,i):i===e}function rc(i,e){return Lt(e)?i.length===e.length&&i.every((t,n)=>t===e[n]):i.length===1&&i[0]===e}function BO(i,e){if(i.startsWith("/"))return i;if(!i)return e;const t=e.split("/"),n=i.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let r=t.length-1,o,l;for(o=0;o<n.length;o++)if(l=n[o],l!==".")if(l==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const Mi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _s;(function(i){i.pop="pop",i.push="push"})(_s||(_s={}));var vs;(function(i){i.back="back",i.forward="forward",i.unknown=""})(vs||(vs={}));function qO(i){if(!i)if(yn){const e=document.querySelector("base");i=e&&e.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),MO(i)}const zO=/^[^#]+#/;function IO(i,e){return i.replace(zO,"#")+e}function LO(i,e){const t=document.documentElement.getBoundingClientRect(),n=i.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const xo=()=>({left:window.scrollX,top:window.scrollY});function WO(i){let e;if("el"in i){const t=i.el,n=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=LO(s,i)}else e=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function oc(i,e){return(history.state?history.state.position-e:-1)+i}const Il=new Map;function VO(i,e){Il.set(i,e)}function NO(i){const e=Il.get(i);return Il.delete(i),e}let jO=()=>location.protocol+"//"+location.host;function md(i,e){const{pathname:t,search:n,hash:s}=e,r=i.indexOf("#");if(r>-1){let l=s.includes(i.slice(r))?i.slice(r).length:1,a=s.slice(l);return a[0]!=="/"&&(a="/"+a),sc(a,"")}return sc(t,i)+n+s}function FO(i,e,t,n){let s=[],r=[],o=null;const l=({state:u})=>{const p=md(i,location),g=t.value,O=e.value;let v=0;if(u){if(t.value=p,e.value=u,o&&o===g){o=null;return}v=O?u.position-O.position:0}else n(p);s.forEach(x=>{x(t.value,g,{delta:v,type:_s.pop,direction:v?v>0?vs.forward:vs.back:vs.unknown})})};function a(){o=t.value}function c(u){s.push(u);const p=()=>{const g=s.indexOf(u);g>-1&&s.splice(g,1)};return r.push(p),p}function h(){const{history:u}=window;u.state&&u.replaceState(pe({},u.state,{scroll:xo()}),"")}function f(){for(const u of r)u();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function lc(i,e,t,n=!1,s=!1){return{back:i,current:e,forward:t,replaced:n,position:window.history.length,scroll:s?xo():null}}function UO(i){const{history:e,location:t}=window,n={value:md(i,t)},s={value:e.state};s.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,h){const f=i.indexOf("#"),u=f>-1?(t.host&&document.querySelector("base")?i:i.slice(f))+a:jO()+i+a;try{e[h?"replaceState":"pushState"](c,"",u),s.value=c}catch(p){console.error(p),t[h?"replace":"assign"](u)}}function o(a,c){const h=pe({},e.state,lc(s.value.back,a,s.value.forward,!0),c,{position:s.value.position});r(a,h,!0),n.value=a}function l(a,c){const h=pe({},s.value,e.state,{forward:a,scroll:xo()});r(h.current,h,!0);const f=pe({},lc(n.value,a,null),{position:h.position+1},c);r(a,f,!1),n.value=a}return{location:n,state:s,push:l,replace:o}}function HO(i){i=qO(i);const e=UO(i),t=FO(i,e.state,e.location,e.replace);function n(r,o=!0){o||t.pauseListeners(),history.go(r)}const s=pe({location:"",base:i,go:n,createHref:IO.bind(null,i)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function XO(i){return typeof i=="string"||i&&typeof i=="object"}function Od(i){return typeof i=="string"||typeof i=="symbol"}const vd=Symbol("");var ac;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(ac||(ac={}));function qn(i,e){return pe(new Error,{type:i,[vd]:!0},e)}function di(i,e){return i instanceof Error&&vd in i&&(e==null||!!(i.type&e))}const hc="[^/]+?",GO={sensitive:!1,strict:!1,start:!0,end:!0},ZO=/[.+*?^${}()[\]/\\]/g;function KO(i,e){const t=pe({},GO,e),n=[];let s=t.start?"^":"";const r=[];for(const c of i){const h=c.length?[]:[90];t.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const u=c[f];let p=40+(t.sensitive?.25:0);if(u.type===0)f||(s+="/"),s+=u.value.replace(ZO,"\\$&"),p+=40;else if(u.type===1){const{value:g,repeatable:O,optional:v,regexp:x}=u;r.push({name:g,repeatable:O,optional:v});const y=x||hc;if(y!==hc){p+=10;try{new RegExp(`(${y})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+C.message)}}let T=O?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(T=v&&c.length<2?`(?:/${T})`:"/"+T),v&&(T+="?"),s+=T,p+=20,v&&(p+=-8),O&&(p+=-20),y===".*"&&(p+=-50)}h.push(p)}n.push(h)}if(t.strict&&t.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function l(c){const h=c.match(o),f={};if(!h)return null;for(let u=1;u<h.length;u++){const p=h[u]||"",g=r[u-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function a(c){let h="",f=!1;for(const u of i){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const p of u)if(p.type===0)h+=p.value;else if(p.type===1){const{value:g,repeatable:O,optional:v}=p,x=g in c?c[g]:"";if(Lt(x)&&!O)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=Lt(x)?x.join("/"):x;if(!y)if(v)u.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);h+=y}}return h||"/"}return{re:o,score:n,keys:r,parse:l,stringify:a}}function YO(i,e){let t=0;for(;t<i.length&&t<e.length;){const n=e[t]-i[t];if(n)return n;t++}return i.length<e.length?i.length===1&&i[0]===80?-1:1:i.length>e.length?e.length===1&&e[0]===80?1:-1:0}function bd(i,e){let t=0;const n=i.score,s=e.score;for(;t<n.length&&t<s.length;){const r=YO(n[t],s[t]);if(r)return r;t++}if(Math.abs(s.length-n.length)===1){if(cc(n))return 1;if(cc(s))return-1}return s.length-n.length}function cc(i){const e=i[i.length-1];return i.length>0&&e[e.length-1]<0}const JO={type:0,value:""},e1=/[a-zA-Z0-9_]/;function t1(i){if(!i)return[[]];if(i==="/")return[[JO]];if(!i.startsWith("/"))throw new Error(`Invalid path "${i}"`);function e(p){throw new Error(`ERR (${t})/"${c}": ${p}`)}let t=0,n=t;const s=[];let r;function o(){r&&s.push(r),r=[]}let l=0,a,c="",h="";function f(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:h,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function u(){c+=a}for(;l<i.length;){if(a=i[l++],a==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:a==="/"?(c&&f(),o()):a===":"?(f(),t=1):u();break;case 4:u(),t=n;break;case 1:a==="("?t=2:e1.test(a)?u():(f(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+a:t=3:h+=a;break;case 3:f(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function i1(i,e,t){const n=KO(t1(i.path),t),s=pe(n,{record:i,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function n1(i,e){const t=[],n=new Map;e=pc({strict:!1,end:!0,sensitive:!1},e);function s(f){return n.get(f)}function r(f,u,p){const g=!p,O=uc(f);O.aliasOf=p&&p.record;const v=pc(e,f),x=[O];if("alias"in f){const C=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of C)x.push(uc(pe({},O,{components:p?p.record.components:O.components,path:M,aliasOf:p?p.record:O})))}let y,T;for(const C of x){const{path:M}=C;if(u&&M[0]!=="/"){const N=u.record.path,D=N[N.length-1]==="/"?"":"/";C.path=u.record.path+(M&&D+M)}if(y=i1(C,u,v),p?p.alias.push(y):(T=T||y,T!==y&&T.alias.push(y),g&&f.name&&!dc(y)&&o(f.name)),xd(y)&&a(y),O.children){const N=O.children;for(let D=0;D<N.length;D++)r(N[D],y,p&&p.children[D])}p=p||y}return T?()=>{o(T)}:Os}function o(f){if(Od(f)){const u=n.get(f);u&&(n.delete(f),t.splice(t.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=t.indexOf(f);u>-1&&(t.splice(u,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return t}function a(f){const u=o1(f,t);t.splice(u,0,f),f.record.name&&!dc(f)&&n.set(f.record.name,f)}function c(f,u){let p,g={},O,v;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw qn(1,{location:f});v=p.record.name,g=pe(fc(u.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&fc(f.params,p.keys.map(T=>T.name))),O=p.stringify(g)}else if(f.path!=null)O=f.path,p=t.find(T=>T.re.test(O)),p&&(g=p.parse(O),v=p.record.name);else{if(p=u.name?n.get(u.name):t.find(T=>T.re.test(u.path)),!p)throw qn(1,{location:f,currentLocation:u});v=p.record.name,g=pe({},u.params,f.params),O=p.stringify(g)}const x=[];let y=p;for(;y;)x.unshift(y.record),y=y.parent;return{name:v,path:O,params:g,matched:x,meta:r1(x)}}i.forEach(f=>r(f));function h(){t.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:l,getRecordMatcher:s}}function fc(i,e){const t={};for(const n of e)n in i&&(t[n]=i[n]);return t}function uc(i){const e={path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:i.aliasOf,beforeEnter:i.beforeEnter,props:s1(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||null:i.component&&{default:i.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function s1(i){const e={},t=i.props||!1;if("component"in i)e.default=t;else for(const n in i.components)e[n]=typeof t=="object"?t[n]:t;return e}function dc(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function r1(i){return i.reduce((e,t)=>pe(e,t.meta),{})}function pc(i,e){const t={};for(const n in i)t[n]=n in e?e[n]:i[n];return t}function o1(i,e){let t=0,n=e.length;for(;t!==n;){const r=t+n>>1;bd(i,e[r])<0?n=r:t=r+1}const s=l1(i);return s&&(n=e.lastIndexOf(s,n-1)),n}function l1(i){let e=i;for(;e=e.parent;)if(xd(e)&&bd(i,e)===0)return e}function xd({record:i}){return!!(i.name||i.components&&Object.keys(i.components).length||i.redirect)}function a1(i){const e={};if(i===""||i==="?")return e;const n=(i[0]==="?"?i.slice(1):i).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(fd," "),o=r.indexOf("="),l=As(o<0?r:r.slice(0,o)),a=o<0?null:As(r.slice(o+1));if(l in e){let c=e[l];Lt(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function gc(i){let e="";for(let t in i){const n=i[t];if(t=QO(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Lt(n)?n.map(r=>r&&zl(r)):[n&&zl(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function h1(i){const e={};for(const t in i){const n=i[t];n!==void 0&&(e[t]=Lt(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const c1=Symbol(""),mc=Symbol(""),yo=Symbol(""),Ga=Symbol(""),Ll=Symbol("");function Jn(){let i=[];function e(n){return i.push(n),()=>{const s=i.indexOf(n);s>-1&&i.splice(s,1)}}function t(){i=[]}return{add:e,list:()=>i.slice(),reset:t}}function Di(i,e,t,n,s,r=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((l,a)=>{const c=u=>{u===!1?a(qn(4,{from:t,to:e})):u instanceof Error?a(u):XO(u)?a(qn(2,{from:e,to:u})):(o&&n.enterCallbacks[s]===o&&typeof u=="function"&&o.push(u),l())},h=r(()=>i.call(n&&n.instances[s],e,t,c));let f=Promise.resolve(h);i.length<3&&(f=f.then(c)),f.catch(u=>a(u))})}function Yo(i,e,t,n,s=r=>r()){const r=[];for(const o of i)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(hd(a)){const h=(a.__vccOpts||a)[e];h&&r.push(Di(h,t,n,o,l,s))}else{let c=a();r.push(()=>c.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=OO(h)?h.default:h;o.mods[l]=h,o.components[l]=f;const p=(f.__vccOpts||f)[e];return p&&Di(p,t,n,o,l,s)()}))}}return r}function Oc(i){const e=It(yo),t=It(Ga),n=Bt(()=>{const a=Pt(i.to);return e.resolve(a)}),s=Bt(()=>{const{matched:a}=n.value,{length:c}=a,h=a[c-1],f=t.matched;if(!h||!f.length)return-1;const u=f.findIndex(Bn.bind(null,h));if(u>-1)return u;const p=vc(a[c-2]);return c>1&&vc(h)===p&&f[f.length-1].path!==p?f.findIndex(Bn.bind(null,a[c-2])):u}),r=Bt(()=>s.value>-1&&g1(t.params,n.value.params)),o=Bt(()=>s.value>-1&&s.value===t.matched.length-1&&gd(t.params,n.value.params));function l(a={}){if(p1(a)){const c=e[Pt(i.replace)?"replace":"push"](Pt(i.to)).catch(Os);return i.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Bt(()=>n.value.href),isActive:r,isExactActive:o,navigate:l}}function f1(i){return i.length===1?i[0]:i}const u1=Ai({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Oc,setup(i,{slots:e}){const t=po(Oc(i)),{options:n}=It(yo),s=Bt(()=>({[bc(i.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[bc(i.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&f1(e.default(t));return i.custom?r:od("a",{"aria-current":t.isExactActive?i.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},r)}}}),d1=u1;function p1(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const e=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return i.preventDefault&&i.preventDefault(),!0}}function g1(i,e){for(const t in e){const n=e[t],s=i[t];if(typeof n=="string"){if(n!==s)return!1}else if(!Lt(s)||s.length!==n.length||n.some((r,o)=>r!==s[o]))return!1}return!0}function vc(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const bc=(i,e,t)=>i??e??t,m1=Ai({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(i,{attrs:e,slots:t}){const n=It(Ll),s=Bt(()=>i.route||n.value),r=It(mc,0),o=Bt(()=>{let c=Pt(r);const{matched:h}=s.value;let f;for(;(f=h[c])&&!f.components;)c++;return c}),l=Bt(()=>s.value.matched[o.value]);vr(mc,Bt(()=>o.value+1)),vr(c1,l),vr(Ll,s);const a=J();return br(()=>[a.value,l.value,i.name],([c,h,f],[u,p,g])=>{h&&(h.instances[f]=c,p&&p!==h&&c&&c===u&&(h.leaveGuards.size||(h.leaveGuards=p.leaveGuards),h.updateGuards.size||(h.updateGuards=p.updateGuards))),c&&h&&(!p||!Bn(h,p)||!u)&&(h.enterCallbacks[f]||[]).forEach(O=>O(c))},{flush:"post"}),()=>{const c=s.value,h=i.name,f=l.value,u=f&&f.components[h];if(!u)return xc(t.default,{Component:u,route:c});const p=f.props[h],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=od(u,pe({},g,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[h]=null)},ref:a}));return xc(t.default,{Component:v,route:c})||v}}});function xc(i,e){if(!i)return null;const t=i(e);return t.length===1?t[0]:t}const O1=m1;function v1(i){const e=n1(i.routes,i),t=i.parseQuery||a1,n=i.stringifyQuery||gc,s=i.history,r=Jn(),o=Jn(),l=Jn(),a=Tm(Mi);let c=Mi;yn&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Zo.bind(null,P=>""+P),f=Zo.bind(null,_O),u=Zo.bind(null,As);function p(P,F){let L,H;return Od(P)?(L=e.getRecordMatcher(P),H=F):H=P,e.addRoute(H,L)}function g(P){const F=e.getRecordMatcher(P);F&&e.removeRoute(F)}function O(){return e.getRoutes().map(P=>P.record)}function v(P){return!!e.getRecordMatcher(P)}function x(P,F){if(F=pe({},F||a.value),typeof P=="string"){const w=Ko(t,P,F.path),Q=e.resolve({path:w.path},F),_=s.createHref(w.fullPath);return pe(w,Q,{params:u(Q.params),hash:As(w.hash),redirectedFrom:void 0,href:_})}let L;if(P.path!=null)L=pe({},P,{path:Ko(t,P.path,F.path).path});else{const w=pe({},P.params);for(const Q in w)w[Q]==null&&delete w[Q];L=pe({},P,{params:f(w)}),F.params=f(F.params)}const H=e.resolve(L,F),we=P.hash||"";H.params=h(u(H.params));const m=EO(n,pe({},P,{hash:PO(we),path:H.path})),b=s.createHref(m);return pe({fullPath:m,hash:we,query:n===gc?h1(P.query):P.query||{}},H,{redirectedFrom:void 0,href:b})}function y(P){return typeof P=="string"?Ko(t,P,a.value.path):pe({},P)}function T(P,F){if(c!==P)return qn(8,{from:F,to:P})}function C(P){return D(P)}function M(P){return C(pe(y(P),{replace:!0}))}function N(P){const F=P.matched[P.matched.length-1];if(F&&F.redirect){const{redirect:L}=F;let H=typeof L=="function"?L(P):L;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=y(H):{path:H},H.params={}),pe({query:P.query,hash:P.hash,params:H.path!=null?{}:P.params},H)}}function D(P,F){const L=c=x(P),H=a.value,we=P.state,m=P.force,b=P.replace===!0,w=N(L);if(w)return D(pe(y(w),{state:typeof w=="object"?pe({},we,w.state):we,force:m,replace:b}),F||L);const Q=L;Q.redirectedFrom=F;let _;return!m&&$O(n,H,L)&&(_=qn(16,{to:Q,from:H}),$e(H,H,!0,!1)),(_?Promise.resolve(_):U(Q,H)).catch(A=>di(A)?di(A,2)?A:$t(A):he(A,Q,H)).then(A=>{if(A){if(di(A,2))return D(pe({replace:b},y(A.to),{state:typeof A.to=="object"?pe({},we,A.to.state):we,force:m}),F||Q)}else A=G(Q,H,!0,b,we);return k(Q,H,A),A})}function ae(P,F){const L=T(P,F);return L?Promise.reject(L):Promise.resolve()}function oe(P){const F=ht.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(P):P()}function U(P,F){let L;const[H,we,m]=b1(P,F);L=Yo(H.reverse(),"beforeRouteLeave",P,F);for(const w of H)w.leaveGuards.forEach(Q=>{L.push(Di(Q,P,F))});const b=ae.bind(null,P,F);return L.push(b),He(L).then(()=>{L=[];for(const w of r.list())L.push(Di(w,P,F));return L.push(b),He(L)}).then(()=>{L=Yo(we,"beforeRouteUpdate",P,F);for(const w of we)w.updateGuards.forEach(Q=>{L.push(Di(Q,P,F))});return L.push(b),He(L)}).then(()=>{L=[];for(const w of m)if(w.beforeEnter)if(Lt(w.beforeEnter))for(const Q of w.beforeEnter)L.push(Di(Q,P,F));else L.push(Di(w.beforeEnter,P,F));return L.push(b),He(L)}).then(()=>(P.matched.forEach(w=>w.enterCallbacks={}),L=Yo(m,"beforeRouteEnter",P,F,oe),L.push(b),He(L))).then(()=>{L=[];for(const w of o.list())L.push(Di(w,P,F));return L.push(b),He(L)}).catch(w=>di(w,8)?w:Promise.reject(w))}function k(P,F,L){l.list().forEach(H=>oe(()=>H(P,F,L)))}function G(P,F,L,H,we){const m=T(P,F);if(m)return m;const b=F===Mi,w=yn?history.state:{};L&&(H||b?s.replace(P.fullPath,pe({scroll:b&&w&&w.scroll},we)):s.push(P.fullPath,we)),a.value=P,$e(P,F,L,b),$t()}let ne;function ve(){ne||(ne=s.listen((P,F,L)=>{if(!Dt.listening)return;const H=x(P),we=N(H);if(we){D(pe(we,{replace:!0,force:!0}),H).catch(Os);return}c=H;const m=a.value;yn&&VO(oc(m.fullPath,L.delta),xo()),U(H,m).catch(b=>di(b,12)?b:di(b,2)?(D(pe(y(b.to),{force:!0}),H).then(w=>{di(w,20)&&!L.delta&&L.type===_s.pop&&s.go(-1,!1)}).catch(Os),Promise.reject()):(L.delta&&s.go(-L.delta,!1),he(b,H,m))).then(b=>{b=b||G(H,m,!1),b&&(L.delta&&!di(b,8)?s.go(-L.delta,!1):L.type===_s.pop&&di(b,20)&&s.go(-1,!1)),k(H,m,b)}).catch(Os)}))}let _e=Jn(),xe=Jn(),ce;function he(P,F,L){$t(P);const H=xe.list();return H.length?H.forEach(we=>we(P,F,L)):console.error(P),Promise.reject(P)}function Fe(){return ce&&a.value!==Mi?Promise.resolve():new Promise((P,F)=>{_e.add([P,F])})}function $t(P){return ce||(ce=!P,ve(),_e.list().forEach(([F,L])=>P?L(P):F()),_e.reset()),P}function $e(P,F,L,H){const{scrollBehavior:we}=i;if(!yn||!we)return Promise.resolve();const m=!L&&NO(oc(P.fullPath,0))||(H||!L)&&history.state&&history.state.scroll||null;return Qu().then(()=>we(P,F,m)).then(b=>b&&WO(b)).catch(b=>he(b,P,F))}const ye=P=>s.go(P);let Ue;const ht=new Set,Dt={currentRoute:a,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:O,resolve:x,options:i,push:C,replace:M,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:xe.add,isReady:Fe,install(P){const F=this;P.component("RouterLink",d1),P.component("RouterView",O1),P.config.globalProperties.$router=F,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Pt(a)}),yn&&!Ue&&a.value===Mi&&(Ue=!0,C(s.location).catch(we=>{}));const L={};for(const we in Mi)Object.defineProperty(L,we,{get:()=>a.value[we],enumerable:!0});P.provide(yo,F),P.provide(Ga,ku(L)),P.provide(Ll,a);const H=P.unmount;ht.add(P),P.unmount=function(){ht.delete(P),ht.size<1&&(c=Mi,ne&&ne(),ne=null,a.value=Mi,Ue=!1,ce=!1),H()}}};function He(P){return P.reduce((F,L)=>F.then(()=>oe(L)),Promise.resolve())}return Dt}function b1(i,e){const t=[],n=[],s=[],r=Math.max(e.matched.length,i.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(i.matched.find(c=>Bn(c,l))?n.push(l):t.push(l));const a=i.matched[o];a&&(e.matched.find(c=>Bn(c,a))||s.push(a))}return[t,n,s]}function wo(){return It(yo)}function x1(i){return It(Ga)}const ko="https://1k4sjt-ip-190-101-201-29.tunnelmole.net";async function Za(){const i=sessionStorage.getItem("ltik");if(!i)throw new Error("Token LTI (ltik) no disponible");return await(await fetch(`${ko}/info/user`,{method:"GET",headers:{skip_zrok_interstitial:"any",Authorization:`Bearer ${i}`}})).json()}async function js(){const i=sessionStorage.getItem("ltik");if(!i)throw new Error("Token LTI (ltik) no disponible");return await(await fetch(`${ko}/info/course`,{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json()}async function yd(){const i=sessionStorage.getItem("ltik");if(!i)throw new Error("Token LTI (ltik) no disponible");return await(await fetch(`${ko}/info/platform`,{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json()}async function y1(){const i=sessionStorage.getItem("ltik");if(!i)throw new Error("Token LTI (ltik) no disponible");return await(await fetch(`${ko}/info/assignment`,{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json()}const wd="https://edurunbackend.loca.lt/lti";async function w1(i){return await fetch(`${wd}/check_user/${i}`).then(t=>t.json())}async function k1(i,e,t){const n={usuario:{id_lms:i.userId,nombre:i.name?i.name:null},curso:{nombre:e.title,etiqueta:e.label,id_curso_lms:e.id,id_plataforma:0},plataforma:{guid:t.guid,nombre:t.name,version:t.version,family_code:t.product_family_code}};return await fetch(`${wd}/register_instance/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}const S1=[{url:"http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor",rol:"docente"},{url:"http://purl.imsglobal.org/vocab/lis/v2/membership#Learner",rol:"estudiante"}];function kd(i){for(const e of i){const t=S1.find(n=>n.url===e);if(t)return t.rol}return null}const T1={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},C1={class:"relative flex min-h-screen flex-col"},P1={class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},Q1={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},A1={class:"flex h-20 items-center justify-between"},_1={class:"hidden md:block"},R1={class:"hidden md:block w-px h-6 bg-white/10 mx-4"},M1={class:"flex flex-grow items-center justify-center px-4 py-16"},E1={class:"mx-auto max-w-4xl w-full"},$1={class:"space-y-8 transform transition-all duration-500 ease-in-out"},D1={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},B1={class:"p-8"},q1={key:0,class:"rounded-xl border border-red-500/30 bg-gradient-to-br from-red-900/40 to-red-800/20 p-6 backdrop-blur-sm"},z1={class:"flex items-start gap-4"},I1={class:"mt-1 text-sm text-red-200"},L1={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W1={class:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/50 to-slate-900/50 p-6 border border-white/5 hover:border-sky-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-sky-500/20"},V1={class:"relative"},N1={key:0,class:"animate-pulse"},j1={key:1,class:"text-2xl font-bold text-white break-all"},F1={class:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-800/50 to-purple-900/50 p-6 border border-white/5 hover:border-purple-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/20"},U1={class:"relative"},H1={key:0,class:"animate-pulse"},X1={key:1,class:"flex items-center gap-2"},G1={class:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"},Z1={class:"mt-8 pt-6 border-t border-white/10"},K1={class:"flex items-center justify-between"},Y1={class:"flex items-center gap-2 text-sm text-slate-400"},J1={key:0},ev={key:1},tv={class:"flex items-center gap-2 text-sm text-slate-400"},iv=Ai({__name:"Home",setup(i){const e=wo(),t=J(!0),n=J(null),s=J(null),r=J(null),o=J(null),l=J(null),a=()=>{o.value==="docente"?e.push({name:"tareas-docente"}):o.value==="estudiante"?e.push({name:"tareas-estudiante"}):e.push({name:"tareas"})};return Fn(async()=>{console.log("Cargando información del usuario y curso...");const h=new URLSearchParams(window.location.search).get("ltik");h&&sessionStorage.setItem("ltik",h);try{n.value=await Za(),s.value=await js(),r.value=await yd(),o.value=kd(n.value.roles)}catch(f){console.error(f),l.value="No se pudo cargar tu información."}finally{t.value=!1}try{if(n.value&&s.value&&r.value){if(sessionStorage.getItem("instanceRegistered")==="true"&&sessionStorage.getItem("lastRegistration")===s.value.id&&sessionStorage.getItem("userId")===n.value.userId){console.log("La instancia ya fue registrada previamente, no se registra de nuevo.");return}await k1(n.value,s.value,r.value),console.log("Instancia registrada exitosamente"),sessionStorage.setItem("instanceRegistered","true"),sessionStorage.setItem("lastRegistration",s.value.id),sessionStorage.setItem("userId",n.value.userId)}}catch(f){console.error("Error al registrar la instancia:",f)}}),(c,h)=>{const f=Un("RouterLink");return I(),V("div",T1,[h[17]||(h[17]=d("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[d("div",{class:"absolute top-20 left-10 w-72 h-72 bg-sky-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})],-1)),d("div",C1,[d("header",P1,[d("div",Q1,[d("div",A1,[h[2]||(h[2]=Be('<div class="flex items-center gap-3" data-v-2f4472d5><div class="bg-gradient-to-br from-sky-400 to-blue-600 p-2 rounded-xl shadow-lg" data-v-2f4472d5><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2f4472d5><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" data-v-2f4472d5></path></svg></div><span class="text-3xl font-bold bg-gradient-to-r from-sky-400 to-blue-500 bg-clip-text text-transparent" data-v-2f4472d5> Edurun </span></div>',1)),d("nav",_1,[d("div",{class:"flex items-center space-x-2"},[d("button",{onClick:a,class:"rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105 cursor-pointer"},h[0]||(h[0]=[d("span",{class:"flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),se(" Tareas ")],-1)]))]),d("div",R1,[Ve(f,{to:"/testendpoint",class:"rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105"},{default:jn(()=>h[1]||(h[1]=[d("span",{class:"flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),se(" testEndpoint ")],-1)])),_:1,__:[1]})])])])])]),d("main",M1,[d("div",E1,[d("div",$1,[h[15]||(h[15]=Be('<div class="text-center space-y-4" data-v-2f4472d5><div class="inline-block" data-v-2f4472d5><h1 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold" data-v-2f4472d5><span class="block text-white drop-shadow-lg" data-v-2f4472d5>Bienvenido a</span><span class="block mt-2 bg-gradient-to-r from-sky-400 via-blue-500 to-purple-600 bg-clip-text text-transparent animate-gradient" data-v-2f4472d5> Edurun </span></h1></div><p class="text-xl text-slate-300 max-w-2xl mx-auto" data-v-2f4472d5> Tu plataforma inteligente de evaluaciones en línea </p></div>',1)),d("div",D1,[h[14]||(h[14]=Be('<div class="bg-gradient-to-r from-sky-600 to-blue-700 px-8 py-6" data-v-2f4472d5><div class="flex items-center gap-3" data-v-2f4472d5><div class="bg-white/20 p-2 rounded-lg" data-v-2f4472d5><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2f4472d5><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-2f4472d5></path></svg></div><h2 class="text-2xl font-bold text-white" data-v-2f4472d5>Tu Perfil</h2></div></div>',1)),d("div",B1,[l.value?(I(),V("div",q1,[d("div",z1,[h[4]||(h[4]=d("div",{class:"flex-shrink-0"},[d("svg",{class:"h-6 w-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),d("div",null,[h[3]||(h[3]=d("h3",{class:"text-lg font-bold text-red-300"},"No se pudo cargar la información",-1)),d("p",I1,le(l.value),1)])])])):(I(),V("div",L1,[d("div",W1,[h[7]||(h[7]=d("div",{class:"absolute top-0 right-0 w-32 h-32 bg-sky-500/10 rounded-full blur-2xl group-hover:bg-sky-500/20 transition-all duration-300"},null,-1)),d("div",V1,[h[6]||(h[6]=d("div",{class:"flex items-center gap-2 mb-3"},[d("svg",{class:"w-5 h-5 text-sky-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})]),d("dt",{class:"text-sm font-medium text-slate-400 uppercase tracking-wider"},"ID de Usuario")],-1)),t.value?(I(),V("dd",N1,h[5]||(h[5]=[d("div",{class:"h-8 bg-slate-700/50 rounded w-3/4"},null,-1)]))):(I(),V("dd",j1,le(n.value?.userId||"No disponible"),1))])]),d("div",F1,[h[11]||(h[11]=d("div",{class:"absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-full blur-2xl group-hover:bg-purple-500/20 transition-all duration-300"},null,-1)),d("div",U1,[h[10]||(h[10]=d("div",{class:"flex items-center gap-2 mb-3"},[d("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})]),d("dt",{class:"text-sm font-medium text-slate-400 uppercase tracking-wider"},"Rol")],-1)),t.value?(I(),V("dd",H1,h[8]||(h[8]=[d("div",{class:"flex items-center gap-2"},[d("div",{class:"h-10 bg-purple-700/50 rounded w-32"}),d("div",{class:"h-6 bg-purple-700/50 rounded-full w-16"})],-1)]))):(I(),V("dd",X1,[d("span",G1,le(o.value||"Desconocido"),1),h[9]||(h[9]=d("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-500/20 text-purple-300 border border-purple-500/30"}," Activo ",-1))]))])])])),d("div",Z1,[d("div",K1,[d("div",Y1,[h[12]||(h[12]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t.value?(I(),V("span",J1,"Verificando sesión...")):(I(),V("span",ev,"Sesión verificada"))]),d("div",tv,[h[13]||(h[13]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",null,le(new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})),1)])])])])])])])]),h[16]||(h[16]=d("footer",{class:"border-t border-white/10 bg-slate-950/30 backdrop-blur-sm"},[d("div",{class:"mx-auto max-w-7xl px-4 py-8"},[d("div",{class:"flex flex-col md:flex-row items-center justify-between gap-4"},[d("p",{class:"text-sm text-slate-400"}," © 2025 Edurun. Todos los derechos reservados. ")])])],-1))])])}}}),nv=Yi(iv,[["__scopeId","data-v-2f4472d5"]]),Sd="https://edurunbackend.loca.lt/api";async function Td(i){const e=await fetch(`${Sd}/evaluaciones/${i}`).then(t=>t.json());return console.log("Evaluaciones del curso obtenidas:",e),e}async function sv(i){console.log("Fetching evaluacion with id:",i);const e=await fetch(`${Sd}/evaluacion/${i}`).then(t=>t.json());return console.log("Evaluacion obtenida:",e),e}const Cd="https://edurunbackend.loca.lt/api";async function rv(i){const e=new FormData;return e.append("code",i),await fetch(`${Cd}/run-code/`,{method:"POST",body:e})}async function ov(i,e){const t=new FormData;return t.append("code",i),t.append("evaluacion_id",e.toString()),await fetch(`${Cd}/send-code/`,{method:"POST",body:t})}let Wl=[],Pd=[];(()=>{let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<i.length;e++)(e%2?Pd:Wl).push(t=t+i[e])})();function lv(i){if(i<768)return!1;for(let e=0,t=Wl.length;;){let n=e+t>>1;if(i<Wl[n])t=n;else if(i>=Pd[n])e=n+1;else return!0;if(e==t)return!1}}function yc(i){return i>=127462&&i<=127487}const wc=8205;function av(i,e,t=!0,n=!0){return(t?Qd:hv)(i,e,n)}function Qd(i,e,t){if(e==i.length)return e;e&&Ad(i.charCodeAt(e))&&_d(i.charCodeAt(e-1))&&e--;let n=Jo(i,e);for(e+=kc(n);e<i.length;){let s=Jo(i,e);if(n==wc||s==wc||t&&lv(s))e+=kc(s),n=s;else if(yc(s)){let r=0,o=e-2;for(;o>=0&&yc(Jo(i,o));)r++,o-=2;if(r%2==0)break;e+=2}else break}return e}function hv(i,e,t){for(;e>0;){let n=Qd(i,e-2,t);if(n<e)return n;e--}return 0}function Jo(i,e){let t=i.charCodeAt(e);if(!_d(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return Ad(n)?(t-55296<<10)+(n-56320)+65536:t}function Ad(i){return i>=56320&&i<57344}function _d(i){return i>=55296&&i<56320}function kc(i){return i<65536?1:2}class ue{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=zn(this,e,t);let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(t,this.length,s,1),ei.from(s,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=zn(this,e,t);let n=[];return this.decompose(e,t,n,0),ei.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new bs(this),r=new bs(e);for(let o=t,l=t;;){if(s.next(o),r.next(o),o=0,s.lineBreak!=r.lineBreak||s.done!=r.done||s.value!=r.value)return!1;if(l+=s.value.length,s.done||l>=n)return!0}}iter(e=1){return new bs(this,e)}iterRange(e,t=this.length){return new Rd(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Md(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ue.empty:e.length<=32?new Ee(e):ei.from(Ee.split(e,[]))}}class Ee extends ue{constructor(e,t=cv(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,s){for(let r=0;;r++){let o=this.text[r],l=s+o.length;if((t?n:l)>=e)return new fv(s,l,n,o);s=l+1,n++}}decompose(e,t,n,s){let r=e<=0&&t>=this.length?this:new Ee(Sc(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=n.pop(),l=kr(r.text,o.text.slice(),0,r.length);if(l.length<=32)n.push(new Ee(l,o.length+r.length));else{let a=l.length>>1;n.push(new Ee(l.slice(0,a)),new Ee(l.slice(a)))}}else n.push(r)}replace(e,t,n){if(!(n instanceof Ee))return super.replace(e,t,n);[e,t]=zn(this,e,t);let s=kr(this.text,kr(n.text,Sc(this.text,0,e)),t),r=this.length+n.length-(t-e);return s.length<=32?new Ee(s,r):ei.from(Ee.split(s,[]),r)}sliceString(e,t=this.length,n=`
`){[e,t]=zn(this,e,t);let s="";for(let r=0,o=0;r<=t&&o<this.text.length;o++){let l=this.text[o],a=r+l.length;r>e&&o&&(s+=n),e<a&&t>r&&(s+=l.slice(Math.max(0,e-r),t-r)),r=a+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],s=-1;for(let r of e)n.push(r),s+=r.length+1,n.length==32&&(t.push(new Ee(n,s)),n=[],s=-1);return s>-1&&t.push(new Ee(n,s)),t}}class ei extends ue{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,s){for(let r=0;;r++){let o=this.children[r],l=s+o.length,a=n+o.lines-1;if((t?a:l)>=e)return o.lineInner(e,t,n,s);s=l+1,n=a+1}}decompose(e,t,n,s){for(let r=0,o=0;o<=t&&r<this.children.length;r++){let l=this.children[r],a=o+l.length;if(e<=a&&t>=o){let c=s&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!c?n.push(l):l.decompose(e-o,t-o,n,c)}o=a+1}}replace(e,t,n){if([e,t]=zn(this,e,t),n.lines<this.lines)for(let s=0,r=0;s<this.children.length;s++){let o=this.children[s],l=r+o.length;if(e>=r&&t<=l){let a=o.replace(e-r,t-r,n),c=this.lines-o.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let h=this.children.slice();return h[s]=a,new ei(h,this.length-(t-e)+n.length)}return super.replace(r,l,a)}r=l+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=zn(this,e,t);let s="";for(let r=0,o=0;r<this.children.length&&o<=t;r++){let l=this.children[r],a=o+l.length;o>e&&r&&(s+=n),e<a&&t>o&&(s+=l.sliceString(e-o,t-o,n)),o=a+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ei))return 0;let n=0,[s,r,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,r+=t){if(s==o||r==l)return n;let a=this.children[s],c=e.children[r];if(a!=c)return n+a.scanIdentical(c,t);n+=a.length+1}}static from(e,t=e.reduce((n,s)=>n+s.length+1,-1)){let n=0;for(let p of e)n+=p.lines;if(n<32){let p=[];for(let g of e)g.flatten(p);return new Ee(p,t)}let s=Math.max(32,n>>5),r=s<<1,o=s>>1,l=[],a=0,c=-1,h=[];function f(p){let g;if(p.lines>r&&p instanceof ei)for(let O of p.children)f(O);else p.lines>o&&(a>o||!a)?(u(),l.push(p)):p instanceof Ee&&a&&(g=h[h.length-1])instanceof Ee&&p.lines+g.lines<=32?(a+=p.lines,c+=p.length+1,h[h.length-1]=new Ee(g.text.concat(p.text),g.length+1+p.length)):(a+p.lines>s&&u(),a+=p.lines,c+=p.length+1,h.push(p))}function u(){a!=0&&(l.push(h.length==1?h[0]:ei.from(h,c)),c=-1,a=h.length=0)}for(let p of e)f(p);return u(),l.length==1?l[0]:new ei(l,t)}}ue.empty=new Ee([""],0);function cv(i){let e=-1;for(let t of i)e+=t.length+1;return e}function kr(i,e,t=0,n=1e9){for(let s=0,r=0,o=!0;r<i.length&&s<=n;r++){let l=i[r],a=s+l.length;a>=t&&(a>n&&(l=l.slice(0,n-s)),s<t&&(l=l.slice(t-s)),o?(e[e.length-1]+=l,o=!1):e.push(l)),s=a+1}return e}function Sc(i,e,t){return kr(i,[""],e,t)}class bs{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ee?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],r=this.offsets[n],o=r>>1,l=s instanceof Ee?s.text.length:s.children.length;if(o==(t>0?l:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((r&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Ee){let a=s.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=s.children[o+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof Ee?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Rd{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new bs(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=n?s:t<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Md{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ue.prototype[Symbol.iterator]=function(){return this.iter()},bs.prototype[Symbol.iterator]=Rd.prototype[Symbol.iterator]=Md.prototype[Symbol.iterator]=function(){return this});class fv{constructor(e,t,n,s){this.from=e,this.to=t,this.number=n,this.text=s}get length(){return this.to-this.from}}function zn(i,e,t){return e=Math.max(0,Math.min(i.length,e)),[e,Math.max(e,Math.min(i.length,t))]}function lt(i,e,t=!0,n=!0){return av(i,e,t,n)}function uv(i){return i>=56320&&i<57344}function dv(i){return i>=55296&&i<56320}function pv(i,e){let t=i.charCodeAt(e);if(!dv(t)||e+1==i.length)return t;let n=i.charCodeAt(e+1);return uv(n)?(t-55296<<10)+(n-56320)+65536:t}function gv(i){return i<65536?1:2}const Vl=/\r\n?|\n/;var ot=(function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i})(ot||(ot={}));class li{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,s=0;t<this.sections.length;){let r=this.sections[t++],o=this.sections[t++];o<0?(e(n,s,r),s+=r):s+=o,n+=r}}iterChangedRanges(e,t=!1){Nl(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];s<0?e.push(n,s):e.push(s,n)}return new li(e)}composeDesc(e){return this.empty?e:e.empty?this:Ed(this,e)}mapDesc(e,t=!1){return e.empty?this:jl(this,e,t)}mapPos(e,t=-1,n=ot.Simple){let s=0,r=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],c=s+l;if(a<0){if(c>e)return r+(e-s);r+=l}else{if(n!=ot.Simple&&c>=e&&(n==ot.TrackDel&&s<e&&c>e||n==ot.TrackBefore&&s<e||n==ot.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!l)return e==s||t<0?r:r+a;r+=a}s=c}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return r}touchesRange(e,t=e){for(let n=0,s=0;n<this.sections.length&&s<=t;){let r=this.sections[n++],o=this.sections[n++],l=s+r;if(o>=0&&s<=t&&l>=e)return s<e&&l>t?"cover":!0;s=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new li(e)}static create(e){return new li(e)}}class Le extends li{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Nl(this,(t,n,s,r,o)=>e=e.replace(s,s+(n-t),o),!1),e}mapDesc(e,t=!1){return jl(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let s=0,r=0;s<t.length;s+=2){let o=t[s],l=t[s+1];if(l>=0){t[s]=l,t[s+1]=o;let a=s>>1;for(;n.length<a;)n.push(ue.empty);n.push(o?e.slice(r,r+o):ue.empty)}r+=o}return new Le(t,n)}compose(e){return this.empty?e:e.empty?this:Ed(this,e,!0)}map(e,t=!1){return e.empty?this:jl(this,e,t,!0)}iterChanges(e,t=!1){Nl(this,e,t)}get desc(){return li.create(this.sections)}filter(e){let t=[],n=[],s=[],r=new Rs(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&r.len==0;){if(r.done)break e;let h=Math.min(r.len,a-l);Ke(s,h,-1);let f=r.ins==-1?-1:r.off==0?r.ins:0;Ke(t,h,f),f>0&&Ii(n,t,r.text),r.forward(h),l+=h}let c=e[o++];for(;l<c;){if(r.done)break e;let h=Math.min(r.len,c-l);Ke(t,h,-1),Ke(s,h,r.ins==-1?-1:r.off==0?r.ins:0),r.forward(h),l+=h}}return{changes:new Le(t,n),filtered:li.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],s=this.sections[t+1];s<0?e.push(n):s==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let s=[],r=[],o=0,l=null;function a(h=!1){if(!h&&!s.length)return;o<t&&Ke(s,t-o,-1);let f=new Le(s,r);l=l?l.compose(f.map(l)):f,s=[],r=[],o=0}function c(h){if(Array.isArray(h))for(let f of h)c(f);else if(h instanceof Le){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);a(),l=l?l.compose(h.map(l)):h}else{let{from:f,to:u=f,insert:p}=h;if(f>u||f<0||u>t)throw new RangeError(`Invalid change range ${f} to ${u} (in doc of length ${t})`);let g=p?typeof p=="string"?ue.of(p.split(n||Vl)):p:ue.empty,O=g.length;if(f==u&&O==0)return;f<o&&a(),f>o&&Ke(s,f-o,-1),Ke(s,u-f,O),Ii(r,s,g),o=u}}return c(e),a(!l),l}static empty(e){return new Le(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let s=0;s<e.length;s++){let r=e[s];if(typeof r=="number")t.push(r,-1);else{if(!Array.isArray(r)||typeof r[0]!="number"||r.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(r.length==1)t.push(r[0],0);else{for(;n.length<s;)n.push(ue.empty);n[s]=ue.of(r.slice(1)),t.push(r[0],n[s].length)}}}return new Le(t,n)}static createSet(e,t){return new Le(e,t)}}function Ke(i,e,t,n=!1){if(e==0&&t<=0)return;let s=i.length-2;s>=0&&t<=0&&t==i[s+1]?i[s]+=e:s>=0&&e==0&&i[s]==0?i[s+1]+=t:n?(i[s]+=e,i[s+1]+=t):i.push(e,t)}function Ii(i,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<n;)i.push(ue.empty);i.push(t)}}function Nl(i,e,t){let n=i.inserted;for(let s=0,r=0,o=0;o<i.sections.length;){let l=i.sections[o++],a=i.sections[o++];if(a<0)s+=l,r+=l;else{let c=s,h=r,f=ue.empty;for(;c+=l,h+=a,a&&n&&(f=f.append(n[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)l=i.sections[o++],a=i.sections[o++];e(s,c,r,h,f),s=c,r=h}}}function jl(i,e,t,n=!1){let s=[],r=n?[]:null,o=new Rs(i),l=new Rs(e);for(let a=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let c=Math.min(o.len,l.len);Ke(s,c,-1),o.forward(c),l.forward(c)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let c=l.len;for(Ke(s,l.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&a<o.i&&o.len<=h&&(Ke(s,0,o.ins),r&&Ii(r,s,o.text),a=o.i),o.forward(h),c-=h}l.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(l.ins==-1){let f=Math.min(h,l.len);c+=f,h-=f,l.forward(f)}else if(l.ins==0&&l.len<h)h-=l.len,l.next();else break;Ke(s,c,a<o.i?o.ins:0),r&&a<o.i&&Ii(r,s,o.text),a=o.i,o.forward(o.len-h)}else{if(o.done&&l.done)return r?Le.createSet(s,r):li.create(s);throw new Error("Mismatched change set lengths")}}}function Ed(i,e,t=!1){let n=[],s=t?[]:null,r=new Rs(i),o=new Rs(e);for(let l=!1;;){if(r.done&&o.done)return s?Le.createSet(n,s):li.create(n);if(r.ins==0)Ke(n,r.len,0,l),r.next();else if(o.len==0&&!o.done)Ke(n,0,o.ins,l),s&&Ii(s,n,o.text),o.next();else{if(r.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(r.len2,o.len),c=n.length;if(r.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;Ke(n,a,h,l),s&&h&&Ii(s,n,o.text)}else o.ins==-1?(Ke(n,r.off?0:r.len,a,l),s&&Ii(s,n,r.textBit(a))):(Ke(n,r.off?0:r.len,o.off?0:o.ins,l),s&&!o.off&&Ii(s,n,o.text));l=(r.ins>a||o.ins>=0&&o.len>a)&&(l||n.length>c),r.forward2(a),o.forward(a)}}}}class Rs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ue.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?ue.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ln{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,s;return this.empty?n=s=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),n==this.from&&s==this.to?this:new ln(n,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return E.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return E.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return E.range(e.anchor,e.head)}static create(e,t,n){return new ln(e,t,n)}}class E{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:E.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new E([this.main],0)}addRange(e,t=!0){return E.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,E.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new E(e.ranges.map(t=>ln.fromJSON(t)),e.main)}static single(e,t=e){return new E([E.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let r=e[s];if(r.empty?r.from<=n:r.from<n)return E.normalized(e.slice(),t);n=r.to}return new E(e,t)}static cursor(e,t=0,n,s){return ln.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(s??16777215)<<6)}static range(e,t,n,s){let r=(n??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?ln.create(t,e,48|r):ln.create(e,t,(t>e?8:0)|r)}static normalized(e,t=0){let n=e[t];e.sort((s,r)=>s.from-r.from),t=e.indexOf(n);for(let s=1;s<e.length;s++){let r=e[s],o=e[s-1];if(r.empty?r.from<=o.to:r.from<o.to){let l=o.from,a=Math.max(r.to,o.to);s<=t&&t--,e.splice(--s,2,r.anchor>r.head?E.range(a,l):E.range(l,a))}}return new E(e,t)}}function $d(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ka=0;class X{constructor(e,t,n,s,r){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=s,this.id=Ka++,this.default=e([]),this.extensions=typeof r=="function"?r(this):r}get reader(){return this}static define(e={}){return new X(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:Ya),!!e.static,e.enables)}of(e){return new Sr([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Sr(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Sr(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function Ya(i,e){return i==e||i.length==e.length&&i.every((t,n)=>t===e[n])}class Sr{constructor(e,t,n,s){this.dependencies=e,this.facet=t,this.type=n,this.value=s,this.id=Ka++}dynamicSlot(e){var t;let n=this.value,s=this.facet.compareInput,r=this.id,o=e[r]>>1,l=this.type==2,a=!1,c=!1,h=[];for(let f of this.dependencies)f=="doc"?a=!0:f=="selection"?c=!0:(((t=e[f.id])!==null&&t!==void 0?t:1)&1)==0&&h.push(e[f.id]);return{create(f){return f.values[o]=n(f),1},update(f,u){if(a&&u.docChanged||c&&(u.docChanged||u.selection)||Fl(f,h)){let p=n(f);if(l?!Tc(p,f.values[o],s):!s(p,f.values[o]))return f.values[o]=p,1}return 0},reconfigure:(f,u)=>{let p,g=u.config.address[r];if(g!=null){let O=Fr(u,g);if(this.dependencies.every(v=>v instanceof X?u.facet(v)===f.facet(v):v instanceof ci?u.field(v,!1)==f.field(v,!1):!0)||(l?Tc(p=n(f),O,s):s(p=n(f),O)))return f.values[o]=O,0}else p=n(f);return f.values[o]=p,1}}}}function Tc(i,e,t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!t(i[n],e[n]))return!1;return!0}function Fl(i,e){let t=!1;for(let n of e)xs(i,n)&1&&(t=!0);return t}function mv(i,e,t){let n=t.map(a=>i[a.id]),s=t.map(a=>a.type),r=n.filter(a=>!(a&1)),o=i[e.id]>>1;function l(a){let c=[];for(let h=0;h<n.length;h++){let f=Fr(a,n[h]);if(s[h]==2)for(let u of f)c.push(u);else c.push(f)}return e.combine(c)}return{create(a){for(let c of n)xs(a,c);return a.values[o]=l(a),1},update(a,c){if(!Fl(a,r))return 0;let h=l(a);return e.compare(h,a.values[o])?0:(a.values[o]=h,1)},reconfigure(a,c){let h=Fl(a,n),f=c.config.facets[e.id],u=c.facet(e);if(f&&!h&&Ya(t,f))return a.values[o]=u,0;let p=l(a);return e.compare(p,u)?(a.values[o]=u,0):(a.values[o]=p,1)}}}const Ys=X.define({static:!0});class ci{constructor(e,t,n,s,r){this.id=e,this.createF=t,this.updateF=n,this.compareF=s,this.spec=r,this.provides=void 0}static define(e){let t=new ci(Ka++,e.create,e.update,e.compare||((n,s)=>n===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ys).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,s)=>{let r=n.values[t],o=this.updateF(r,s);return this.compareF(r,o)?0:(n.values[t]=o,1)},reconfigure:(n,s)=>{let r=n.facet(Ys),o=s.facet(Ys),l;return(l=r.find(a=>a.field==this))&&l!=o.find(a=>a.field==this)?(n.values[t]=l.create(n),1):s.config.address[this.id]!=null?(n.values[t]=s.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Ys.of({field:this,create:e})]}get extension(){return this}}const rn={lowest:4,low:3,default:2,high:1,highest:0};function es(i){return e=>new Dd(e,i)}const So={highest:es(rn.highest),high:es(rn.high),default:es(rn.default),low:es(rn.low),lowest:es(rn.lowest)};class Dd{constructor(e,t){this.inner=e,this.prec=t}}class To{of(e){return new Ul(this,e)}reconfigure(e){return To.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ul{constructor(e,t){this.compartment=e,this.inner=t}}class jr{constructor(e,t,n,s,r,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=s,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let s=[],r=Object.create(null),o=new Map;for(let u of Ov(e,t,o))u instanceof ci?s.push(u):(r[u.facet.id]||(r[u.facet.id]=[])).push(u);let l=Object.create(null),a=[],c=[];for(let u of s)l[u.id]=c.length<<1,c.push(p=>u.slot(p));let h=n?.config.facets;for(let u in r){let p=r[u],g=p[0].facet,O=h&&h[u]||[];if(p.every(v=>v.type==0))if(l[g.id]=a.length<<1|1,Ya(O,p))a.push(n.facet(g));else{let v=g.combine(p.map(x=>x.value));a.push(n&&g.compare(v,n.facet(g))?n.facet(g):v)}else{for(let v of p)v.type==0?(l[v.id]=a.length<<1|1,a.push(v.value)):(l[v.id]=c.length<<1,c.push(x=>v.dynamicSlot(x)));l[g.id]=c.length<<1,c.push(v=>mv(v,g,p))}}let f=c.map(u=>u(l));return new jr(e,o,f,l,a,r)}}function Ov(i,e,t){let n=[[],[],[],[],[]],s=new Map;function r(o,l){let a=s.get(o);if(a!=null){if(a<=l)return;let c=n[a].indexOf(o);c>-1&&n[a].splice(c,1),o instanceof Ul&&t.delete(o.compartment)}if(s.set(o,l),Array.isArray(o))for(let c of o)r(c,l);else if(o instanceof Ul){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),r(c,l)}else if(o instanceof Dd)r(o.inner,o.prec);else if(o instanceof ci)n[l].push(o),o.provides&&r(o.provides,l);else if(o instanceof Sr)n[l].push(o),o.facet.extensions&&r(o.facet.extensions,rn.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(c,l)}}return r(i,rn.default),n.reduce((o,l)=>o.concat(l))}function xs(i,e){if(e&1)return 2;let t=e>>1,n=i.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;i.status[t]=4;let s=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|s}function Fr(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const Bd=X.define(),Hl=X.define({combine:i=>i.some(e=>e),static:!0}),qd=X.define({combine:i=>i.length?i[0]:void 0,static:!0}),zd=X.define(),Id=X.define(),Ld=X.define(),Wd=X.define({combine:i=>i.length?i[0]:!1});class Ri{constructor(e,t){this.type=e,this.value=t}static define(){return new vv}}class vv{of(e){return new Ri(this,e)}}class bv{constructor(e){this.map=e}of(e){return new Re(this,e)}}class Re{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Re(this.type,t)}is(e){return this.type==e}static define(e={}){return new bv(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let s of e){let r=s.map(t);r&&n.push(r)}return n}}Re.reconfigure=Re.define();Re.appendConfig=Re.define();class qe{constructor(e,t,n,s,r,o){this.startState=e,this.changes=t,this.selection=n,this.effects=s,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,n&&$d(n,t.newLength),r.some(l=>l.type==qe.time)||(this.annotations=r.concat(qe.time.of(Date.now())))}static create(e,t,n,s,r,o){return new qe(e,t,n,s,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(qe.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}qe.time=Ri.define();qe.userEvent=Ri.define();qe.addToHistory=Ri.define();qe.remote=Ri.define();function xv(i,e){let t=[];for(let n=0,s=0;;){let r,o;if(n<i.length&&(s==e.length||e[s]>=i[n]))r=i[n++],o=i[n++];else if(s<e.length)r=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<r?t.push(r,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Vd(i,e,t){var n;let s,r,o;return t?(s=e.changes,r=Le.empty(e.changes.length),o=i.changes.compose(e.changes)):(s=e.changes.map(i.changes),r=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(r):(n=i.selection)===null||n===void 0?void 0:n.map(s),effects:Re.mapEffects(i.effects,s).concat(Re.mapEffects(e.effects,r)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function Xl(i,e,t){let n=e.selection,s=_n(e.annotations);return e.userEvent&&(s=s.concat(qe.userEvent.of(e.userEvent))),{changes:e.changes instanceof Le?e.changes:Le.of(e.changes||[],t,i.facet(qd)),selection:n&&(n instanceof E?n:E.single(n.anchor,n.head)),effects:_n(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function Nd(i,e,t){let n=Xl(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let r=1;r<e.length;r++){e[r].filter===!1&&(t=!1);let o=!!e[r].sequential;n=Vd(n,Xl(i,e[r],o?n.changes.newLength:i.doc.length),o)}let s=qe.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return wv(t?yv(s):s)}function yv(i){let e=i.startState,t=!0;for(let s of e.facet(zd)){let r=s(i);if(r===!1){t=!1;break}Array.isArray(r)&&(t=t===!0?r:xv(t,r))}if(t!==!0){let s,r;if(t===!1)r=i.changes.invertedDesc,s=Le.empty(e.doc.length);else{let o=i.changes.filter(t);s=o.changes,r=o.filtered.mapDesc(o.changes).invertedDesc}i=qe.create(e,s,i.selection&&i.selection.map(r),Re.mapEffects(i.effects,r),i.annotations,i.scrollIntoView)}let n=e.facet(Id);for(let s=n.length-1;s>=0;s--){let r=n[s](i);r instanceof qe?i=r:Array.isArray(r)&&r.length==1&&r[0]instanceof qe?i=r[0]:i=Nd(e,_n(r),!1)}return i}function wv(i){let e=i.startState,t=e.facet(Ld),n=i;for(let s=t.length-1;s>=0;s--){let r=t[s](i);r&&Object.keys(r).length&&(n=Vd(n,Xl(e,r,i.changes.newLength),!0))}return n==i?i:qe.create(e,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}const kv=[];function _n(i){return i==null?kv:Array.isArray(i)?i:[i]}var Si=(function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i})(Si||(Si={}));const Sv=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Gl;try{Gl=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Tv(i){if(Gl)return Gl.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Sv.test(t)))return!0}return!1}function Cv(i){return e=>{if(!/\S/.test(e))return Si.Space;if(Tv(e))return Si.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return Si.Word;return Si.Other}}class de{constructor(e,t,n,s,r,o){this.config=e,this.doc=t,this.selection=n,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)xs(this,l<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return xs(this,n),Fr(this,n)}update(...e){return Nd(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:s}=t;for(let l of e.effects)l.is(To.reconfigure)?(t&&(s=new Map,t.compartments.forEach((a,c)=>s.set(c,a)),t=null),s.set(l.value.compartment,l.value.extension)):l.is(Re.reconfigure)?(t=null,n=l.value):l.is(Re.appendConfig)&&(t=null,n=_n(n).concat(l.value));let r;t?r=e.startState.values.slice():(t=jr.resolve(n,s,this),r=new de(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,c)=>c.reconfigure(a,this),null).values);let o=e.startState.facet(Hl)?e.newSelection:e.newSelection.asSingle();new de(t,e.newDoc,o,r,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:E.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),s=this.changes(n.changes),r=[n.range],o=_n(n.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),c=this.changes(a.changes),h=c.map(s);for(let u=0;u<l;u++)r[u]=r[u].map(h);let f=s.mapDesc(c,!0);r.push(a.range.map(f)),s=s.compose(h),o=Re.mapEffects(o,h).concat(Re.mapEffects(_n(a.effects),f))}return{changes:s,selection:E.create(r,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Le?e:Le.of(e,this.doc.length,this.facet(de.lineSeparator))}toText(e){return ue.of(e.split(this.facet(de.lineSeparator)||Vl))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(xs(this,t),Fr(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof ci&&this.config.address[s.id]!=null&&(t[n]=s.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n){for(let r in n)if(Object.prototype.hasOwnProperty.call(e,r)){let o=n[r],l=e[r];s.push(o.init(a=>o.spec.fromJSON(l,a)))}}return de.create({doc:e.doc,selection:E.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=jr.resolve(e.extensions||[],new Map),n=e.doc instanceof ue?e.doc:ue.of((e.doc||"").split(t.staticFacet(de.lineSeparator)||Vl)),s=e.selection?e.selection instanceof E?e.selection:E.single(e.selection.anchor,e.selection.head):E.single(0);return $d(s,n.length),t.staticFacet(Hl)||(s=s.asSingle()),new de(t,n,s,t.dynamicSlots.map(()=>null),(r,o)=>o.create(r),null)}get tabSize(){return this.facet(de.tabSize)}get lineBreak(){return this.facet(de.lineSeparator)||`
`}get readOnly(){return this.facet(Wd)}phrase(e,...t){for(let n of this.facet(de.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,s)=>{if(s=="$")return"$";let r=+(s||1);return!r||r>t.length?n:t[r-1]})),e}languageDataAt(e,t,n=-1){let s=[];for(let r of this.facet(Bd))for(let o of r(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){return Cv(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:s}=this.doc.lineAt(e),r=this.charCategorizer(e),o=e-n,l=e-n;for(;o>0;){let a=lt(t,o,!1);if(r(t.slice(a,o))!=Si.Word)break;o=a}for(;l<s;){let a=lt(t,l);if(r(t.slice(l,a))!=Si.Word)break;l=a}return o==l?null:E.range(o+n,l+n)}}de.allowMultipleSelections=Hl;de.tabSize=X.define({combine:i=>i.length?i[0]:4});de.lineSeparator=qd;de.readOnly=Wd;de.phrases=X.define({compare(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length==n.length&&t.every(s=>i[s]==e[s])}});de.languageData=Bd;de.changeFilter=zd;de.transactionFilter=Id;de.transactionExtender=Ld;To.reconfigure=Re.define();function Ja(i,e,t={}){let n={};for(let s of i)for(let r of Object.keys(s)){let o=s[r],l=n[r];if(l===void 0)n[r]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,r))n[r]=t[r](l,o);else throw new Error("Config merge conflict for field "+r)}for(let s in e)n[s]===void 0&&(n[s]=e[s]);return n}class un{eq(e){return this==e}range(e,t=e){return Zl.create(e,t,this)}}un.prototype.startSide=un.prototype.endSide=0;un.prototype.point=!1;un.prototype.mapMode=ot.TrackDel;let Zl=class jd{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new jd(e,t,n)}};function Kl(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class eh{constructor(e,t,n,s){this.from=e,this.to=t,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,s=0){let r=n?this.to:this.from;for(let o=s,l=r.length;;){if(o==l)return o;let a=o+l>>1,c=r[a]-e||(n?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return c>=0?o:l;c>=0?l=a:o=a+1}}between(e,t,n,s){for(let r=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,r);r<o;r++)if(s(this.from[r]+e,this.to[r]+e,this.value[r])===!1)return!1}map(e,t){let n=[],s=[],r=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],h=this.from[a]+e,f=this.to[a]+e,u,p;if(h==f){let g=t.mapPos(h,c.startSide,c.mapMode);if(g==null||(u=p=g,c.startSide!=c.endSide&&(p=t.mapPos(h,c.endSide),p<u)))continue}else if(u=t.mapPos(h,c.startSide),p=t.mapPos(f,c.endSide),u>p||u==p&&c.startSide>0&&c.endSide<=0)continue;(p-u||c.endSide-c.startSide)<0||(o<0&&(o=u),c.point&&(l=Math.max(l,p-u)),n.push(c),s.push(u-o),r.push(p-o))}return{mapped:n.length?new eh(s,r,n,l):null,pos:o}}}class Oe{constructor(e,t,n,s){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=s}static create(e,t,n,s){return new Oe(e,t,n,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:s=0,filterTo:r=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(Kl)),this.isEmpty)return t.length?Oe.of(t):this;let l=new Fd(this,null,-1).goto(0),a=0,c=[],h=new Ms;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let f=t[a++];h.addInner(f.from,f.to,f.value)||c.push(f)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!o||s>this.chunkEnd(l.chunkIndex)||r<this.chunkPos[l.chunkIndex])&&h.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||s>l.to||r<l.from||o(l.from,l.to,l.value))&&(h.addInner(l.from,l.to,l.value)||c.push(Zl.create(l.from,l.to,l.value))),l.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?Oe.empty:this.nextLayer.update({add:c,filter:o,filterFrom:s,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],s=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],c=e.touchesRange(l,l+a.length);if(c===!1)s=Math.max(s,a.maxPoint),t.push(a),n.push(e.mapPos(l));else if(c===!0){let{mapped:h,pos:f}=a.map(l,e);h&&(s=Math.max(s,h.maxPoint),t.push(h),n.push(f))}}let r=this.nextLayer.map(e);return t.length==0?r:new Oe(n,t,r||Oe.empty,s)}between(e,t,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s];if(t>=r&&e<=r+o.length&&o.between(r,e-r,t-r,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Es.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Es.from(e).goto(t)}static compare(e,t,n,s,r=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=r),l=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=r),a=Cc(o,l,n),c=new ts(o,a,r),h=new ts(l,a,r);n.iterGaps((f,u,p)=>Pc(c,f,h,u,p,s)),n.empty&&n.length==0&&Pc(c,0,h,0,0,s)}static eq(e,t,n=0,s){s==null&&(s=999999999);let r=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(r.length!=o.length)return!1;if(!r.length)return!0;let l=Cc(r,o),a=new ts(r,l,0).goto(n),c=new ts(o,l,0).goto(n);for(;;){if(a.to!=c.to||!Yl(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>s)return!0;a.next(),c.next()}}static spans(e,t,n,s,r=-1){let o=new ts(e,null,r).goto(t),l=t,a=o.openStart;for(;;){let c=Math.min(o.to,n);if(o.point){let h=o.activeForPoint(o.to),f=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,a);s.point(l,c,o.point,h,f,o.pointRank),a=Math.min(o.openEnd(c),h.length)}else c>l&&(s.span(l,c,o.active,a),a=o.openEnd(c));if(o.to>n)return a+(o.point&&o.to>n?1:0);l=o.to,o.next()}}static of(e,t=!1){let n=new Ms;for(let s of e instanceof Zl?[e]:t?Pv(e):e)n.add(s.from,s.to,s.value);return n.finish()}static join(e){if(!e.length)return Oe.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let s=e[n];s!=Oe.empty;s=s.nextLayer)t=new Oe(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Oe.empty=new Oe([],[],null,-1);function Pv(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let n=i[t];if(Kl(e,n)>0)return i.slice().sort(Kl);e=n}return i}Oe.empty.nextLayer=Oe.empty;class Ms{finishChunk(e){this.chunks.push(new eh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Ms)).add(e,t,n)}addInner(e,t,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Oe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Oe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Cc(i,e,t){let n=new Map;for(let r of i)for(let o=0;o<r.chunk.length;o++)r.chunk[o].maxPoint<=0&&n.set(r.chunk[o],r.chunkPos[o]);let s=new Set;for(let r of e)for(let o=0;o<r.chunk.length;o++){let l=n.get(r.chunk[o]);l!=null&&(t?t.mapPos(l):l)==r.chunkPos[o]&&!t?.touchesRange(l,l+r.chunk[o].length)&&s.add(r.chunk[o])}return s}class Fd{constructor(e,t,n,s=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Es{constructor(e){this.heap=e}static from(e,t=null,n=-1){let s=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&s.push(new Fd(o,t,n,r));return s.length==1?s[0]:new Es(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)el(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)el(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),el(this.heap,0)}}}function el(i,e){for(let t=i[e];;){let n=(e<<1)+1;if(n>=i.length)break;let s=i[n];if(n+1<i.length&&s.compare(i[n+1])>=0&&(s=i[n+1],n++),t.compare(s)<0)break;i[n]=t,i[e]=s,e=n}}class ts{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Es.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Js(this.active,e),Js(this.activeTo,e),Js(this.activeRank,e),this.minActive=Qc(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:s,rank:r}=this.cursor;for(;t<this.activeRank.length&&(r-this.activeRank[t]||s-this.activeTo[t])>0;)t++;er(this.active,t,n),er(this.activeTo,t,s),er(this.activeRank,t,r),e&&er(e,t,this.cursor.from),this.minActive=Qc(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),n&&Js(n,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let s=n.length-1;s>=0&&n[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Pc(i,e,t,n,s,r){i.goto(e),t.goto(n);let o=n+s,l=n,a=n-e;for(;;){let c=i.to+a-t.to,h=c||i.endSide-t.endSide,f=h<0?i.to+a:t.to,u=Math.min(f,o);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&Yl(i.activeForPoint(i.to),t.activeForPoint(t.to))||r.comparePoint(l,u,i.point,t.point):u>l&&!Yl(i.active,t.active)&&r.compareRange(l,u,i.active,t.active),f>o)break;(c||i.openEnd!=t.openEnd)&&r.boundChange&&r.boundChange(f),l=f,h<=0&&i.next(),h>=0&&t.next()}}function Yl(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function Js(i,e){for(let t=e,n=i.length-1;t<n;t++)i[t]=i[t+1];i.pop()}function er(i,e,t){for(let n=i.length-1;n>=e;n--)i[n+1]=i[n];i[e]=t}function Qc(i,e){let t=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||i[s].endSide-i[t].endSide)<0&&(t=s,n=e[s]);return t}function Co(i,e,t=i.length){let n=0;for(let s=0;s<t&&s<i.length;)i.charCodeAt(s)==9?(n+=e-n%e,s++):(n++,s=lt(i,s));return n}function Qv(i,e,t,n){for(let s=0,r=0;;){if(r>=e)return s;if(s==i.length)break;r+=i.charCodeAt(s)==9?t-r%t:1,s=lt(i,s)}return i.length}const Jl="ͼ",Ac=typeof Symbol>"u"?"__"+Jl:Symbol.for(Jl),ea=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ji{constructor(e,t){this.rules=[];let{finish:n}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function r(o,l,a,c){let h=[],f=/^@(\w+)\b/.exec(o[0]),u=f&&f[1]=="keyframes";if(f&&l==null)return a.push(o[0]+";");for(let p in l){let g=l[p];if(/&/.test(p))r(p.split(/,\s*/).map(O=>o.map(v=>O.replace(/&/,v))).reduce((O,v)=>O.concat(v)),g,a);else if(g&&typeof g=="object"){if(!f)throw new RangeError("The value of a property ("+p+") should be a primitive value.");r(s(p),g,h,u)}else g!=null&&h.push(p.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+g+";")}(h.length||u)&&a.push((n&&!f&&!c?o.map(n):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)r(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=_c[Ac]||1;return _c[Ac]=e+1,Jl+e.toString(36)}static mount(e,t,n){let s=e[ea],r=n&&n.nonce;s?r&&s.setNonce(r):s=new Av(e,r),s.mount(Array.isArray(t)?t:[t],e)}}let Rc=new Map;class Av{constructor(e,t){let n=e.ownerDocument||e,s=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let r=Rc.get(n);if(r)return e[ea]=r;this.sheet=new s.CSSStyleSheet,Rc.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[ea]=this}mount(e,t){let n=this.sheet,s=0,r=0;for(let o=0;o<e.length;o++){let l=e[o],a=this.modules.indexOf(l);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,l),n)for(let c=0;c<l.rules.length;c++)n.insertRule(l.rules[c],s++)}else{for(;r<a;)s+=this.modules[r++].rules.length;s+=l.rules.length,r++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Fi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$s={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_v=typeof navigator<"u"&&/Mac/.test(navigator.platform),Rv=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ze=0;Ze<10;Ze++)Fi[48+Ze]=Fi[96+Ze]=String(Ze);for(var Ze=1;Ze<=24;Ze++)Fi[Ze+111]="F"+Ze;for(var Ze=65;Ze<=90;Ze++)Fi[Ze]=String.fromCharCode(Ze+32),$s[Ze]=String.fromCharCode(Ze);for(var tl in Fi)$s.hasOwnProperty(tl)||($s[tl]=Fi[tl]);function Mv(i){var e=_v&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||Rv&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?$s:Fi)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ds(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function ta(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function Tr(i,e){if(!e.anchorNode)return!1;try{return ta(i,e.anchorNode)}catch{return!1}}function Bs(i){return i.nodeType==3?pn(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function ys(i,e,t,n){return t?Mc(i,e,t,n,-1)||Mc(i,e,t,n,1):!1}function dn(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function Ur(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}function Mc(i,e,t,n,s){for(;;){if(i==t&&e==n)return!0;if(e==(s<0?0:hi(i))){if(i.nodeName=="DIV")return!1;let r=i.parentNode;if(!r||r.nodeType!=1)return!1;e=dn(i)+(s<0?0:1),i=r}else if(i.nodeType==1){if(i=i.childNodes[e+(s<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=s<0?hi(i):0}else return!1}}function hi(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Po(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function Ev(i){let e=i.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function Ud(i,e){let t=e.width/i.offsetWidth,n=e.height/i.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-i.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-i.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function $v(i,e,t,n,s,r,o,l){let a=i.ownerDocument,c=a.defaultView||window;for(let h=i,f=!1;h&&!f;)if(h.nodeType==1){let u,p=h==a.body,g=1,O=1;if(p)u=Ev(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(f=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let y=h.getBoundingClientRect();({scaleX:g,scaleY:O}=Ud(h,y)),u={left:y.left,right:y.left+h.clientWidth*g,top:y.top,bottom:y.top+h.clientHeight*O}}let v=0,x=0;if(s=="nearest")e.top<u.top?(x=e.top-(u.top+o),t>0&&e.bottom>u.bottom+x&&(x=e.bottom-u.bottom+o)):e.bottom>u.bottom&&(x=e.bottom-u.bottom+o,t<0&&e.top-x<u.top&&(x=e.top-(u.top+o)));else{let y=e.bottom-e.top,T=u.bottom-u.top;x=(s=="center"&&y<=T?e.top+y/2-T/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-T+o)-u.top}if(n=="nearest"?e.left<u.left?(v=e.left-(u.left+r),t>0&&e.right>u.right+v&&(v=e.right-u.right+r)):e.right>u.right&&(v=e.right-u.right+r,t<0&&e.left<u.left+v&&(v=e.left-(u.left+r))):v=(n=="center"?e.left+(e.right-e.left)/2-(u.right-u.left)/2:n=="start"==l?e.left-r:e.right-(u.right-u.left)+r)-u.left,v||x)if(p)c.scrollBy(v,x);else{let y=0,T=0;if(x){let C=h.scrollTop;h.scrollTop+=x/O,T=(h.scrollTop-C)*O}if(v){let C=h.scrollLeft;h.scrollLeft+=v/g,y=(h.scrollLeft-C)*g}e={left:e.left-y,top:e.top-T,right:e.right-y,bottom:e.bottom-T},y&&Math.abs(y-v)<1&&(n="nearest"),T&&Math.abs(T-x)<1&&(s="nearest")}if(p)break;(e.top<u.top||e.bottom>u.bottom||e.left<u.left||e.right>u.right)&&(e={left:Math.max(e.left,u.left),right:Math.min(e.right,u.right),top:Math.max(e.top,u.top),bottom:Math.min(e.bottom,u.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Dv(i){let e=i.ownerDocument,t,n;for(let s=i.parentNode;s&&!(s==e.body||t&&n);)if(s.nodeType==1)!n&&s.scrollHeight>s.clientHeight&&(n=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:n}}class Bv{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?hi(t):0),n,Math.min(e.focusOffset,n?hi(n):0))}set(e,t,n,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=s}}let vn=null;function Hd(i){if(i.setActive)return i.setActive();if(vn)return i.focus(vn);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(vn==null?{get preventScroll(){return vn={preventScroll:!0},!0}}:void 0),!vn){vn=!1;for(let t=0;t<e.length;){let n=e[t++],s=e[t++],r=e[t++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=r&&(n.scrollLeft=r)}}}let Ec;function pn(i,e,t=e){let n=Ec||(Ec=document.createRange());return n.setEnd(i,t),n.setStart(i,e),n}function Rn(i,e,t,n){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=n);let r=new KeyboardEvent("keydown",s);r.synthetic=!0,i.dispatchEvent(r);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,i.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function qv(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function Xd(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function zv(i,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,hi(t));;)if(n){if(t.nodeType!=1)return!1;let s=t.childNodes[n-1];s.contentEditable=="false"?n--:(t=s,n=hi(t))}else{if(t==i)return!0;n=dn(t),t=t.parentNode}}function Gd(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}function Zd(i,e){for(let t=i,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=hi(t)}else if(t.parentNode&&!Ur(t))n=dn(t),t=t.parentNode;else return null}}function Kd(i,e){for(let t=i,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!Ur(t))n=dn(t)+1,t=t.parentNode;else return null}}class et{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new et(e.parentNode,dn(e),t)}static after(e,t){return new et(e.parentNode,dn(e)+1,t)}}const th=[];class Te{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,s=null,r;for(let o of this.children){if(o.flags&7){if(!o.dom&&(r=s?s.nextSibling:n.firstChild)){let l=Te.get(r);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(r)}o.sync(e,t),o.flags&=-8}if(r=s?s.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&r!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;r&&r!=o.dom;)r=$c(r);else n.insertBefore(o.dom,r);s=o.dom}for(r=s?s.nextSibling:n.firstChild,r&&t&&t.node==n&&(t.written=!0);r;)r=$c(r)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let s=hi(e)==0?0:t==0?-1:1;for(;;){let r=e.parentNode;if(r==this.dom)break;s==0&&r.firstChild!=r.lastChild&&(e==r.firstChild?s=-1:s=1),e=r}s<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Te.get(n);)n=n.nextSibling;if(!n)return this.length;for(let s=0,r=0;;s++){let o=this.children[s];if(o.dom==n)return r;r+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let s=-1,r=-1,o=-1,l=-1;for(let a=0,c=n,h=n;a<this.children.length;a++){let f=this.children[a],u=c+f.length;if(c<e&&u>t)return f.domBoundsAround(e,t,c);if(u>=e&&s==-1&&(s=a,r=c),c>t&&f.dom.parentNode==this.dom){o=a,l=h;break}h=u,c=u+f.breakAfter}return{from:r,to:l<0?n+this.length:l,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=th){this.markDirty();for(let s=e;s<t;s++){let r=this.children[s];r.parent==this&&n.indexOf(r)<0&&r.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let s=0;s<n.length;s++)n[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Yd(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,s,r,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Te.prototype.breakAfter=0;function $c(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class Yd{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Jd(i,e,t,n,s,r,o,l,a){let{children:c}=i,h=c.length?c[e]:null,f=r.length?r[r.length-1]:null,u=f?f.breakAfter:o;if(!(e==n&&h&&!o&&!u&&r.length<2&&h.merge(t,s,r.length?f:null,t==0,l,a))){if(n<c.length){let p=c[n];p&&(s<p.length||p.breakAfter&&f?.breakAfter)?(e==n&&(p=p.split(s),s=0),!u&&f&&p.merge(0,s,f,!0,0,a)?r[r.length-1]=p:((s||p.children.length&&!p.children[0].length)&&p.merge(0,s,null,!1,0,a),r.push(p))):p?.breakAfter&&(f?f.breakAfter=1:o=1),n++}for(h&&(h.breakAfter=o,t>0&&(!o&&r.length&&h.merge(t,h.length,r[0],!1,l,0)?h.breakAfter=r.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,l,0),e++));e<n&&r.length;)if(c[n-1].become(r[r.length-1]))n--,r.pop(),a=r.length?0:l;else if(c[e].become(r[0]))e++,r.shift(),l=r.length?0:a;else break;!r.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,l,a)&&e--,(e<n||r.length)&&i.replaceChildren(e,n,r)}}function ep(i,e,t,n,s,r){let o=i.childCursor(),{i:l,off:a}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),f=e-t;for(let u of n)f+=u.length;i.length+=f,Jd(i,c,h,l,a,n,0,s,r)}let pt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},ia=typeof document<"u"?document:{documentElement:{style:{}}};const na=/Edge\/(\d+)/.exec(pt.userAgent),tp=/MSIE \d/.test(pt.userAgent),sa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pt.userAgent),Qo=!!(tp||sa||na),Dc=!Qo&&/gecko\/(\d+)/i.test(pt.userAgent),il=!Qo&&/Chrome\/(\d+)/.exec(pt.userAgent),Iv="webkitFontSmoothing"in ia.documentElement.style,ip=!Qo&&/Apple Computer/.test(pt.vendor),Bc=ip&&(/Mobile\/\w+/.test(pt.userAgent)||pt.maxTouchPoints>2);var j={mac:Bc||/Mac/.test(pt.platform),windows:/Win/.test(pt.platform),linux:/Linux|X11/.test(pt.platform),ie:Qo,ie_version:tp?ia.documentMode||6:sa?+sa[1]:na?+na[1]:0,gecko:Dc,gecko_version:Dc?+(/Firefox\/(\d+)/.exec(pt.userAgent)||[0,0])[1]:0,chrome:!!il,chrome_version:il?+il[1]:0,ios:Bc,android:/Android\b/.test(pt.userAgent),safari:ip,webkit_version:Iv?+(/\bAppleWebKit\/(\d+)/.exec(pt.userAgent)||[0,0])[1]:0,tabSize:ia.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Lv=256;class Wt extends Te{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof Wt)||this.length-(t-e)+n.length>Lv||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Wt(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new et(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Wv(this.dom,e,t)}}class Qi extends Te{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let s of t)s.setParent(this)}setAttrs(e){if(Xd(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,s,r,o){return n&&(!(n instanceof Qi&&n.mark.eq(this.mark))||e&&r<=0||t<this.length&&o<=0)?!1:(ep(this,e,t,n?n.children.slice():[],r-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,s=-1,r=0;for(let l of this.children){let a=n+l.length;a>e&&t.push(n<e?l.split(e-n):l),s<0&&n>=e&&(s=r),n=a,r++}let o=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Qi(this.mark,t,o)}domAtPos(e){return np(this,e)}coordsAt(e,t){return rp(this,e,t)}}function Wv(i,e,t){let n=i.nodeValue.length;e>n&&(e=n);let s=e,r=e,o=0;e==0&&t<0||e==n&&t>=0?j.chrome||j.gecko||(e?(s--,o=1):r<n&&(r++,o=-1)):t<0?s--:r<n&&r++;let l=pn(i,s,r).getClientRects();if(!l.length)return null;let a=l[(o?o<0:t>=0)?0:l.length-1];return j.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),o?Po(a,o<0):a||null}class an extends Te{static create(e,t,n){return new an(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=an.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,s,r,o){return n&&(!(n instanceof an)||!this.widget.compare(n.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof an&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ue.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,s=this.posAtStart;return n?n.slice(s,s+this.length):ue.empty}domAtPos(e){return(this.length?e==0:this.side>0)?et.before(this.dom):et.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let s=this.dom.getClientRects(),r=null;if(!s.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?s.length-1:0;r=s[l],!(e>0?l==0:l==s.length-1||r.top<r.bottom);l+=o?-1:1);return Po(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class In extends Te{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof In&&e.side==this.side}split(){return new In(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?et.before(this.dom):et.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ue.empty}get isHidden(){return!0}}Wt.prototype.children=an.prototype.children=In.prototype.children=th;function np(i,e){let t=i.dom,{children:n}=i,s=0;for(let r=0;s<n.length;s++){let o=n[s],l=r+o.length;if(!(l==r&&o.getSide()<=0)){if(e>r&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-r);if(e<=r)break;r=l}}for(let r=s;r>0;r--){let o=n[r-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let r=s;r<n.length;r++){let o=n[r];if(o.dom.parentNode==t)return o.domAtPos(0)}return new et(t,0)}function sp(i,e,t){let n,{children:s}=i;t>0&&e instanceof Qi&&s.length&&(n=s[s.length-1])instanceof Qi&&n.mark.eq(e.mark)?sp(n,e.children[0],t-1):(s.push(e),e.setParent(i)),i.length+=e.length}function rp(i,e,t){let n=null,s=-1,r=null,o=-1;function l(c,h){for(let f=0,u=0;f<c.children.length&&u<=h;f++){let p=c.children[f],g=u+p.length;g>=h&&(p.children.length?l(p,h-u):(!r||r.isHidden&&(t>0||Nv(r,p)))&&(g>h||u==g&&p.getSide()>0)?(r=p,o=h-u):(u<h||u==g&&p.getSide()<0&&!p.isHidden)&&(n=p,s=h-u)),u=g}}l(i,e);let a=(t<0?n:r)||n||r;return a?a.coordsAt(Math.max(0,a==n?s:o),t):Vv(i)}function Vv(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=Bs(e);return t[t.length-1]||null}function Nv(i,e){let t=i.coordsAt(0,1),n=e.coordsAt(0,1);return t&&n&&n.top<t.bottom}function ra(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}const qc=Object.create(null);function Hr(i,e,t){if(i==e)return!0;i||(i=qc),e||(e=qc);let n=Object.keys(i),s=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let r of n)if(r!=t&&(s.indexOf(r)==-1||i[r]!==e[r]))return!1;return!0}function oa(i,e,t){let n=!1;if(e)for(let s in e)t&&s in t||(n=!0,s=="style"?i.style.cssText="":i.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(n=!0,s=="style"?i.style.cssText=t[s]:i.setAttribute(s,t[s]));return n}function jv(i){let e=Object.create(null);for(let t=0;t<i.attributes.length;t++){let n=i.attributes[t];e[n.name]=n.value}return e}class Ao{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Qt=(function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i})(Qt||(Qt={}));class Ae extends un{constructor(e,t,n,s){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Fs(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ui(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,s;if(e.isBlockGap)n=-5e8,s=4e8;else{let{start:r,end:o}=op(e,t);n=(r?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new Ui(e,n,s,t,e.widget||null,!0)}static line(e){return new Us(e)}static set(e,t=!1){return Oe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ae.none=Oe.empty;class Fs extends Ae{constructor(e){let{start:t,end:n}=op(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Fs&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&Hr(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Fs.prototype.point=!1;class Us extends Ae{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Us&&this.spec.class==e.spec.class&&Hr(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Us.prototype.mapMode=ot.TrackBefore;Us.prototype.point=!0;class Ui extends Ae{constructor(e,t,n,s,r,o){super(t,n,r,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?ot.TrackBefore:ot.TrackAfter:ot.TrackDel}get type(){return this.startSide!=this.endSide?Qt.WidgetRange:this.startSide<=0?Qt.WidgetBefore:Qt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ui&&Fv(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ui.prototype.point=!0;function op(i,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=i;return t==null&&(t=i.inclusive),n==null&&(n=i.inclusive),{start:t??e,end:n??e}}function Fv(i,e){return i==e||!!(i&&e&&i.compare(e))}function Cr(i,e,t,n=0){let s=t.length-1;s>=0&&t[s]+n>=i?t[s]=Math.max(t[s],e):t.push(i,e)}class De extends Te{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,s,r,o){if(n){if(!(n instanceof De))return!1;this.dom||n.transferDOM(this)}return s&&this.setDeco(n?n.attrs:null),ep(this,e,t,n?n.children.slice():[],r,o),!0}split(e){let t=new De;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:s}=this.childPos(e);s&&(t.append(this.children[n].split(s),0),this.children[n].merge(s,this.children[n].length,null,!1,0,0),n++);for(let r=n;r<this.children.length;r++)t.append(this.children[r],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Hr(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){sp(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=ra(t,this.attrs||{})),n&&(this.attrs=ra({class:n},this.attrs||{}))}domAtPos(e){return np(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(Xd(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(oa(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&Te.get(s)instanceof Qi;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((n=Te.get(s))===null||n===void 0?void 0:n.isEditable)==!1&&(!j.ios||!this.children.some(r=>r instanceof Wt))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof Wt)||/[^ -~]/.test(n.text))return null;let s=Bs(n.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=rp(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:s}=this.parent.view.viewState,r=n.bottom-n.top;if(Math.abs(r-s.lineHeight)<2&&s.textHeight<r){let o=(r-s.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof De&&this.children.length==0&&e.children.length==0&&Hr(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,s=0;n<e.children.length;n++){let r=e.children[n],o=s+r.length;if(o>=t){if(r instanceof De)return r;if(o>t)break}s=o+r.breakAfter}return null}}class Ti extends Te{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,s,r,o){return n&&(!(n instanceof Ti)||!this.widget.compare(n.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?et.before(this.dom):et.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Ti(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return th}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ue.empty}domBoundsAround(){return null}become(e){return e instanceof Ti&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof la?null:Po(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class la extends Ao{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ws{constructor(e,t,n,s){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ti&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new De),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(tr(new In(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ti)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=r,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(tr(new Wt(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}span(e,t,n,s){this.buildText(t-e,n,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,n,s,r,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Ui){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(n instanceof Ui)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ti(n.widget||Ln.block,l,n));else{let a=an.create(n.widget||Ln.inline,l,l?0:n.startSide),c=this.atCursorPos&&!a.isEditable&&r<=s.length&&(e<t||n.startSide>0),h=!a.isEditable&&(e<t||r>s.length||n.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),c&&(f.append(tr(new In(1),s),r),r=s.length+Math.max(0,r-s.length)),f.append(tr(a,s),r),this.atCursorPos=h,this.pendingBuffer=h?e<t||r>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,n,s,r){let o=new ws(e,t,n,r);return o.openEnd=Oe.spans(s,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function tr(i,e){for(let t of e)i=new Qi(t,[i],i.length);return i}class Ln extends Ao{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ln.inline=new Ln("span");Ln.block=new Ln("div");var Ne=(function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i})(Ne||(Ne={}));const gn=Ne.LTR,ih=Ne.RTL;function lp(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const Uv=lp("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Hv=lp("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),aa=Object.create(null),Xt=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);aa[e]=t,aa[t]=-e}function ap(i){return i<=247?Uv[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?Hv[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const Xv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Li{get dir(){return this.level%2?ih:gn}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,s){let r=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==n)return o;(r<0||(s!=0?s<0?l.from<t:l.to>t:e[r].level>l.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}function hp(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++){let n=i[t],s=e[t];if(n.from!=s.from||n.to!=s.to||n.direction!=s.direction||!hp(n.inner,s.inner))return!1}return!0}const ke=[];function Gv(i,e,t,n,s){for(let r=0;r<=n.length;r++){let o=r?n[r-1].to:e,l=r<n.length?n[r].from:t,a=r?256:s;for(let c=o,h=a,f=a;c<l;c++){let u=ap(i.charCodeAt(c));u==512?u=h:u==8&&f==4&&(u=16),ke[c]=u==4?2:u,u&7&&(f=u),h=u}for(let c=o,h=a,f=a;c<l;c++){let u=ke[c];if(u==128)c<l-1&&h==ke[c+1]&&h&24?u=ke[c]=h:ke[c]=256;else if(u==64){let p=c+1;for(;p<l&&ke[p]==64;)p++;let g=c&&h==8||p<t&&ke[p]==8?f==1?1:8:256;for(let O=c;O<p;O++)ke[O]=g;c=p-1}else u==8&&f==1&&(ke[c]=1);h=u,u&7&&(f=u)}}}function Zv(i,e,t,n,s){let r=s==1?2:1;for(let o=0,l=0,a=0;o<=n.length;o++){let c=o?n[o-1].to:e,h=o<n.length?n[o].from:t;for(let f=c,u,p,g;f<h;f++)if(p=aa[u=i.charCodeAt(f)])if(p<0){for(let O=l-3;O>=0;O-=3)if(Xt[O+1]==-p){let v=Xt[O+2],x=v&2?s:v&4?v&1?r:s:0;x&&(ke[f]=ke[Xt[O]]=x),l=O;break}}else{if(Xt.length==189)break;Xt[l++]=f,Xt[l++]=u,Xt[l++]=a}else if((g=ke[f])==2||g==1){let O=g==s;a=O?0:1;for(let v=l-3;v>=0;v-=3){let x=Xt[v+2];if(x&2)break;if(O)Xt[v+2]|=2;else{if(x&4)break;Xt[v+2]|=4}}}}}function Kv(i,e,t,n){for(let s=0,r=n;s<=t.length;s++){let o=s?t[s-1].to:i,l=s<t.length?t[s].from:e;for(let a=o;a<l;){let c=ke[a];if(c==256){let h=a+1;for(;;)if(h==l){if(s==t.length)break;h=t[s++].to,l=s<t.length?t[s].from:e}else if(ke[h]==256)h++;else break;let f=r==1,u=(h<e?ke[h]:n)==1,p=f==u?f?1:2:n;for(let g=h,O=s,v=O?t[O-1].to:i;g>a;)g==v&&(g=t[--O].from,v=O?t[O-1].to:i),ke[--g]=p;a=h}else r=c,a++}}}function ha(i,e,t,n,s,r,o){let l=n%2?2:1;if(n%2==s%2)for(let a=e,c=0;a<t;){let h=!0,f=!1;if(c==r.length||a<r[c].from){let O=ke[a];O!=l&&(h=!1,f=O==16)}let u=!h&&l==1?[]:null,p=h?n:n+1,g=a;e:for(;;)if(c<r.length&&g==r[c].from){if(f)break e;let O=r[c];if(!h)for(let v=O.to,x=c+1;;){if(v==t)break e;if(x<r.length&&r[x].from==v)v=r[x++].to;else{if(ke[v]==l)break e;break}}if(c++,u)u.push(O);else{O.from>a&&o.push(new Li(a,O.from,p));let v=O.direction==gn!=!(p%2);ca(i,v?n+1:n,s,O.inner,O.from,O.to,o),a=O.to}g=O.to}else{if(g==t||(h?ke[g]!=l:ke[g]==l))break;g++}u?ha(i,a,g,n+1,s,u,o):a<g&&o.push(new Li(a,g,p)),a=g}else for(let a=t,c=r.length;a>e;){let h=!0,f=!1;if(!c||a>r[c-1].to){let O=ke[a-1];O!=l&&(h=!1,f=O==16)}let u=!h&&l==1?[]:null,p=h?n:n+1,g=a;e:for(;;)if(c&&g==r[c-1].to){if(f)break e;let O=r[--c];if(!h)for(let v=O.from,x=c;;){if(v==e)break e;if(x&&r[x-1].to==v)v=r[--x].from;else{if(ke[v-1]==l)break e;break}}if(u)u.push(O);else{O.to<a&&o.push(new Li(O.to,a,p));let v=O.direction==gn!=!(p%2);ca(i,v?n+1:n,s,O.inner,O.from,O.to,o),a=O.from}g=O.from}else{if(g==e||(h?ke[g-1]!=l:ke[g-1]==l))break;g--}u?ha(i,g,a,n+1,s,u,o):g<a&&o.push(new Li(g,a,p)),a=g}}function ca(i,e,t,n,s,r,o){let l=e%2?2:1;Gv(i,s,r,n,l),Zv(i,s,r,n,l),Kv(s,r,n,l),ha(i,s,r,e,t,n,o)}function Yv(i,e,t){if(!i)return[new Li(0,0,e==ih?1:0)];if(e==gn&&!t.length&&!Xv.test(i))return cp(i.length);if(t.length)for(;i.length>ke.length;)ke[ke.length]=256;let n=[],s=e==gn?0:1;return ca(i,s,s,t,0,i.length,n),n}function cp(i){return[new Li(0,i,0)]}let fp="";function Jv(i,e,t,n,s){var r;let o=n.head-i.from,l=Li.find(e,o,(r=n.bidiLevel)!==null&&r!==void 0?r:-1,n.assoc),a=e[l],c=a.side(s,t);if(o==c){let u=l+=s?1:-1;if(u<0||u>=e.length)return null;a=e[l=u],o=a.side(!s,t),c=a.side(s,t)}let h=lt(i.text,o,a.forward(s,t));(h<a.from||h>a.to)&&(h=c),fp=i.text.slice(Math.min(o,h),Math.max(o,h));let f=l==(s?e.length-1:0)?null:e[l+(s?1:-1)];return f&&h==c&&f.level+(s?0:1)<a.level?E.cursor(f.side(!s,t)+i.from,f.forward(s,t)?1:-1,f.level):E.cursor(h+i.from,a.forward(s,t)?-1:1,a.level)}function eb(i,e,t){for(let n=e;n<t;n++){let s=ap(i.charCodeAt(n));if(s==1)return gn;if(s==2||s==4)return ih}return gn}const up=X.define(),dp=X.define(),pp=X.define(),gp=X.define(),fa=X.define(),mp=X.define(),Op=X.define(),nh=X.define(),sh=X.define(),vp=X.define({combine:i=>i.some(e=>e)}),tb=X.define({combine:i=>i.some(e=>e)}),bp=X.define();class Mn{constructor(e,t="nearest",n="nearest",s=5,r=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=s,this.xMargin=r,this.isSnapshot=o}map(e){return e.empty?this:new Mn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Mn(E.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ir=Re.define({map:(i,e)=>i.map(e)}),xp=Re.define();function ii(i,e,t){let n=i.facet(gp);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ki=X.define({combine:i=>i.length?i[0]:!0});let ib=0;const wn=X.define({combine(i){return i.filter((e,t)=>{for(let n=0;n<t;n++)if(i[n].plugin==e.plugin)return!1;return!0})}});class Hi{constructor(e,t,n,s,r){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=s,this.baseExtensions=r(this),this.extension=this.baseExtensions.concat(wn.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(wn.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:s,provide:r,decorations:o}=t||{};return new Hi(ib++,e,n,s,l=>{let a=[];return o&&a.push(qs.of(c=>{let h=c.plugin(l);return h?o(h):Ae.none})),r&&a.push(r(l)),a})}static fromClass(e,t){return Hi.define((n,s)=>new e(n,s),t)}}class nl{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(ii(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ii(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){ii(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const yp=X.define(),rh=X.define(),qs=X.define(),wp=X.define(),oh=X.define(),kp=X.define();function zc(i,e){let t=i.state.facet(kp);if(!t.length)return t;let n=t.map(r=>r instanceof Function?r(i):r),s=[];return Oe.spans(n,e.from,e.to,{point(){},span(r,o,l,a){let c=r-e.from,h=o-e.from,f=s;for(let u=l.length-1;u>=0;u--,a--){let p=l[u].spec.bidiIsolate,g;if(p==null&&(p=eb(e.text,c,h)),a>0&&f.length&&(g=f[f.length-1]).to==c&&g.direction==p)g.to=h,f=g.inner;else{let O={from:c,to:h,direction:p,inner:[]};f.push(O),f=O.inner}}}}),s}const Sp=X.define();function Tp(i){let e=0,t=0,n=0,s=0;for(let r of i.state.facet(Sp)){let o=r(i);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:n,bottom:s}}const ls=X.define();class At{constructor(e,t,n,s){this.fromA=e,this.toA=t,this.fromB=n,this.toB=s}join(e){return new At(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let s=0,r=0,o=0,l=0;;s++){let a=s==e.length?null:e[s],c=o-l,h=a?a.fromB:1e9;for(;r<t.length&&t[r]<h;){let f=t[r],u=t[r+1],p=Math.max(l,f),g=Math.min(h,u);if(p<=g&&new At(p+c,g+c,p,g).addToSet(n),u>h)break;r+=2}if(!a)return n;new At(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,l=a.toB}}}class Xr{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Le.empty(this.startState.doc.length);for(let r of n)this.changes=this.changes.compose(r.changes);let s=[];this.changes.iterChangedRanges((r,o,l,a)=>s.push(new At(r,o,l,a))),this.changedRanges=s}static create(e,t,n){return new Xr(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Ic extends Te{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ae.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new De],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new At(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:h})=>h<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!hb(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let r=s>-1?sb(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:h}=this.hasComposition;n=new At(c,h,e.changes.mapPos(c,-1),e.changes.mapPos(h,1)).addToSet(n.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(j.ie||j.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),a=lb(o,l,e.changes);return n=At.extendWithRanges(n,a),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=j.chrome||j.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||s.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ti&&o.widget instanceof la&&r.push(o.dom);s.updateGaps(r)}updateChildren(e,t,n){let s=n?n.range.addToSet(e.slice()):e,r=this.childCursor(t);for(let o=s.length-1;;o--){let l=o>=0?s[o]:null;if(!l)break;let{fromA:a,toA:c,fromB:h,toB:f}=l,u,p,g,O;if(n&&n.range.fromB<f&&n.range.toB>h){let C=ws.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),M=ws.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);p=C.breakAtStart,g=C.openStart,O=M.openEnd;let N=this.compositionView(n);M.breakAtStart?N.breakAfter=1:M.content.length&&N.merge(N.length,N.length,M.content[0],!1,M.openStart,0)&&(N.breakAfter=M.content[0].breakAfter,M.content.shift()),C.content.length&&N.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),u=C.content.concat(N).concat(M.content)}else({content:u,breakAtStart:p,openStart:g,openEnd:O}=ws.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:v,off:x}=r.findPos(c,1),{i:y,off:T}=r.findPos(a,-1);Jd(this,y,T,v,x,u,p,g,O)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(xp)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new Wt(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new Qi(s,[t],t.length);let n=new De;return n.append(t,0),n}fixCompositionDOM(e){let t=(r,o)=>{o.flags|=8|(o.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(o);let l=Te.get(r);l&&l!=o&&(l.dom=null),o.setDOM(r)},n=this.childPos(e.range.fromB,1),s=this.children[n.i];t(e.line,s);for(let r=e.marks.length-1;r>=-1;r--)n=s.childPos(n.off,1),s=s.children[n.i],t(r>=0?e.marks[r].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,s=n==this.dom,r=!s&&!(this.view.state.facet(ki)||this.dom.tabIndex>-1)&&Tr(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(s||t||r))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),c=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(j.gecko&&l.empty&&!this.hasComposition&&nb(a)){let f=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(f,a.node.childNodes[a.offset]||null)),a=c=new et(f,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!ys(a.node,a.offset,h.anchorNode,h.anchorOffset)||!ys(c.node,c.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,l))&&(this.view.observer.ignore(()=>{j.android&&j.chrome&&this.dom.contains(h.focusNode)&&ab(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Ds(this.view.root);if(f)if(l.empty){if(j.gecko){let u=rb(a.node,a.offset);if(u&&u!=3){let p=(u==1?Zd:Kd)(a.node,a.offset);p&&(a=new et(p.node,p.offset))}}f.collapse(a.node,a.offset),l.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=l.bidiLevel)}else if(f.extend){f.collapse(a.node,a.offset);try{f.extend(c.node,c.offset)}catch{}}else{let u=document.createRange();l.anchor>l.head&&([a,c]=[c,a]),u.setEnd(c.node,c.offset),u.setStart(a.node,a.offset),f.removeAllRanges(),f.addRange(u)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(a,c)),this.impreciseAnchor=a.precise?null:new et(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new et(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Ds(e.root),{anchorNode:s,anchorOffset:r}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=De.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let a=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!a||!c||a.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);n.collapse(h.node,h.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&n.collapse(s,r)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let s=e.offset;!n&&s<t.childNodes.length;s++){let r=Te.get(t.childNodes[s]);r instanceof De&&(n=r.domAtPos(0))}for(let s=e.offset-1;!n&&s>=0;s--){let r=Te.get(t.childNodes[s]);r instanceof De&&(n=r.domAtPos(r.length))}return n?new et(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=Te.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(n<s.length||s instanceof De)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,s=0;for(let r=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],a=r-l.breakAfter,c=a-l.length;if(a<e)break;if(c<=e&&(c<e||l.covers(-1))&&(a>e||l.covers(1))&&(!n||l instanceof De&&!(n instanceof De&&t>=0)))n=l,s=c;else if(n&&c==e&&a==e&&l instanceof Ti&&Math.abs(t)<2){if(l.deco.startSide<0)break;o&&(n=null)}r=c}return n?n.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),s=this.children[t];if(!(s instanceof De))return null;for(;s.children.length;){let{i:l,off:a}=s.childPos(n,1);for(;;l++){if(l==s.children.length)return null;if((s=s.children[l]).length)break}n=a}if(!(s instanceof Wt))return null;let r=lt(s.text,n);if(r==n)return null;let o=pn(s.dom,n,r).getClientRects();for(let l=0;l<o.length;l++){let a=o[l];if(l==o.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:s}=e,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Ne.LTR;for(let c=0,h=0;h<this.children.length;h++){let f=this.children[h],u=c+f.length;if(u>s)break;if(c>=n){let p=f.dom.getBoundingClientRect();if(t.push(p.height),o){let g=f.dom.lastChild,O=g?Bs(g):[];if(O.length){let v=O[O.length-1],x=a?v.right-p.left:p.right-v.left;x>l&&(l=x,this.minWidth=r,this.minWidthFrom=c,this.minWidthTo=u)}}}c=u+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ne.RTL:Ne.LTR}measureTextSize(){for(let r of this.children)if(r instanceof De){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=Bs(e.firstChild)[0];t=e.getBoundingClientRect().height,n=r?r.width/27:7,s=r?r.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Yd(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,s=0;;s++){let r=s==t.viewports.length?null:t.viewports[s],o=r?r.from-1:this.length;if(o>n){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(Ae.replace({widget:new la(l),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!r)break;n=r.to+1}return Ae.set(e)}updateDeco(){let e=1,t=this.view.state.facet(qs).map(r=>(this.dynamicDecorationMap[e++]=typeof r=="function")?r(this.view):r),n=!1,s=this.view.state.facet(wp).map((r,o)=>{let l=typeof r=="function";return l&&(n=!0),l?r(this.view):r});for(s.length&&(this.dynamicDecorationMap[e++]=n,t.push(Oe.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(bp))try{if(c(this.view,e.range,e))return!0}catch(h){ii(this.view.state,h,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!n)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,s.left),top:Math.min(n.top,s.top),right:Math.max(n.right,s.right),bottom:Math.max(n.bottom,s.bottom)});let r=Tp(this.view),o={left:n.left-r.left,top:n.top-r.top,right:n.right+r.right,bottom:n.bottom+r.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;$v(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Ne.LTR)}}function nb(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}function Cp(i,e){let t=i.observer.selectionRange;if(!t.focusNode)return null;let n=Zd(t.focusNode,t.focusOffset),s=Kd(t.focusNode,t.focusOffset),r=n||s;if(s&&n&&s.node!=n.node){let l=Te.get(s.node);if(!l||l instanceof Wt&&l.text!=s.node.nodeValue)r=s;else if(i.docView.lastCompositionAfterCursor){let a=Te.get(n.node);!a||a instanceof Wt&&a.text!=n.node.nodeValue||(r=s)}}if(i.docView.lastCompositionAfterCursor=r!=n,!r)return null;let o=e-r.offset;return{from:o,to:o+r.node.nodeValue.length,node:r.node}}function sb(i,e,t){let n=Cp(i,t);if(!n)return null;let{node:s,from:r,to:o}=n,l=s.nodeValue;if(/[\n\r]/.test(l)||i.state.doc.sliceString(n.from,n.to)!=l)return null;let a=e.invertedDesc,c=new At(a.mapPos(r),a.mapPos(o),r,o),h=[];for(let f=s.parentNode;;f=f.parentNode){let u=Te.get(f);if(u instanceof Qi)h.push({node:f,deco:u.mark});else{if(u instanceof De||f.nodeName=="DIV"&&f.parentNode==i.contentDOM)return{range:c,text:s,marks:h,line:f};if(f!=i.contentDOM)h.push({node:f,deco:new Fs({inclusive:!0,attributes:jv(f),tagName:f.tagName.toLowerCase()})});else return null}}}function rb(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}let ob=class{constructor(){this.changes=[]}compareRange(e,t){Cr(e,t,this.changes)}comparePoint(e,t){Cr(e,t,this.changes)}boundChange(e){Cr(e,e,this.changes)}};function lb(i,e,t){let n=new ob;return Oe.compare(i,e,t,n),n.changes}function ab(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function hb(i,e){let t=!1;return e&&i.iterChangedRanges((n,s)=>{n<e.to&&s>e.from&&(t=!0)}),t}function cb(i,e,t=1){let n=i.charCategorizer(e),s=i.doc.lineAt(e),r=e-s.from;if(s.length==0)return E.cursor(e);r==0?t=1:r==s.length&&(t=-1);let o=r,l=r;t<0?o=lt(s.text,r,!1):l=lt(s.text,r);let a=n(s.text.slice(o,l));for(;o>0;){let c=lt(s.text,o,!1);if(n(s.text.slice(c,o))!=a)break;o=c}for(;l<s.length;){let c=lt(s.text,l);if(n(s.text.slice(l,c))!=a)break;l=c}return E.range(o+s.from,l+s.from)}function fb(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function ub(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function sl(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function Lc(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Wc(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function ua(i,e,t){let n,s,r,o,l=!1,a,c,h,f;for(let g=i.firstChild;g;g=g.nextSibling){let O=Bs(g);for(let v=0;v<O.length;v++){let x=O[v];s&&sl(s,x)&&(x=Lc(Wc(x,s.bottom),s.top));let y=fb(e,x),T=ub(t,x);if(y==0&&T==0)return g.nodeType==3?Vc(g,e,t):ua(g,e,t);(!n||o>T||o==T&&r>y)&&(n=g,s=x,r=y,o=T,l=y?e<x.left?v>0:v<O.length-1:!0),y==0?t>x.bottom&&(!h||h.bottom<x.bottom)?(a=g,h=x):t<x.top&&(!f||f.top>x.top)&&(c=g,f=x):h&&sl(h,x)?h=Wc(h,x.bottom):f&&sl(f,x)&&(f=Lc(f,x.top))}}if(h&&h.bottom>=t?(n=a,s=h):f&&f.top<=t&&(n=c,s=f),!n)return{node:i,offset:0};let u=Math.max(s.left,Math.min(s.right,e));if(n.nodeType==3)return Vc(n,u,t);if(l&&n.contentEditable!="false")return ua(n,u,t);let p=Array.prototype.indexOf.call(i.childNodes,n)+(e>=(s.left+s.right)/2?1:0);return{node:i,offset:p}}function Vc(i,e,t){let n=i.nodeValue.length,s=-1,r=1e9,o=0;for(let l=0;l<n;l++){let a=pn(i,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let h=a[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let f=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&f<r){let u=e>=(h.left+h.right)/2,p=u;if((j.chrome||j.gecko)&&pn(i,l).getBoundingClientRect().left==h.right&&(p=!u),f<=0)return{node:i,offset:l+(p?1:0)};s=l+(p?1:0),r=f}}}return{node:i,offset:s>-1?s:o>0?i.nodeValue.length:0}}function Pp(i,e,t,n=-1){var s,r;let o=i.contentDOM.getBoundingClientRect(),l=o.top+i.viewState.paddingTop,a,{docHeight:c}=i.viewState,{x:h,y:f}=e,u=f-l;if(u<0)return 0;if(u>c)return i.state.doc.length;for(let C=i.viewState.heightOracle.textHeight/2,M=!1;a=i.elementAtHeight(u),a.type!=Qt.Text;)for(;u=n>0?a.bottom+C:a.top-C,!(u>=0&&u<=c);){if(M)return t?null:0;M=!0,n=-n}f=l+u;let p=a.from;if(p<i.viewport.from)return i.viewport.from==0?0:t?null:Nc(i,o,a,h,f);if(p>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:Nc(i,o,a,h,f);let g=i.dom.ownerDocument,O=i.root.elementFromPoint?i.root:g,v=O.elementFromPoint(h,f);v&&!i.contentDOM.contains(v)&&(v=null),v||(h=Math.max(o.left+1,Math.min(o.right-1,h)),v=O.elementFromPoint(h,f),v&&!i.contentDOM.contains(v)&&(v=null));let x,y=-1;if(v&&((s=i.docView.nearest(v))===null||s===void 0?void 0:s.isEditable)!=!1){if(g.caretPositionFromPoint){let C=g.caretPositionFromPoint(h,f);C&&({offsetNode:x,offset:y}=C)}else if(g.caretRangeFromPoint){let C=g.caretRangeFromPoint(h,f);C&&({startContainer:x,startOffset:y}=C,(!i.contentDOM.contains(x)||j.safari&&db(x,y,h)||j.chrome&&pb(x,y,h))&&(x=void 0))}x&&(y=Math.min(hi(x),y))}if(!x||!i.docView.dom.contains(x)){let C=De.find(i.docView,p);if(!C)return u>a.top+a.height/2?a.to:a.from;({node:x,offset:y}=ua(C.dom,h,f))}let T=i.docView.nearest(x);if(!T)return null;if(T.isWidget&&((r=T.dom)===null||r===void 0?void 0:r.nodeType)==1){let C=T.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?T.posAtStart:T.posAtEnd}else return T.localPosFromDOM(x,y)+T.posAtStart}function Nc(i,e,t,n,s){let r=Math.round((n-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let l=i.viewState.heightOracle.textHeight,a=Math.floor((s-t.top-(i.defaultLineHeight-l)*.5)/l);r+=a*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+Qv(o,r,i.state.tabSize)}function db(i,e,t){let n,s=i;if(i.nodeType!=3||e!=(n=i.nodeValue.length))return!1;for(;;){let r=s.nextSibling;if(r){if(r.nodeName=="BR")break;return!1}else{let o=s.parentNode;if(!o||o.nodeName=="DIV")break;s=o}}return pn(i,n-1,n).getBoundingClientRect().right>t}function pb(i,e,t){if(e!=0)return!1;for(let s=i;;){let r=s.parentNode;if(!r||r.nodeType!=1||r.firstChild!=s)return!1;if(r.classList.contains("cm-line"))break;s=r}let n=i.nodeType==1?i.getBoundingClientRect():pn(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function gb(i,e,t){let n=i.lineBlockAt(e);if(Array.isArray(n.type)){let s;for(let r of n.type){if(r.from>e)break;if(!(r.to<e)){if(r.from<e&&r.to>e)return r;(!s||r.type==Qt.Text&&(s.type!=r.type||(t<0?r.from<e:r.to>e)))&&(s=r)}}return s||n}return n}function mb(i,e,t,n){let s=gb(i,e.head,e.assoc||-1),r=!n||s.type!=Qt.Text||!(i.lineWrapping||s.widgetLineBreaks)?null:i.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(r){let o=i.dom.getBoundingClientRect(),l=i.textDirectionAt(s.from),a=i.posAtCoords({x:t==(l==Ne.LTR)?o.right-1:o.left+1,y:(r.top+r.bottom)/2});if(a!=null)return E.cursor(a,t?-1:1)}return E.cursor(t?s.to:s.from,t?-1:1)}function jc(i,e,t,n){let s=i.state.doc.lineAt(e.head),r=i.bidiSpans(s),o=i.textDirectionAt(s.from);for(let l=e,a=null;;){let c=Jv(s,r,o,l,t),h=fp;if(!c){if(s.number==(t?i.state.doc.lines:1))return l;h=`
`,s=i.state.doc.line(s.number+(t?1:-1)),r=i.bidiSpans(s),c=i.visualLineSide(s,!t)}if(a){if(!a(h))return l}else{if(!n)return c;a=n(h)}l=c}}function Ob(i,e,t){let n=i.state.charCategorizer(e),s=n(t);return r=>{let o=n(r);return s==Si.Space&&(s=o),s==o}}function vb(i,e,t,n){let s=e.head,r=t?1:-1;if(s==(t?i.state.doc.length:0))return E.cursor(s,e.assoc);let o=e.goalColumn,l,a=i.contentDOM.getBoundingClientRect(),c=i.coordsAtPos(s,e.assoc||-1),h=i.documentTop;if(c)o==null&&(o=c.left-a.left),l=r<0?c.top:c.bottom;else{let p=i.viewState.lineBlockAt(s);o==null&&(o=Math.min(a.right-a.left,i.defaultCharacterWidth*(s-p.from))),l=(r<0?p.top:p.bottom)+h}let f=a.left+o,u=n??i.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=l+(u+p)*r,O=Pp(i,{x:f,y:g},!1,r);if(g<a.top||g>a.bottom||(r<0?O<s:O>s)){let v=i.docView.coordsForChar(O),x=!v||g<v.top?-1:1;return E.cursor(O,x,void 0,o)}}}function Pr(i,e,t){for(;;){let n=0;for(let s of i)s.between(e-1,e+1,(r,o,l)=>{if(e>r&&e<o){let a=n||t||(e-r<o-e?-1:1);e=a<0?r:o,n=a}});if(!n)return e}}function rl(i,e,t){let n=Pr(i.state.facet(oh).map(s=>s(i)),t.from,e.head>t.from?-1:1);return n==t.from?t:E.cursor(n,n<t.from?1:-1)}const as="￿";class bb{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(de.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=as}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s);let r=this.text.length;this.readNode(s);let o=s.nextSibling;if(o==t)break;let l=Te.get(s),a=Te.get(o);(l&&a?l.breakAfter:(l?l.breakAfter:Ur(s))||Ur(o)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>r)&&this.lineBreak(),s=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let r=-1,o=1,l;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(l=s.exec(t))&&(r=l.index,o=l[0].length),this.append(t.slice(n,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);n=r+o}}readNode(e){if(e.cmIgnore)return;let t=Te.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let s=n.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(xb(e,n.node,n.offset)?t:0))}}function xb(i,e,t){for(;;){if(!e||t<hi(e))return!1;if(e==i)return!0;t=dn(e)+1,e=e.parentNode}}class Fc{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class yb{constructor(e,t,n,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:r,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let l=r||o?[]:Sb(e),a=new bb(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=Tb(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=r&&r.node==l.focusNode&&r.offset==l.focusOffset||!ta(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!ta(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),h=e.viewport;if((j.ios||j.chrome)&&e.state.selection.main.empty&&a!=c&&(h.from>0||h.to<e.state.doc.length)){let f=Math.min(a,c),u=Math.max(a,c),p=h.from-f,g=h.to-u;(p==0||p==1||f==0)&&(g==0||g==-1||u==e.state.doc.length)&&(a=0,c=e.state.doc.length)}this.newSel=E.single(c,a)}}}function Qp(i,e){let t,{newSel:n}=e,s=i.state.selection.main,r=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,a=s.from,c=null;(r===8||j.android&&e.text.length<l-o)&&(a=s.to,c="end");let h=kb(i.state.doc.sliceString(o,l,as),e.text,a-o,c);h&&(j.chrome&&r==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==as+as&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:ue.of(e.text.slice(h.from,h.toB).split(as))})}else n&&(!i.hasFocus&&i.state.facet(ki)||n.main.eq(s))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!s.empty&&n&&n.main.empty?t={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,s.to)}:(j.mac||j.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=E.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:ue.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:i.state.doc.slice(s.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,s.to))}:j.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(n&&(n=E.single(n.main.anchor-1,n.main.head-1)),t={from:s.from,to:s.to,insert:ue.of([" "])}),t)return lh(i,t,n,r);if(n&&!n.main.eq(s)){let o=!1,l="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(o=!0),l=i.inputState.lastSelectionOrigin),i.dispatch({selection:n,scrollIntoView:o,userEvent:l}),!0}else return!1}function lh(i,e,t,n=-1){if(j.ios&&i.inputState.flushIOSKey(e))return!0;let s=i.state.selection.main;if(j.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&i.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Rn(i.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Rn(i.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Rn(i.contentDOM,"Delete",46)))return!0;let r=e.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let o,l=()=>o||(o=wb(i,e,t));return i.state.facet(mp).some(a=>a(i,e.from,e.to,r,l))||i.dispatch(l()),!0}function wb(i,e,t){let n,s=i.state,r=s.selection.main;if(e.from>=r.from&&e.to<=r.to&&e.to-e.from>=(r.to-r.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&i.inputState.composing<0){let l=r.from<e.from?s.sliceDoc(r.from,e.from):"",a=r.to>e.to?s.sliceDoc(e.to,r.to):"";n=s.replaceSelection(i.state.toText(l+e.insert.sliceString(0,void 0,i.state.lineBreak)+a))}else{let l=s.changes(e),a=t&&t.main.to<=l.newLength?t.main:void 0;if(s.selection.ranges.length>1&&i.inputState.composing>=0&&e.to<=r.to&&e.to>=r.to-10){let c=i.state.sliceDoc(e.from,e.to),h,f=t&&Cp(i,t.main.head);if(f){let g=e.insert.length-(e.to-e.from);h={from:f.from,to:f.to-g}}else h=i.state.doc.lineAt(r.head);let u=r.to-e.to,p=r.to-r.from;n=s.changeByRange(g=>{if(g.from==r.from&&g.to==r.to)return{changes:l,range:a||g.map(l)};let O=g.to-u,v=O-c.length;if(g.to-g.from!=p||i.state.sliceDoc(v,O)!=c||g.to>=h.from&&g.from<=h.to)return{range:g};let x=s.changes({from:v,to:O,insert:e.insert}),y=g.to-r.to;return{changes:x,range:a?E.range(Math.max(0,a.anchor+y),Math.max(0,a.head+y)):g.map(x)}})}else n={changes:l,selection:a&&s.selection.replaceRange(a)}}let o="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,o+=".compose",i.inputState.compositionFirstChange&&(o+=".start",i.inputState.compositionFirstChange=!1)),s.update(n,{userEvent:o,scrollIntoView:!0})}function kb(i,e,t,n){let s=Math.min(i.length,e.length),r=0;for(;r<s&&i.charCodeAt(r)==e.charCodeAt(r);)r++;if(r==s&&i.length==e.length)return null;let o=i.length,l=e.length;for(;o>0&&l>0&&i.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(n=="end"){let a=Math.max(0,r-Math.min(o,l));t-=o+a-r}if(o<r&&i.length<e.length){let a=t<=r&&t>=o?r-t:0;r-=a,l=r+(l-o),o=r}else if(l<r){let a=t<=r&&t>=l?r-t:0;r-=a,o=r+(o-l),l=r}return{from:r,toA:o,toB:l}}function Sb(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:r}=i.observer.selectionRange;return t&&(e.push(new Fc(t,n)),(s!=t||r!=n)&&e.push(new Fc(s,r))),e}function Tb(i,e){if(i.length==0)return null;let t=i[0].pos,n=i.length==2?i[1].pos:t;return t>-1&&n>-1?E.single(t+e,n+e):null}class Cb{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,j.safari&&e.contentDOM.addEventListener("input",()=>null),j.gecko&&Vb(e.contentDOM.ownerDocument)}handleEvent(e){!$b(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let s of n.observers)s(this.view,t);for(let s of n.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Pb(e),n=this.handlers,s=this.view.contentDOM;for(let r in t)if(r!="scroll"){let o=!t[r].handlers.length,l=n[r];l&&o!=!l.handlers.length&&(s.removeEventListener(r,this.handleEvent),l=null),l||s.addEventListener(r,this.handleEvent,{passive:o})}for(let r in n)r!="scroll"&&!t[r]&&s.removeEventListener(r,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&_p.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),j.android&&j.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return j.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Ap.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||Qb.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Rn(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:j.safari&&!j.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Uc(i,e){return(t,n)=>{try{return e.call(i,n,t)}catch(s){ii(t.state,s)}}}function Pb(i){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of i){let s=n.spec,r=s&&s.plugin.domEventHandlers,o=s&&s.plugin.domEventObservers;if(r)for(let l in r){let a=r[l];a&&t(l).handlers.push(Uc(n.value,a))}if(o)for(let l in o){let a=o[l];a&&t(l).observers.push(Uc(n.value,a))}}for(let n in Vt)t(n).handlers.push(Vt[n]);for(let n in Rt)t(n).observers.push(Rt[n]);return e}const Ap=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Qb="dthko",_p=[16,17,18,20,91,92,224,225],nr=6;function sr(i){return Math.max(0,i)*.7+8}function Ab(i,e){return Math.max(Math.abs(i.clientX-e.clientX),Math.abs(i.clientY-e.clientY))}class _b{constructor(e,t,n,s){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Dv(e.contentDOM),this.atoms=e.state.facet(oh).map(o=>o(e));let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(de.allowMultipleSelections)&&Rb(e,t),this.dragging=Eb(e,t)&&Ep(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Ab(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,s=0,r=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:r,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=Tp(this.view);e.clientX-a.left<=s+nr?t=-sr(s-e.clientX):e.clientX+a.right>=o-nr&&(t=sr(e.clientX-o)),e.clientY-a.top<=r+nr?n=-sr(r-e.clientY):e.clientY+a.bottom>=l-nr&&(n=sr(e.clientY-l)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let s=e.ranges[n],r=null;if(s.empty){let o=Pr(this.atoms,s.from,0);o!=s.from&&(r=E.cursor(o,-1))}else{let o=Pr(this.atoms,s.from,-1),l=Pr(this.atoms,s.to,1);(o!=s.from||l!=s.to)&&(r=E.range(s.from==s.anchor?o:l,s.from==s.head?o:l))}r&&(t||(t=e.ranges.slice()),t[n]=r)}return t?E.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Rb(i,e){let t=i.state.facet(up);return t.length?t[0](e):j.mac?e.metaKey:e.ctrlKey}function Mb(i,e){let t=i.state.facet(dp);return t.length?t[0](e):j.mac?!e.altKey:!e.ctrlKey}function Eb(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let n=Ds(i.root);if(!n||n.rangeCount==0)return!0;let s=n.getRangeAt(0).getClientRects();for(let r=0;r<s.length;r++){let o=s[r];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function $b(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Te.get(t))&&n.ignoreEvent(e))return!1;return!0}const Vt=Object.create(null),Rt=Object.create(null),Rp=j.ie&&j.ie_version<15||j.ios&&j.webkit_version<604;function Db(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),Mp(i,t.value)},50)}function _o(i,e,t){for(let n of i.facet(e))t=n(t,i);return t}function Mp(i,e){e=_o(i.state,nh,e);let{state:t}=i,n,s=1,r=t.toText(e),o=r.lines==t.selection.ranges.length;if(da!=null&&t.selection.ranges.every(a=>a.empty)&&da==r.toString()){let a=-1;n=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==a)return{range:c};a=h.from;let f=t.toText((o?r.line(s++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:f},range:E.cursor(c.from+f.length)}})}else o?n=t.changeByRange(a=>{let c=r.line(s++);return{changes:{from:a.from,to:a.to,insert:c.text},range:E.cursor(a.from+c.length)}}):n=t.replaceSelection(r);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Rt.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};Vt.keydown=(i,e)=>(i.inputState.setSelectionOrigin("select"),e.keyCode==27&&i.inputState.tabFocusMode!=0&&(i.inputState.tabFocusMode=Date.now()+2e3),!1);Rt.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};Rt.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};Vt.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of i.state.facet(pp))if(t=n(i,e),t)break;if(!t&&e.button==0&&(t=zb(i,e)),t){let n=!i.hasFocus;i.inputState.startMouseSelection(new _b(i,e,t,n)),n&&i.observer.ignore(()=>{Hd(i.contentDOM);let r=i.root.activeElement;r&&!r.contains(i.contentDOM)&&r.blur()});let s=i.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function Hc(i,e,t,n){if(n==1)return E.cursor(e,t);if(n==2)return cb(i.state,e,t);{let s=De.find(i.docView,e),r=i.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:r.from,l=s?s.posAtEnd:r.to;return l<i.state.doc.length&&l==r.to&&l++,E.range(o,l)}}let Xc=(i,e,t)=>e>=t.top&&e<=t.bottom&&i>=t.left&&i<=t.right;function Bb(i,e,t,n){let s=De.find(i.docView,e);if(!s)return 1;let r=e-s.posAtStart;if(r==0)return 1;if(r==s.length)return-1;let o=s.coordsAt(r,-1);if(o&&Xc(t,n,o))return-1;let l=s.coordsAt(r,1);return l&&Xc(t,n,l)?1:o&&o.bottom>=n?-1:1}function Gc(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Bb(i,t,e.clientX,e.clientY)}}const qb=j.ie&&j.ie_version<=11;let Zc=null,Kc=0,Yc=0;function Ep(i){if(!qb)return i.detail;let e=Zc,t=Yc;return Zc=i,Yc=Date.now(),Kc=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(Kc+1)%3:1}function zb(i,e){let t=Gc(i,e),n=Ep(e),s=i.state.selection;return{update(r){r.docChanged&&(t.pos=r.changes.mapPos(t.pos),s=s.map(r.changes))},get(r,o,l){let a=Gc(i,r),c,h=Hc(i,a.pos,a.bias,n);if(t.pos!=a.pos&&!o){let f=Hc(i,t.pos,t.bias,n),u=Math.min(f.from,h.from),p=Math.max(f.to,h.to);h=u<h.from?E.range(u,p):E.range(p,u)}return o?s.replaceRange(s.main.extend(h.from,h.to)):l&&n==1&&s.ranges.length>1&&(c=Ib(s,a.pos))?c:l?s.addRange(h):E.create([h])}}}function Ib(i,e){for(let t=0;t<i.ranges.length;t++){let{from:n,to:s}=i.ranges[t];if(n<=e&&s>=e)return E.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}Vt.dragstart=(i,e)=>{let{selection:{main:t}}=i.state;if(e.target.draggable){let s=i.docView.nearest(e.target);if(s&&s.isWidget){let r=s.posAtStart,o=r+s.length;(r>=t.to||o<=t.from)&&(t=E.range(r,o))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",_o(i.state,sh,i.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Vt.dragend=i=>(i.inputState.draggedContent=null,!1);function Jc(i,e,t,n){if(t=_o(i.state,nh,t),!t)return;let s=i.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:r}=i.inputState,o=n&&r&&Mb(i,e)?{from:r.from,to:r.to}:null,l={from:s,insert:t},a=i.state.changes(o?[o,l]:l);i.focus(),i.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),i.inputState.draggedContent=null}Vt.drop=(i,e)=>{if(!e.dataTransfer)return!1;if(i.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),s=0,r=()=>{++s==t.length&&Jc(i,e,n.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=r,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(n[o]=l.result),r()},l.readAsText(t[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return Jc(i,e,n,!0),!0}return!1};Vt.paste=(i,e)=>{if(i.state.readOnly)return!0;i.observer.flush();let t=Rp?null:e.clipboardData;return t?(Mp(i,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Db(i),!1)};function Lb(i,e){let t=i.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}function Wb(i){let e=[],t=[],n=!1;for(let s of i.selection.ranges)s.empty||(e.push(i.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:r}of i.selection.ranges){let o=i.doc.lineAt(r);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),s=o.number}n=!0}return{text:_o(i,sh,e.join(i.lineBreak)),ranges:t,linewise:n}}let da=null;Vt.copy=Vt.cut=(i,e)=>{let{text:t,ranges:n,linewise:s}=Wb(i.state);if(!t&&!s)return!1;da=s?t:null,e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let r=Rp?null:e.clipboardData;return r?(r.clearData(),r.setData("text/plain",t),!0):(Lb(i,t),!1)};const $p=Ri.define();function Dp(i,e){let t=[];for(let n of i.facet(Op)){let s=n(i,e);s&&t.push(s)}return t.length?i.update({effects:t,annotations:$p.of(!0)}):null}function Bp(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=Dp(i.state,e);t?i.dispatch(t):i.update([])}},10)}Rt.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),Bp(i)};Rt.blur=i=>{i.observer.clearSelectionRange(),Bp(i)};Rt.compositionstart=Rt.compositionupdate=i=>{i.observer.editContext||(i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0))};Rt.compositionend=i=>{i.observer.editContext||(i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,j.chrome&&j.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50))};Rt.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};Vt.beforeinput=(i,e)=>{var t,n;if(e.inputType=="insertReplacementText"&&i.observer.editContext){let r=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(r&&o.length){let l=o[0],a=i.posAtDOM(l.startContainer,l.startOffset),c=i.posAtDOM(l.endContainer,l.endOffset);return lh(i,{from:a,to:c,insert:i.state.toText(r)},null),!0}}let s;if(j.chrome&&j.android&&(s=Ap.find(r=>r.inputType==e.inputType))&&(i.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let r=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return j.ios&&e.inputType=="deleteContentForward"&&i.observer.flushSoon(),j.safari&&e.inputType=="insertText"&&i.inputState.composing>=0&&setTimeout(()=>Rt.compositionend(i,e),20),!1};const ef=new Set;function Vb(i){ef.has(i)||(ef.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const tf=["pre-wrap","normal","pre-line","break-spaces"];let Wn=!1;function nf(){Wn=!1}class Nb{constructor(e){this.lineWrapping=e,this.doc=ue.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return tf.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,n,s,r,o){let l=tf.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=n,this.textHeight=s,this.lineLength=r,a){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return a}}class jb{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ti{constructor(e,t,n,s,r){this.from=e,this.length=t,this.top=n,this.height=s,this._content=r}get type(){return typeof this._content=="number"?Qt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ui?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ti(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Qe=(function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i})(Qe||(Qe={}));const Qr=.001;class at{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Qr&&(Wn=!0),this.height=e)}replace(e,t,n){return at.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,s){let r=this,o=n.doc;for(let l=s.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:h,toB:f}=s[l],u=r.lineAt(a,Qe.ByPosNoHeight,n.setDoc(t),0,0),p=u.to>=c?u:r.lineAt(c,Qe.ByPosNoHeight,n,0,0);for(f+=p.to-c,c=p.to;l>0&&u.from<=s[l-1].toA;)a=s[l-1].fromA,h=s[l-1].fromB,l--,a<u.from&&(u=r.lineAt(a,Qe.ByPosNoHeight,n,0,0));h+=u.from-a,a=u.from;let g=ah.build(n.setDoc(o),e,h,f);r=Gr(r,r.replace(a,c,g))}return r.updateHeight(n,0)}static empty(){return new yt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,s=0,r=0;for(;;)if(t==n)if(s>r*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),n+=1+l.break,s-=l.size}else if(r>s*2){let l=e[n];l.break?e.splice(n,1,l.left,null,l.right):e.splice(n,1,l.left,l.right),n+=2+l.break,r-=l.size}else break;else if(s<r){let l=e[t++];l&&(s+=l.size)}else{let l=e[--n];l&&(r+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new Fb(at.of(e.slice(0,t)),o,at.of(e.slice(n)))}}function Gr(i,e){return i==e?i:(i.constructor!=e.constructor&&(Wn=!0),e)}at.prototype.size=1;class qp extends at{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,s){return new ti(s,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,s,r){return this.blockAt(0,n,s,r)}forEachLine(e,t,n,s,r,o){e<=r+this.length&&t>=r&&o(this.blockAt(0,n,s,r))}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class yt extends qp{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,s){return new ti(s,this.length,n,this.height,this.breaks)}replace(e,t,n){let s=n[0];return n.length==1&&(s instanceof yt||s instanceof Xe&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Xe?s=new yt(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):at.of(n)}updateHeight(e,t=0,n=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Xe extends at{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,r=s-n+1,o,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*r);o=a/r,this.length>r+1&&(l=(this.height-a)/(this.length-r-1))}else o=this.height/r;return{firstLine:n,lastLine:s,perLine:o,perChar:l}}blockAt(e,t,n,s){let{firstLine:r,lastLine:o,perLine:l,perChar:a}=this.heightMetrics(t,s);if(t.lineWrapping){let c=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),h=t.doc.lineAt(c),f=l+h.length*a,u=Math.max(n,e-f/2);return new ti(h.from,h.length,u,f,0)}else{let c=Math.max(0,Math.min(o-r,Math.floor((e-n)/l))),{from:h,length:f}=t.doc.line(r+c);return new ti(h,f,n+l*c,l,0)}}lineAt(e,t,n,s,r){if(t==Qe.ByHeight)return this.blockAt(e,n,s,r);if(t==Qe.ByPosNoHeight){let{from:p,to:g}=n.doc.lineAt(e);return new ti(p,g-p,0,0,0)}let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(n,r),c=n.doc.lineAt(e),h=l+c.length*a,f=c.number-o,u=s+l*f+a*(c.from-r-f);return new ti(c.from,c.length,Math.max(s,Math.min(u,s+this.height-h)),h,0)}forEachLine(e,t,n,s,r,o){e=Math.max(e,r),t=Math.min(t,r+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(n,r);for(let h=e,f=s;h<=t;){let u=n.doc.lineAt(h);if(h==e){let g=u.number-l;f+=a*g+c*(e-r-g)}let p=a+c*u.length;o(new ti(u.from,u.length,f,p,0)),f+=p,h=u.to+1}}replace(e,t,n){let s=this.length-t;if(s>0){let r=n[n.length-1];r instanceof Xe?n[n.length-1]=new Xe(r.length+s):n.push(null,new Xe(s-1))}if(e>0){let r=n[0];r instanceof Xe?n[0]=new Xe(e+r.length):n.unshift(new Xe(e-1),null)}return at.of(n)}decomposeLeft(e,t){t.push(new Xe(e-1),null)}decomposeRight(e,t){t.push(null,new Xe(this.length-e-1))}updateHeight(e,t=0,n=!1,s){let r=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],l=Math.max(t,s.from),a=-1;for(s.from>t&&o.push(new Xe(s.from-t-1).updateHeight(e,t));l<=r&&s.more;){let h=e.doc.lineAt(l).length;o.length&&o.push(null);let f=s.heights[s.index++];a==-1?a=f:Math.abs(f-a)>=Qr&&(a=-2);let u=new yt(h,f);u.outdated=!1,o.push(u),l+=h+1}l<=r&&o.push(null,new Xe(r-l).updateHeight(e,l));let c=at.of(o);return(a<0||Math.abs(c.height-this.height)>=Qr||Math.abs(a-this.heightMetrics(e,t).perLine)>=Qr)&&(Wn=!0),Gr(this,c)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Fb extends at{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,s){let r=n+this.left.height;return e<r?this.left.blockAt(e,t,n,s):this.right.blockAt(e,t,r,s+this.left.length+this.break)}lineAt(e,t,n,s,r){let o=s+this.left.height,l=r+this.left.length+this.break,a=t==Qe.ByHeight?e<o:e<l,c=a?this.left.lineAt(e,t,n,s,r):this.right.lineAt(e,t,n,o,l);if(this.break||(a?c.to<l:c.from>l))return c;let h=t==Qe.ByPosNoHeight?Qe.ByPosNoHeight:Qe.ByPos;return a?c.join(this.right.lineAt(l,h,n,o,l)):this.left.lineAt(l,h,n,s,r).join(c)}forEachLine(e,t,n,s,r,o){let l=s+this.left.height,a=r+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,s,r,o),t>=a&&this.right.forEachLine(e,t,n,l,a,o);else{let c=this.lineAt(a,Qe.ByPos,n,s,r);e<c.from&&this.left.forEachLine(e,c.from-1,n,s,r,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,n,l,a,o)}}replace(e,t,n){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,n));let r=[];e>0&&this.decomposeLeft(e,r);let o=r.length;for(let l of n)r.push(l);if(e>0&&sf(r,o-1),t<this.length){let l=r.length;this.decomposeRight(t,r),sf(r,l)}return at.of(r)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?at.of(this.break?[e,null,t]:[e,t]):(this.left=Gr(this.left,e),this.right=Gr(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,s){let{left:r,right:o}=this,l=t+r.length+this.break,a=null;return s&&s.from<=t+r.length&&s.more?a=r=r.updateHeight(e,t,n,s):r.updateHeight(e,t,n),s&&s.from<=l+o.length&&s.more?a=o=o.updateHeight(e,l,n,s):o.updateHeight(e,l,n),a?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function sf(i,e){let t,n;i[e]==null&&(t=i[e-1])instanceof Xe&&(n=i[e+1])instanceof Xe&&i.splice(e-1,3,new Xe(t.length+1+n.length))}const Ub=5;class ah{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof yt?s.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new yt(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0,r=n.widget?n.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new qp(o,s,n)):(o||r||s>=Ub)&&this.addLineDeco(s,r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new yt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Xe(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof yt)return e;let t=new yt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let s=this.ensureLine();s.length+=n,s.collapsed+=n,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof yt)&&!this.isCovered?this.nodes.push(new yt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let s of this.nodes)s instanceof yt&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,t,n,s){let r=new ah(n,e);return Oe.spans(t,n,s,r,0),r.finish(n)}}function Hb(i,e,t){let n=new Xb;return Oe.compare(i,e,t,n,0),n.changes}class Xb{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,s){(e<t||n&&n.heightRelevant||s&&s.heightRelevant)&&Cr(e,t,this.changes,5)}}function Gb(i,e){let t=i.getBoundingClientRect(),n=i.ownerDocument,s=n.defaultView||window,r=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(s.innerHeight,t.bottom);for(let c=i.parentNode;c&&c!=n.body;)if(c.nodeType==1){let h=c,f=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&f.overflow!="visible"){let u=h.getBoundingClientRect();r=Math.max(r,u.left),o=Math.min(o,u.right),l=Math.max(l,u.top),a=Math.min(c==i.parentNode?s.innerHeight:a,u.bottom)}c=f.position=="absolute"||f.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:r-t.left,right:Math.max(r,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function Zb(i){let e=i.getBoundingClientRect(),t=i.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function Kb(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class ol{constructor(e,t,n,s){this.from=e,this.to=t,this.size=n,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],r=t[n];if(s.from!=r.from||s.to!=r.to||s.size!=r.size)return!1}return!0}draw(e,t){return Ae.replace({widget:new Yb(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Yb extends Ao{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class rf{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=of,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ne.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(rh).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new Nb(t),this.stateDeco=e.facet(qs).filter(n=>typeof n!="function"),this.heightMap=at.empty().applyChanges(this.stateDeco,ue.empty,this.heightOracle.setDoc(e.doc),[new At(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ae.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let s=n?t.head:t.anchor;if(!e.some(({from:r,to:o})=>s>=r&&s<=o)){let{from:r,to:o}=this.lineBlockAt(s);e.push(new rr(r,o))}}return this.viewports=e.sort((n,s)=>n.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?of:new hh(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(hs(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(qs).filter(h=>typeof h!="function");let s=e.changedRanges,r=At.extendWithRanges(s,Hb(n,this.stateDeco,e?e.changes:Le.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);nf(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),r),(this.heightMap.height!=o||Wn)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let a=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let c=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(tb)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),s=this.heightOracle,r=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Ne.RTL:Ne.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),l=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,h=0;if(l.width&&l.height){let{scaleX:C,scaleY:M}=Ud(t,l);(C>.005&&Math.abs(this.scaleX-C)>.005||M>.005&&Math.abs(this.scaleY-M)>.005)&&(this.scaleX=C,this.scaleY=M,c|=16,o=a=!0)}let f=(parseInt(n.paddingTop)||0)*this.scaleY,u=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=u)&&(this.paddingTop=f,this.paddingBottom=u,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=Gd(e.scrollDOM);let g=(this.printing?Kb:Gb)(t,this.paddingTop),O=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(a=!0)),!this.inView&&!this.scrollTarget&&!Zb(e.dom))return 0;let y=l.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),a){let C=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(C)&&(o=!0),o||s.lineWrapping&&Math.abs(y-this.contentDOMWidth)>s.charWidth){let{lineHeight:M,charWidth:N,textHeight:D}=e.docView.measureTextSize();o=M>0&&s.refresh(r,M,N,D,Math.max(5,y/N),C),o&&(e.docView.minWidth=0,c|=16)}O>0&&v>0?h=Math.max(O,v):O<0&&v<0&&(h=Math.min(O,v)),nf();for(let M of this.viewports){let N=M.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(M);this.heightMap=(o?at.empty().applyChanges(this.stateDeco,ue.empty,this.heightOracle,[new At(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new jb(M.from,N))}Wn&&(c|=2)}let T=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),c|=this.updateForViewport()),(c&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,a=new rr(s.lineAt(o-n*1e3,Qe.ByHeight,r,0,0).from,s.lineAt(l+(1-n)*1e3,Qe.ByHeight,r,0,0).to);if(t){let{head:c}=t.range;if(c<a.from||c>a.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=s.lineAt(c,Qe.ByPos,r,0,0),u;t.y=="center"?u=(f.top+f.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<a.from?u=f.top:u=f.bottom-h,a=new rr(s.lineAt(u-1e3/2,Qe.ByHeight,r,0,0).from,s.lineAt(u+h+1e3/2,Qe.ByHeight,r,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new rr(this.heightMap.lineAt(n,Qe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Qe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Qe.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(t,Qe.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||s<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||r>=l+Math.max(10,Math.min(n,250)))&&s>o-2*1e3&&r<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let s of e)t.touchesRange(s.from,s.to)||n.push(new ol(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,s=n?1e4:2e3,r=s>>1,o=s<<1;if(this.defaultTextDirection!=Ne.LTR&&!n)return[];let l=[],a=(h,f,u,p)=>{if(f-h<r)return;let g=this.state.selection.main,O=[g.from];g.empty||O.push(g.to);for(let x of O)if(x>h&&x<f){a(h,x-10,u,p),a(x+10,f,u,p);return}let v=ex(e,x=>x.from>=u.from&&x.to<=u.to&&Math.abs(x.from-h)<r&&Math.abs(x.to-f)<r&&!O.some(y=>x.from<y&&x.to>y));if(!v){if(f<u.to&&t&&n&&t.visibleRanges.some(T=>T.from<=f&&T.to>=f)){let T=t.moveToLineBoundary(E.cursor(f),!1,!0).head;T>h&&(f=T)}let x=this.gapSize(u,h,f,p),y=n||x<2e6?x:2e6;v=new ol(h,f,x,y)}l.push(v)},c=h=>{if(h.length<o||h.type!=Qt.Text)return;let f=Jb(h.from,h.to,this.stateDeco);if(f.total<o)return;let u=this.scrollTarget?this.scrollTarget.range.head:null,p,g;if(n){let O=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,x;if(u!=null){let y=lr(f,u),T=((this.visibleBottom-this.visibleTop)/2+O)/h.height;v=y-T,x=y+T}else v=(this.visibleTop-h.top-O)/h.height,x=(this.visibleBottom-h.top+O)/h.height;p=or(f,v),g=or(f,x)}else{let O=f.total*this.heightOracle.charWidth,v=s*this.heightOracle.charWidth,x=0;if(O>2e6)for(let N of e)N.from>=h.from&&N.from<h.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+x<this.pixelViewport.left&&(x=N.size-N.displaySize);let y=this.pixelViewport.left+x,T=this.pixelViewport.right+x,C,M;if(u!=null){let N=lr(f,u),D=((T-y)/2+v)/O;C=N-D,M=N+D}else C=(y-v)/O,M=(T+v)/O;p=or(f,C),g=or(f,M)}p>h.from&&a(h.from,p,h,f),g<h.to&&a(g,h.to,h,f)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(c):c(h);return l}gapSize(e,t,n,s){let r=lr(s,n)-lr(s,t);return this.heightOracle.lineWrapping?e.height*r:s.total*this.heightOracle.charWidth*r}updateLineGaps(e){ol.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ae.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Oe.spans(t,this.viewport.from,this.viewport.to,{span(r,o){n.push({from:r,to:o})},point(){}},20);let s=0;if(n.length!=this.visibleRanges.length)s=12;else for(let r=0;r<n.length&&!(s&8);r++){let o=this.visibleRanges[r],l=n[r];(o.from!=l.from||o.to!=l.to)&&(s|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(s|=8))}return this.visibleRanges=n,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||hs(this.heightMap.lineAt(e,Qe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||hs(this.heightMap.lineAt(this.scaler.fromDOM(e),Qe.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return hs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class rr{constructor(e,t){this.from=e,this.to=t}}function Jb(i,e,t){let n=[],s=i,r=0;return Oe.spans(t,i,e,{span(){},point(o,l){o>s&&(n.push({from:s,to:o}),r+=o-s),s=l}},20),s<e&&(n.push({from:s,to:e}),r+=e-s),{total:r,ranges:n}}function or({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(i*t);for(let s=0;;s++){let{from:r,to:o}=e[s],l=o-r;if(n<=l)return r+n;n-=l}}function lr(i,e){let t=0;for(let{from:n,to:s}of i.ranges){if(e<=s){t+=e-n;break}t+=s-n}return t/i.total}function ex(i,e){for(let t of i)if(e(t))return t}const of={toDOM(i){return i},fromDOM(i){return i},scale:1,eq(i){return i==this}};class hh{constructor(e,t,n){let s=0,r=0,o=0;this.viewports=n.map(({from:l,to:a})=>{let c=t.lineAt(l,Qe.ByPos,e,0,0).top,h=t.lineAt(a,Qe.ByPos,e,0,0).bottom;return s+=h-c,{from:l,to:a,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let l of this.viewports)l.domTop=o+(l.top-r)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),r=l.bottom}toDOM(e){for(let t=0,n=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return s+(e-n)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);n=r.bottom,s=r.domBottom}}fromDOM(e){for(let t=0,n=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return n+(e-s)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);n=r.bottom,s=r.domBottom}}eq(e){return e instanceof hh?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function hs(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),n=e.toDOM(i.bottom);return new ti(i.from,i.length,t,n-t,Array.isArray(i._content)?i._content.map(s=>hs(s,e)):i._content)}const ar=X.define({combine:i=>i.join(" ")}),pa=X.define({combine:i=>i.indexOf(!0)>-1}),ga=ji.newName(),zp=ji.newName(),Ip=ji.newName(),Lp={"&light":"."+zp,"&dark":"."+Ip};function ma(i,e,t){return new ji(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,s=>{if(s=="&")return i;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):i+" "+n}})}const tx=ma("."+ga,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Lp),ix={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ll=j.ie&&j.ie_version<=11;class nx{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Bv,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(j.ie&&j.ie_version<=11||j.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&j.android&&e.constructor.EDIT_CONTEXT!==!1&&!(j.chrome&&j.chrome_version<126)&&(this.editContext=new rx(e),e.state.facet(ki)&&(e.contentDOM.editContext=this.editContext.editContext)),ll&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,s=this.selectionRange;if(n.state.facet(ki)?n.root.activeElement!=this.dom:!Tr(this.dom,s))return;let r=s.anchorNode&&n.docView.nearest(s.anchorNode);if(r&&r.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(j.ie&&j.ie_version<=11||j.android&&j.chrome)&&!n.state.selection.main.empty&&s.focusNode&&ys(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ds(e.root);if(!t)return!1;let n=j.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&sx(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let s=Tr(this.dom,n);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&zv(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ix),ll&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ll&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let s=()=>{let r=this.delayedAndroidKey;r&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=r.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&r.force&&Rn(this.dom,r.key,r.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,s=!1;for(let r of e){let o=this.readMutation(r);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:s}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),s=this.selectionChanged&&Tr(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new yb(this.view,e,t,n);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,s=Qp(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=lf(t,e.previousSibling||e.target.previousSibling,-1),s=lf(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ki)!=e.state.facet(ki)&&(e.view.contentDOM.editContext=e.state.facet(ki)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function lf(i,e,t){for(;e;){let n=Te.get(e);if(n&&n.parent==i)return n;let s=e.parentNode;e=s!=i.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function af(i,e){let t=e.startContainer,n=e.startOffset,s=e.endContainer,r=e.endOffset,o=i.docView.domAtPos(i.state.selection.main.anchor);return ys(o.node,o.offset,s,r)&&([t,n,s,r]=[s,r,t,n]),{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:r}}function sx(i,e){if(e.getComposedRanges){let s=e.getComposedRanges(i.root)[0];if(s)return af(i,s)}let t=null;function n(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return i.contentDOM.addEventListener("beforeinput",n,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",n,!0),t?af(i,t):null}class rx{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let s=e.state.selection.main,{anchor:r,head:o}=s,l=this.toEditorPos(n.updateRangeStart),a=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:l,drifted:!1});let c={from:l,to:a,insert:ue.of(n.text.split(`
`))};if(c.from==this.from&&r<this.from?c.from=r:c.to==this.to&&r>this.to&&(c.to=r),c.from==c.to&&!c.insert.length){let h=E.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));h.main.eq(s)||e.dispatch({selection:h,userEvent:"select"});return}if((j.mac||j.android)&&c.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:l,to:a,insert:ue.of([n.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let h=this.to-this.from+(c.to-c.from+c.insert.length);lh(e,c,E.single(this.toEditorPos(n.selectionStart,h),this.toEditorPos(n.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let s=[],r=null;for(let o=this.toEditorPos(n.rangeStart),l=this.toEditorPos(n.rangeEnd);o<l;o++){let a=e.coordsForChar(o);r=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||r||new DOMRect,s.push(r)}t.updateCharacterBounds(n.rangeStart,s)},this.handlers.textformatupdate=n=>{let s=[];for(let r of n.getTextFormats()){let o=r.underlineStyle,l=r.underlineThickness;if(o!="None"&&l!="None"){let a=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);if(a<c){let h=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;s.push(Ae.mark({attributes:{style:h}}).range(a,c))}}}e.dispatch({effects:xp.of(Ae.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let s=Ds(n.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,s=this.pendingContextChange;return e.changes.iterChanges((r,o,l,a,c)=>{if(n)return;let h=c.length-(o-r);if(s&&o>=s.to)if(s.from==r&&s.to==o&&s.insert.eq(c)){s=this.pendingContextChange=null,t+=h,this.to+=h;return}else s=null,this.revertPending(e.state);if(r+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(r<this.to){if(r<this.from||o>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(r),this.toContextPos(o),c.toString()),this.to+=h}t+=h}),s&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(n,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Y{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(s=>s.forEach(r=>n(r,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||qv(e.parent)||document,this.viewState=new rf(e.state||de.create(e)),e.scrollTo&&e.scrollTo.is(ir)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(wn).map(s=>new nl(s));for(let s of this.plugins)s.update(this);this.observer=new nx(this),this.inputState=new Cb(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ic(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof qe?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,s,r=this.state;for(let u of e){if(u.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=u.state}if(this.destroyed){this.viewState.state=r;return}let o=this.hasFocus,l=0,a=null;e.some(u=>u.annotation($p))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=Dp(r,o),a||(l=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(h=null)):this.observer.clear(),r.facet(de.phrases)!=this.state.facet(de.phrases))return this.setState(r);s=Xr.create(this,r,e),s.flags|=l;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let u of e){if(f&&(f=f.map(u.changes)),u.scrollIntoView){let{main:p}=u.state.selection;f=new Mn(p.empty?p:E.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of u.effects)p.is(ir)&&(f=p.value.clip(this.state))}this.viewState.update(s,f),this.bidiCache=Zr.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(ls)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(u=>u.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(ar)!=s.state.facet(ar)&&(this.viewState.mustMeasureContent=!0),(t||n||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let u of this.state.facet(fa))try{u(s)}catch(p){ii(this.state,p,"update listener")}(a||h)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),h&&!Qp(this,h)&&c.force&&Rn(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new rf(e),this.plugins=e.facet(wn).map(n=>new nl(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new Ic(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(wn),n=e.state.facet(wn);if(t!=n){let s=[];for(let r of n){let o=t.indexOf(r);if(o<0)s.push(new nl(r));else{let l=this.plugins[o];l.mustUpdate=e,s.push(l)}}for(let r of this.plugins)r.mustUpdate!=e&&r.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){ii(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,s=n.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(Gd(n))r=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(s);r=p.from,o=p.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];a&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(p=>{try{return p.read(this)}catch(g){return ii(this.state,g),hf}}),f=Xr.create(this,this.state,[]),u=!1;f.flags|=a,t?t.flags|=a:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),u=this.docView.update(f),u&&this.docViewUpdate());for(let p=0;p<c.length;p++)if(h[p]!=hf)try{let g=c[p];g.write&&g.write(h[p],this)}catch(g){ii(this.state,g)}if(u&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(g>1||g<-1){s=s+g,n.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(fa))l(t)}get themeClasses(){return ga+" "+(this.state.facet(pa)?Ip:zp)+" "+this.state.facet(ar)}updateAttrs(){let e=cf(this,yp,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ki)?"true":"false",class:"cm-content",style:`${j.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),cf(this,rh,t);let n=this.observer.ignore(()=>{let s=oa(this.contentDOM,this.contentAttrs,t),r=oa(this.dom,this.editorAttrs,e);return s||r});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let s of n.effects)if(s.is(Y.announce)){t&&(this.announceDOM.textContent=""),t=!1;let r=this.announceDOM.appendChild(document.createElement("div"));r.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(ls);let e=this.state.facet(Y.cspNonce);ji.mount(this.root,this.styleModules.concat(tx).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return rl(this,e,jc(this,e,t,n))}moveByGroup(e,t){return rl(this,e,jc(this,e,t,n=>Ob(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),s=this.textDirectionAt(e.from),r=n[t?n.length-1:0];return E.cursor(r.side(t,s)+e.from,r.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,n=!0){return mb(this,e,t,n)}moveVertically(e,t,n){return rl(this,e,vb(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Pp(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),r=this.bidiSpans(s),o=r[Li.find(r,e-s.from,-1,t)];return Po(n,o.dir==Ne.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(vp)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>ox)return cp(e.length);let t=this.textDirectionAt(e.from),n;for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t&&(r.fresh||hp(r.isolates,n=zc(this,e))))return r.order;n||(n=zc(this,e));let s=Yv(e.text,t,n);return this.bidiCache.push(new Zr(e.from,e.to,t,n,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||j.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Hd(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return ir.of(new Mn(typeof e=="number"?E.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return ir.of(new Mn(E.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Hi.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Hi.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=ji.newName(),s=[ar.of(n),ls.of(ma(`.${n}`,e))];return t&&t.dark&&s.push(pa.of(!0)),s}static baseTheme(e){return So.lowest(ls.of(ma("."+ga,e,Lp)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),s=n&&Te.get(n)||Te.get(e);return((t=s?.rootView)===null||t===void 0?void 0:t.view)||null}}Y.styleModule=ls;Y.inputHandler=mp;Y.clipboardInputFilter=nh;Y.clipboardOutputFilter=sh;Y.scrollHandler=bp;Y.focusChangeEffect=Op;Y.perLineTextDirection=vp;Y.exceptionSink=gp;Y.updateListener=fa;Y.editable=ki;Y.mouseSelectionStyle=pp;Y.dragMovesSelection=dp;Y.clickAddsSelectionRange=up;Y.decorations=qs;Y.outerDecorations=wp;Y.atomicRanges=oh;Y.bidiIsolatedRanges=kp;Y.scrollMargins=Sp;Y.darkTheme=pa;Y.cspNonce=X.define({combine:i=>i.length?i[0]:""});Y.contentAttributes=rh;Y.editorAttributes=yp;Y.lineWrapping=Y.contentAttributes.of({class:"cm-lineWrapping"});Y.announce=Re.define();const ox=4096,hf={};class Zr{constructor(e,t,n,s,r,o){this.from=e,this.to=t,this.dir=n,this.isolates=s,this.fresh=r,this.order=o}static update(e,t){if(t.empty&&!e.some(r=>r.fresh))return e;let n=[],s=e.length?e[e.length-1].dir:Ne.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let o=e[r];o.dir==s&&!t.touchesRange(o.from,o.to)&&n.push(new Zr(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function cf(i,e,t){for(let n=i.state.facet(e),s=n.length-1;s>=0;s--){let r=n[s],o=typeof r=="function"?r(i):r;o&&ra(o,t)}return t}const lx=j.mac?"mac":j.windows?"win":j.linux?"linux":"key";function ax(i,e){const t=i.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let s,r,o,l;for(let a=0;a<t.length-1;++a){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+c)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function hr(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const hx=So.default(Y.domEventHandlers({keydown(i,e){return dx(cx(e.state),i,e,"editor")}})),ch=X.define({enables:hx}),ff=new WeakMap;function cx(i){let e=i.facet(ch),t=ff.get(e);return t||ff.set(e,t=ux(e.reduce((n,s)=>n.concat(s),[]))),t}let zi=null;const fx=4e3;function ux(i,e=lx){let t=Object.create(null),n=Object.create(null),s=(o,l)=>{let a=n[o];if(a==null)n[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},r=(o,l,a,c,h)=>{var f,u;let p=t[o]||(t[o]=Object.create(null)),g=l.split(/ (?!$)/).map(x=>ax(x,e));for(let x=1;x<g.length;x++){let y=g.slice(0,x).join(" ");s(y,!0),p[y]||(p[y]={preventDefault:!0,stopPropagation:!1,run:[T=>{let C=zi={view:T,prefix:y,scope:o};return setTimeout(()=>{zi==C&&(zi=null)},fx),!0}]})}let O=g.join(" ");s(O,!1);let v=p[O]||(p[O]={preventDefault:!1,stopPropagation:!1,run:((u=(f=p._any)===null||f===void 0?void 0:f.run)===null||u===void 0?void 0:u.slice())||[]});a&&v.run.push(a),c&&(v.preventDefault=!0),h&&(v.stopPropagation=!0)};for(let o of i){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of l){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let u in h)h[u].run.push(p=>f(p,Oa))}let a=o[e]||o.key;if(a)for(let c of l)r(c,a,o.run,o.preventDefault,o.stopPropagation),o.shift&&r(c,"Shift-"+a,o.shift,o.preventDefault,o.stopPropagation)}return t}let Oa=null;function dx(i,e,t,n){Oa=e;let s=Mv(e),r=pv(s,0),o=gv(r)==s.length&&s!=" ",l="",a=!1,c=!1,h=!1;zi&&zi.view==t&&zi.scope==n&&(l=zi.prefix+" ",_p.indexOf(e.keyCode)<0&&(c=!0,zi=null));let f=new Set,u=v=>{if(v){for(let x of v.run)if(!f.has(x)&&(f.add(x),x(t)))return v.stopPropagation&&(h=!0),!0;v.preventDefault&&(v.stopPropagation&&(h=!0),c=!0)}return!1},p=i[n],g,O;return p&&(u(p[l+hr(s,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(j.windows&&e.ctrlKey&&e.altKey)&&!(j.mac&&e.altKey&&!e.ctrlKey)&&(g=Fi[e.keyCode])&&g!=s?(u(p[l+hr(g,e,!0)])||e.shiftKey&&(O=$s[e.keyCode])!=s&&O!=g&&u(p[l+hr(O,e,!1)]))&&(a=!0):o&&e.shiftKey&&u(p[l+hr(s,e,!0)])&&(a=!0),!a&&u(p._any)&&(a=!0)),c&&(a=!0),a&&h&&e.stopPropagation(),Oa=null,a}class Xi extends un{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Xi.prototype.elementClass="";Xi.prototype.toDOM=void 0;Xi.prototype.mapMode=ot.TrackBefore;Xi.prototype.startSide=Xi.prototype.endSide=-1;Xi.prototype.point=!0;const Ar=X.define(),px=X.define(),_r=X.define(),uf=X.define({combine:i=>i.some(e=>e)});function gx(i){return[mx]}const mx=Hi.fromClass(class{constructor(i){this.view=i,this.domAfter=null,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet(_r).map(e=>new pf(i,e)),this.fixed=!i.state.facet(uf);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(i.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(uf)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Oe.iter(this.view.state.facet(Ar),this.view.viewport.from),n=[],s=this.gutters.map(r=>new Ox(r,this.view.viewport,-this.view.documentPadding.top));for(let r of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(r.type)){let o=!0;for(let l of r.type)if(l.type==Qt.Text&&o){va(t,n,l.from);for(let a of s)a.line(this.view,l,n);o=!1}else if(l.widget)for(let a of s)a.widget(this.view,l)}else if(r.type==Qt.Text){va(t,n,r.from);for(let o of s)o.line(this.view,r,n)}else if(r.widget)for(let o of s)o.widget(this.view,r);for(let r of s)r.finish();i&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(i){let e=i.startState.facet(_r),t=i.state.facet(_r),n=i.docChanged||i.heightChanged||i.viewportChanged||!Oe.eq(i.startState.facet(Ar),i.state.facet(Ar),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(i)&&(n=!0);else{n=!0;let s=[];for(let r of t){let o=e.indexOf(r);o<0?s.push(new pf(this.view,r)):(this.gutters[o].update(i),s.push(this.gutters[o]))}for(let r of this.gutters)r.dom.remove(),s.indexOf(r)<0&&r.destroy();for(let r of s)r.config.side=="after"?this.getDOMAfter().appendChild(r.dom):this.dom.appendChild(r.dom);this.gutters=s}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:i=>Y.scrollMargins.of(e=>{let t=e.plugin(i);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Ne.LTR?{left:n,right:s}:{right:n,left:s}})});function df(i){return Array.isArray(i)?i:[i]}function va(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class Ox{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Oe.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:s}=this,r=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==s.elements.length){let l=new Wp(e,o,r,n);s.elements.push(l),s.dom.appendChild(l.dom)}else s.elements[this.i].update(e,o,r,n);this.height=t.bottom,this.i++}line(e,t,n){let s=[];va(this.cursor,s,t.from),n.length&&(s=s.concat(n));let r=this.gutter.config.lineMarker(e,t,s);r&&s.unshift(r);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),s=n?[n]:null;for(let r of e.state.facet(px)){let o=r(e,t.widget,t);o&&(s||(s=[])).push(o)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class pf{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,s=>{let r=s.target,o;if(r!=this.dom&&this.dom.contains(r)){for(;r.parentNode!=this.dom;)r=r.parentNode;let a=r.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=s.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,l,s)&&s.preventDefault()});this.markers=df(t.markers(e)),t.initialSpacer&&(this.spacer=new Wp(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=df(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let n=e.view.viewport;return!Oe.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Wp{constructor(e,t,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,s)}update(e,t,n,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),vx(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let n="cm-gutterElement",s=this.dom.firstChild;for(let r=0,o=0;;){let l=o,a=r<t.length?t[r++]:null,c=!1;if(a){let h=a.elementClass;h&&(n+=" "+h);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(a)){l=f,c=!0;break}}else l=this.markers.length;for(;o<l;){let h=this.markers[o++];if(h.toDOM){h.destroy(s);let f=s.nextSibling;s.remove(),s=f}}if(!a)break;a.toDOM&&(c?s=s.nextSibling:this.dom.insertBefore(a.toDOM(e),s)),c&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function vx(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const bx=X.define(),xx=X.define(),kn=X.define({combine(i){return Ja(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let s in t){let r=n[s],o=t[s];n[s]=r?(l,a,c)=>r(l,a,c)||o(l,a,c):o}return n}})}});class al extends Xi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function hl(i,e){return i.state.facet(kn).formatNumber(e,i.state)}const yx=_r.compute([kn],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(bx)},lineMarker(e,t,n){return n.some(s=>s.toDOM)?null:new al(hl(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let s of e.state.facet(xx)){let r=s(e,t,n);if(r)return r}return null},lineMarkerChange:e=>e.startState.facet(kn)!=e.state.facet(kn),initialSpacer(e){return new al(hl(e,gf(e.state.doc.lines)))},updateSpacer(e,t){let n=hl(t.view,gf(t.view.state.doc.lines));return n==e.number?e:new al(n)},domEventHandlers:i.facet(kn).domEventHandlers,side:"before"}));function wx(i={}){return[kn.of(i),gx(),yx]}function gf(i){let e=9;for(;e<i;)e=e*10+9;return e}const kx=new class extends Xi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Sx=Ar.compute(["selection"],i=>{let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.head).from;s>t&&(t=s,e.push(kx.range(s)))}return Oe.of(e)});function Tx(){return Sx}const Vp=1024;let Cx=0;class cl{constructor(e,t){this.from=e,this.to=t}}class re{constructor(e={}){this.id=Cx++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ot.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}re.closedBy=new re({deserialize:i=>i.split(" ")});re.openedBy=new re({deserialize:i=>i.split(" ")});re.group=new re({deserialize:i=>i.split(" ")});re.isolate=new re({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});re.contextHash=new re({perNode:!0});re.lookAhead=new re({perNode:!0});re.mounted=new re({perNode:!0});class Kr{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[re.mounted.id]}}const Px=Object.create(null);class Ot{constructor(e,t,n,s=0){this.name=e,this.props=t,this.id=n,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):Px,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Ot(e.name||"",t,e.id,n);if(e.props){for(let r of e.props)if(Array.isArray(r)||(r=r(s)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(re.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let s of n.split(" "))t[s]=e[n];return n=>{for(let s=n.prop(re.group),r=-1;r<(s?s.length:0);r++){let o=t[r<0?n.name:s[r]];if(o)return o}}}}Ot.none=new Ot("",Object.create(null),0,8);class fh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let s=null;for(let r of e){let o=r(n);o&&(s||(s=Object.assign({},n.props)),s[o[0].id]=o[1])}t.push(s?new Ot(n.name,s,n.id,n.flags):n)}return new fh(t)}}const cr=new WeakMap,mf=new WeakMap;var We;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(We||(We={}));class ze{constructor(e,t,n,s,r){if(this.type=e,this.children=t,this.positions=n,this.length=s,this.props=null,r&&r.length){this.props=Object.create(null);for(let[o,l]of r)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=Kr.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let s=n.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new xa(this.topNode,e)}cursorAt(e,t=0,n=0){let s=cr.get(this)||this.topNode,r=new xa(s);return r.moveTo(e,t),cr.set(this,r._tree),r}get topNode(){return new mt(this,0,0,null)}resolve(e,t=0){let n=zs(cr.get(this)||this.topNode,e,t,!1);return cr.set(this,n),n}resolveInner(e,t=0){let n=zs(mf.get(this)||this.topNode,e,t,!0);return mf.set(this,n),n}resolveStack(e,t=0){return _x(this,e,t)}iterate(e){let{enter:t,leave:n,from:s=0,to:r=this.length}=e,o=e.mode||0,l=(o&We.IncludeAnonymous)>0;for(let a=this.cursor(o|We.IncludeAnonymous);;){let c=!1;if(a.from<=r&&a.to>=s&&(!l&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;c=!0}for(;c&&n&&(l||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ph(Ot.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,s)=>new ze(this.type,t,n,s,this.propValues),e.makeTree||((t,n,s)=>new ze(Ot.none,t,n,s)))}static build(e){return Rx(e)}}ze.empty=new ze(Ot.none,[],[],0);class uh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new uh(this.buffer,this.index)}}class Gi{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Ot.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],s=this.set.types[t],r=s.name;if(/\W/.test(r)&&!s.isError&&(r=JSON.stringify(r)),e+=4,n==e)return r;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,n,s,r){let{buffer:o}=this,l=-1;for(let a=e;a!=t&&!(Np(r,s,o[a+1],o[a+2])&&(l=a,n>0));a=o[a+3]);return l}slice(e,t,n){let s=this.buffer,r=new Uint16Array(t-e),o=0;for(let l=e,a=0;l<t;){r[a++]=s[l++],r[a++]=s[l++]-n;let c=r[a++]=s[l++]-n;r[a++]=s[l++]-e,o=Math.max(o,c)}return new Gi(r,o,this.set)}}function Np(i,e,t,n){switch(i){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function zs(i,e,t,n){for(var s;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!n&&i instanceof mt&&i.index<0?null:i.parent;if(!o)return i;i=o}let r=n?0:We.IgnoreOverlays;if(n)for(let o=i,l=o.parent;l;o=l,l=o.parent)o instanceof mt&&o.index<0&&((s=l.enter(e,t,r))===null||s===void 0?void 0:s.from)!=o.from&&(i=l);for(;;){let o=i.enter(e,t,r);if(!o)return i;i=o}}class jp{cursor(e=0){return new xa(this,e)}getChild(e,t=null,n=null){let s=Of(this,e,t,n);return s.length?s[0]:null}getChildren(e,t=null,n=null){return Of(this,e,t,n)}resolve(e,t=0){return zs(this,e,t,!1)}resolveInner(e,t=0){return zs(this,e,t,!0)}matchContext(e){return ba(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(n=t,t=s.prevSibling):t=s}return n}get node(){return this}get next(){return this.parent}}class mt extends jp{constructor(e,t,n,s){super(),this._tree=e,this.from=t,this.index=n,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,s,r=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,c=t>0?l.length:-1;e!=c;e+=t){let h=l[e],f=a[e]+o.from;if(Np(s,n,f,f+h.length)){if(h instanceof Gi){if(r&We.ExcludeBuffers)continue;let u=h.findChild(0,h.buffer.length,t,n-f,s);if(u>-1)return new ni(new Qx(o,h,e,f),null,u)}else if(r&We.IncludeAnonymous||!h.type.isAnonymous||dh(h)){let u;if(!(r&We.IgnoreMounts)&&(u=Kr.get(h))&&!u.overlay)return new mt(u.tree,f,e,o);let p=new mt(h,f,e,o);return r&We.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?h.children.length-1:0,t,n,s)}}}if(r&We.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let s;if(!(n&We.IgnoreOverlays)&&(s=Kr.get(this._tree))&&s.overlay){let r=e-this.from;for(let{from:o,to:l}of s.overlay)if((t>0?o<=r:o<r)&&(t<0?l>=r:l>r))return new mt(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Of(i,e,t,n){let s=i.cursor(),r=[];if(!s.firstChild())return r;if(t!=null){for(let o=!1;!o;)if(o=s.type.is(t),!s.nextSibling())return r}for(;;){if(n!=null&&s.type.is(n))return r;if(s.type.is(e)&&r.push(s.node),!s.nextSibling())return n==null?r:[]}}function ba(i,e,t=e.length-1){for(let n=i;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class Qx{constructor(e,t,n,s){this.parent=e,this.buffer=t,this.index=n,this.start=s}}class ni extends jp{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,n);return r<0?null:new ni(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&We.ExcludeBuffers)return null;let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new ni(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ni(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ni(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,s=this.index+4,r=n.buffer[this.index+3];if(r>s){let o=n.buffer[this.index+1];e.push(n.slice(s,r,o)),t.push(0)}return new ze(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Fp(i){if(!i.length)return null;let e=0,t=i[0];for(let r=1;r<i.length;r++){let o=i[r];(o.from>t.from||o.to<t.to)&&(t=o,e=r)}let n=t instanceof mt&&t.index<0?null:t.parent,s=i.slice();return n?s[e]=n:s.splice(e,1),new Ax(s,t)}class Ax{constructor(e,t){this.heads=e,this.node=t}get next(){return Fp(this.heads)}}function _x(i,e,t){let n=i.resolveInner(e,t),s=null;for(let r=n instanceof mt?n:n.context.parent;r;r=r.parent)if(r.index<0){let o=r.parent;(s||(s=[n])).push(o.resolve(e,t)),r=o}else{let o=Kr.get(r.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new mt(o.tree,o.overlay[0].from+r.from,-1,r);(s||(s=[n])).push(zs(l,e,t,!1))}}return s?Fp(s):n}class xa{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof mt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return e?e instanceof mt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:s}=this.buffer,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,n);return r<0?!1:(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&We.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&We.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&We.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let s=n<0?0:this.stack[n]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(s)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let r=0;r<this.index;r++)if(s.buffer.buffer[r+3]<this.index)return!1;({index:t,parent:n}=s)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let r=t+e,o=e<0?-1:n._tree.children.length;r!=o;r+=e){let l=n._tree.children[r];if(this.mode&We.IncludeAnonymous||l instanceof Gi||!l.type.isAnonymous||dh(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let s=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,n=r+1;break e}s=this.stack[--r]}for(let s=n;s<this.stack.length;s++)t=new ni(this.buffer,t,this.stack[s]);return this.bufferNode=new ni(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,s=!0}}}matchContext(e){if(!this.buffer)return ba(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let s=e.length-1,r=this.stack.length-1;s>=0;r--){if(r<0)return ba(this._tree,e,s);let o=n[t.buffer[this.stack[r]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function dh(i){return i.children.some(e=>e instanceof Gi||!e.type.isAnonymous||dh(e))}function Rx(i){var e;let{buffer:t,nodeSet:n,maxBufferLength:s=Vp,reused:r=[],minRepeatType:o=n.types.length}=i,l=Array.isArray(t)?new uh(t,t.length):t,a=n.types,c=0,h=0;function f(M,N,D,ae,oe,U){let{id:k,start:G,end:ne,size:ve}=l,_e=h,xe=c;for(;ve<0;)if(l.next(),ve==-1){let $e=r[k];D.push($e),ae.push(G-M);return}else if(ve==-3){c=k;return}else if(ve==-4){h=k;return}else throw new RangeError(`Unrecognized record size: ${ve}`);let ce=a[k],he,Fe,$t=G-M;if(ne-G<=s&&(Fe=v(l.pos-N,oe))){let $e=new Uint16Array(Fe.size-Fe.skip),ye=l.pos-Fe.size,Ue=$e.length;for(;l.pos>ye;)Ue=x(Fe.start,$e,Ue);he=new Gi($e,ne-Fe.start,n),$t=Fe.start-M}else{let $e=l.pos-ve;l.next();let ye=[],Ue=[],ht=k>=o?k:-1,Dt=0,He=ne;for(;l.pos>$e;)ht>=0&&l.id==ht&&l.size>=0?(l.end<=He-s&&(g(ye,Ue,G,Dt,l.end,He,ht,_e,xe),Dt=ye.length,He=l.end),l.next()):U>2500?u(G,$e,ye,Ue):f(G,$e,ye,Ue,ht,U+1);if(ht>=0&&Dt>0&&Dt<ye.length&&g(ye,Ue,G,Dt,G,He,ht,_e,xe),ye.reverse(),Ue.reverse(),ht>-1&&Dt>0){let P=p(ce,xe);he=ph(ce,ye,Ue,0,ye.length,0,ne-G,P,P)}else he=O(ce,ye,Ue,ne-G,_e-ne,xe)}D.push(he),ae.push($t)}function u(M,N,D,ae){let oe=[],U=0,k=-1;for(;l.pos>N;){let{id:G,start:ne,end:ve,size:_e}=l;if(_e>4)l.next();else{if(k>-1&&ne<k)break;k<0&&(k=ve-s),oe.push(G,ne,ve),U++,l.next()}}if(U){let G=new Uint16Array(U*4),ne=oe[oe.length-2];for(let ve=oe.length-3,_e=0;ve>=0;ve-=3)G[_e++]=oe[ve],G[_e++]=oe[ve+1]-ne,G[_e++]=oe[ve+2]-ne,G[_e++]=_e;D.push(new Gi(G,oe[2]-ne,n)),ae.push(ne-M)}}function p(M,N){return(D,ae,oe)=>{let U=0,k=D.length-1,G,ne;if(k>=0&&(G=D[k])instanceof ze){if(!k&&G.type==M&&G.length==oe)return G;(ne=G.prop(re.lookAhead))&&(U=ae[k]+G.length+ne)}return O(M,D,ae,oe,U,N)}}function g(M,N,D,ae,oe,U,k,G,ne){let ve=[],_e=[];for(;M.length>ae;)ve.push(M.pop()),_e.push(N.pop()+D-oe);M.push(O(n.types[k],ve,_e,U-oe,G-U,ne)),N.push(oe-D)}function O(M,N,D,ae,oe,U,k){if(U){let G=[re.contextHash,U];k=k?[G].concat(k):[G]}if(oe>25){let G=[re.lookAhead,oe];k=k?[G].concat(k):[G]}return new ze(M,N,D,ae,k)}function v(M,N){let D=l.fork(),ae=0,oe=0,U=0,k=D.end-s,G={size:0,start:0,skip:0};e:for(let ne=D.pos-M;D.pos>ne;){let ve=D.size;if(D.id==N&&ve>=0){G.size=ae,G.start=oe,G.skip=U,U+=4,ae+=4,D.next();continue}let _e=D.pos-ve;if(ve<0||_e<ne||D.start<k)break;let xe=D.id>=o?4:0,ce=D.start;for(D.next();D.pos>_e;){if(D.size<0)if(D.size==-3)xe+=4;else break e;else D.id>=o&&(xe+=4);D.next()}oe=ce,ae+=ve,U+=xe}return(N<0||ae==M)&&(G.size=ae,G.start=oe,G.skip=U),G.size>4?G:void 0}function x(M,N,D){let{id:ae,start:oe,end:U,size:k}=l;if(l.next(),k>=0&&ae<o){let G=D;if(k>4){let ne=l.pos-(k-4);for(;l.pos>ne;)D=x(M,N,D)}N[--D]=G,N[--D]=U-M,N[--D]=oe-M,N[--D]=ae}else k==-3?c=ae:k==-4&&(h=ae);return D}let y=[],T=[];for(;l.pos>0;)f(i.start||0,i.bufferStart||0,y,T,-1,0);let C=(e=i.length)!==null&&e!==void 0?e:y.length?T[0]+y[0].length:0;return new ze(a[i.topID],y.reverse(),T.reverse(),C)}const vf=new WeakMap;function Rr(i,e){if(!i.isAnonymous||e instanceof Gi||e.type!=i)return 1;let t=vf.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=i||!(n instanceof ze)){t=1;break}t+=Rr(i,n)}vf.set(e,t)}return t}function ph(i,e,t,n,s,r,o,l,a){let c=0;for(let g=n;g<s;g++)c+=Rr(i,e[g]);let h=Math.ceil(c*1.5/8),f=[],u=[];function p(g,O,v,x,y){for(let T=v;T<x;){let C=T,M=O[T],N=Rr(i,g[T]);for(T++;T<x;T++){let D=Rr(i,g[T]);if(N+D>=h)break;N+=D}if(T==C+1){if(N>h){let D=g[C];p(D.children,D.positions,0,D.children.length,O[C]+y);continue}f.push(g[C])}else{let D=O[T-1]+g[T-1].length-M;f.push(ph(i,g,O,C,T,M,D,null,a))}u.push(M+y-r)}}return p(e,t,n,s,0),(l||a)(f,u,o)}class Mx{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof ni?this.setBuffer(e.context.buffer,e.index,t):e instanceof mt&&this.map.set(e.tree,t)}get(e){return e instanceof ni?this.getBuffer(e.context.buffer,e.index):e instanceof mt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class cn{constructor(e,t,n,s,r=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=s,this.open=(r?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let s=[new cn(0,e.length,e,0,!1,n)];for(let r of t)r.to>e.length&&s.push(r);return s}static applyChanges(e,t,n=128){if(!t.length)return e;let s=[],r=1,o=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let h=l<t.length?t[l]:null,f=h?h.fromA:1e9;if(f-a>=n)for(;o&&o.from<f;){let u=o;if(a>=u.from||f<=u.to||c){let p=Math.max(u.from,a)-c,g=Math.min(u.to,f)-c;u=p>=g?null:new cn(p,g,u.tree,u.offset+c,l>0,!!h)}if(u&&s.push(u),o.to>f)break;o=r<e.length?e[r++]:null}if(!h)break;a=h.toA,c=h.toA-h.toB}return s}}class Up{startParse(e,t,n){return typeof e=="string"&&(e=new Ex(e)),n=n?n.length?n.map(s=>new cl(s.from,s.to)):[new cl(0,0)]:[new cl(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let s=this.startParse(e,t,n);for(;;){let r=s.advance();if(r)return r}}}class Ex{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new re({perNode:!0});let $x=0;class St{constructor(e,t,n,s){this.name=e,this.set=t,this.base=n,this.modified=s,this.id=$x++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof St&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let s=new St(n,[],null,[]);if(s.set.push(s),t)for(let r of t.set)s.set.push(r);return s}static defineModifier(e){let t=new Yr(e);return n=>n.modified.indexOf(t)>-1?n:Yr.get(n.base||n,n.modified.concat(t).sort((s,r)=>s.id-r.id))}}let Dx=0;class Yr{constructor(e){this.name=e,this.instances=[],this.id=Dx++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(l=>l.base==e&&Bx(t,l.modified));if(n)return n;let s=[],r=new St(e.name,s,e,t);for(let l of t)l.instances.push(r);let o=qx(t);for(let l of e.set)if(!l.modified.length)for(let a of o)s.push(Yr.get(l,a));return r}}function Bx(i,e){return i.length==e.length&&i.every((t,n)=>t==e[n])}function qx(i){let e=[[]];for(let t=0;t<i.length;t++)for(let n=0,s=e.length;n<s;n++)e.push(e[n].concat(i[t]));return e.sort((t,n)=>n.length-t.length)}function Hp(i){let e=Object.create(null);for(let t in i){let n=i[t];Array.isArray(n)||(n=[n]);for(let s of t.split(" "))if(s){let r=[],o=2,l=s;for(let f=0;;){if(l=="..."&&f>0&&f+3==s.length){o=1;break}let u=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!u)throw new RangeError("Invalid path: "+s);if(r.push(u[0]=="*"?"":u[0][0]=='"'?JSON.parse(u[0]):u[0]),f+=u[0].length,f==s.length)break;let p=s[f++];if(f==s.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+s);l=s.slice(f)}let a=r.length-1,c=r[a];if(!c)throw new RangeError("Invalid path: "+s);let h=new Jr(n,o,a>0?r.slice(0,a):null);e[c]=h.sort(e[c])}}return Xp.add(e)}const Xp=new re;class Jr{constructor(e,t,n,s){this.tags=e,this.mode=t,this.context=n,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Jr.empty=new Jr([],2,null);function Gp(i,e){let t=Object.create(null);for(let r of i)if(!Array.isArray(r.tag))t[r.tag.id]=r.class;else for(let o of r.tag)t[o.id]=r.class;let{scope:n,all:s=null}=e||{};return{style:r=>{let o=s;for(let l of r)for(let a of l.set){let c=t[a.id];if(c){o=o?o+" "+c:c;break}}return o},scope:n}}function zx(i,e){let t=null;for(let n of i){let s=n.style(e);s&&(t=t?t+" "+s:s)}return t}function Ix(i,e,t,n=0,s=i.length){let r=new Lx(n,Array.isArray(e)?e:[e],t);r.highlightRange(i.cursor(),n,s,"",r.highlighters),r.flush(s)}class Lx{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,s,r){let{type:o,from:l,to:a}=e;if(l>=n||a<=t)return;o.isTop&&(r=this.highlighters.filter(p=>!p.scope||p.scope(o)));let c=s,h=Wx(e)||Jr.empty,f=zx(r,h.tags);if(f&&(c&&(c+=" "),c+=f,h.mode==1&&(s+=(s?" ":"")+f)),this.startSpan(Math.max(t,l),c),h.opaque)return;let u=e.tree&&e.tree.prop(re.mounted);if(u&&u.overlay){let p=e.node.enter(u.overlay[0].from+l,1),g=this.highlighters.filter(v=>!v.scope||v.scope(u.tree.type)),O=e.firstChild();for(let v=0,x=l;;v++){let y=v<u.overlay.length?u.overlay[v]:null,T=y?y.from+l:a,C=Math.max(t,x),M=Math.min(n,T);if(C<M&&O)for(;e.from<M&&(this.highlightRange(e,C,M,s,r),this.startSpan(Math.min(M,e.to),c),!(e.to>=T||!e.nextSibling())););if(!y||T>n)break;x=y.to+l,x>t&&(this.highlightRange(p.cursor(),Math.max(t,y.from+l),Math.min(n,x),"",g),this.startSpan(Math.min(n,x),c))}O&&e.parent()}else if(e.firstChild()){u&&(s="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,s,r),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function Wx(i){let e=i.type.prop(Xp);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const q=St.define,fr=q(),Bi=q(),bf=q(Bi),xf=q(Bi),qi=q(),ur=q(qi),fl=q(qi),Kt=q(),nn=q(Kt),Gt=q(),Zt=q(),ya=q(),is=q(ya),dr=q(),S={comment:fr,lineComment:q(fr),blockComment:q(fr),docComment:q(fr),name:Bi,variableName:q(Bi),typeName:bf,tagName:q(bf),propertyName:xf,attributeName:q(xf),className:q(Bi),labelName:q(Bi),namespace:q(Bi),macroName:q(Bi),literal:qi,string:ur,docString:q(ur),character:q(ur),attributeValue:q(ur),number:fl,integer:q(fl),float:q(fl),bool:q(qi),regexp:q(qi),escape:q(qi),color:q(qi),url:q(qi),keyword:Gt,self:q(Gt),null:q(Gt),atom:q(Gt),unit:q(Gt),modifier:q(Gt),operatorKeyword:q(Gt),controlKeyword:q(Gt),definitionKeyword:q(Gt),moduleKeyword:q(Gt),operator:Zt,derefOperator:q(Zt),arithmeticOperator:q(Zt),logicOperator:q(Zt),bitwiseOperator:q(Zt),compareOperator:q(Zt),updateOperator:q(Zt),definitionOperator:q(Zt),typeOperator:q(Zt),controlOperator:q(Zt),punctuation:ya,separator:q(ya),bracket:is,angleBracket:q(is),squareBracket:q(is),paren:q(is),brace:q(is),content:Kt,heading:nn,heading1:q(nn),heading2:q(nn),heading3:q(nn),heading4:q(nn),heading5:q(nn),heading6:q(nn),contentSeparator:q(Kt),list:q(Kt),quote:q(Kt),emphasis:q(Kt),strong:q(Kt),link:q(Kt),monospace:q(Kt),strikethrough:q(Kt),inserted:q(),deleted:q(),changed:q(),invalid:q(),meta:dr,documentMeta:q(dr),annotation:q(dr),processingInstruction:q(dr),definition:St.defineModifier("definition"),constant:St.defineModifier("constant"),function:St.defineModifier("function"),standard:St.defineModifier("standard"),local:St.defineModifier("local"),special:St.defineModifier("special")};for(let i in S){let e=S[i];e instanceof St&&(e.name=i)}Gp([{tag:S.link,class:"tok-link"},{tag:S.heading,class:"tok-heading"},{tag:S.emphasis,class:"tok-emphasis"},{tag:S.strong,class:"tok-strong"},{tag:S.keyword,class:"tok-keyword"},{tag:S.atom,class:"tok-atom"},{tag:S.bool,class:"tok-bool"},{tag:S.url,class:"tok-url"},{tag:S.labelName,class:"tok-labelName"},{tag:S.inserted,class:"tok-inserted"},{tag:S.deleted,class:"tok-deleted"},{tag:S.literal,class:"tok-literal"},{tag:S.string,class:"tok-string"},{tag:S.number,class:"tok-number"},{tag:[S.regexp,S.escape,S.special(S.string)],class:"tok-string2"},{tag:S.variableName,class:"tok-variableName"},{tag:S.local(S.variableName),class:"tok-variableName tok-local"},{tag:S.definition(S.variableName),class:"tok-variableName tok-definition"},{tag:S.special(S.variableName),class:"tok-variableName2"},{tag:S.definition(S.propertyName),class:"tok-propertyName tok-definition"},{tag:S.typeName,class:"tok-typeName"},{tag:S.namespace,class:"tok-namespace"},{tag:S.className,class:"tok-className"},{tag:S.macroName,class:"tok-macroName"},{tag:S.propertyName,class:"tok-propertyName"},{tag:S.operator,class:"tok-operator"},{tag:S.comment,class:"tok-comment"},{tag:S.meta,class:"tok-meta"},{tag:S.invalid,class:"tok-invalid"},{tag:S.punctuation,class:"tok-punctuation"}]);var ul;const Sn=new re;function Vx(i){return X.define({combine:i?e=>e.concat(i):void 0})}const Nx=new re;class qt{constructor(e,t,n=[],s=""){this.data=e,this.name=s,de.prototype.hasOwnProperty("tree")||Object.defineProperty(de.prototype,"tree",{get(){return Mt(this)}}),this.parser=t,this.extension=[Nn.of(this),de.languageData.of((r,o,l)=>{let a=yf(r,o,l),c=a.type.prop(Sn);if(!c)return[];let h=r.facet(c),f=a.type.prop(Nx);if(f){let u=a.resolve(o-a.from,l);for(let p of f)if(p.test(u,r)){let g=r.facet(p.facet);return p.type=="replace"?g:g.concat(h)}}return h})].concat(n)}isActiveAt(e,t,n=-1){return yf(e,t,n).type.prop(Sn)==this.data}findRegions(e){let t=e.facet(Nn);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],s=(r,o)=>{if(r.prop(Sn)==this.data){n.push({from:o,to:o+r.length});return}let l=r.prop(re.mounted);if(l){if(l.tree.prop(Sn)==this.data){if(l.overlay)for(let a of l.overlay)n.push({from:a.from+o,to:a.to+o});else n.push({from:o,to:o+r.length});return}else if(l.overlay){let a=n.length;if(s(l.tree,l.overlay[0].from+o),n.length>a)return}}for(let a=0;a<r.children.length;a++){let c=r.children[a];c instanceof ze&&s(c,r.positions[a]+o)}};return s(Mt(e),0),n}get allowsNesting(){return!0}}qt.setState=Re.define();function yf(i,e,t){let n=i.facet(Nn),s=Mt(i).topNode;if(!n||n.allowsNesting)for(let r=s;r;r=r.enter(e,t,We.ExcludeBuffers))r.type.isTop&&(s=r);return s}class eo extends qt{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Vx(e.languageData);return new eo(t,e.parser.configure({props:[Sn.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new eo(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Mt(i){let e=i.field(qt.state,!1);return e?e.tree:ze.empty}class jx{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let ns=null;class to{constructor(e,t,n=[],s,r,o,l,a){this.parser=e,this.state=t,this.fragments=n,this.tree=s,this.treeLen=r,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new to(e,t,[],ze.empty,0,n,[],null)}startParse(){return this.parser.startParse(new jx(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ze.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(cn.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(cn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=ns;ns=this;try{return e()}finally{ns=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=wf(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:s,treeLen:r,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,h,f,u)=>a.push({fromA:c,toA:h,fromB:f,toB:u})),n=cn.applyChanges(n,a),s=ze.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);h<f&&l.push({from:h,to:f})}}}return new to(this.parser,t,n,s,r,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:s,to:r}=this.skipped[n];s<e.to&&r>e.from&&(this.fragments=wf(this.fragments,s,r),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Up{createParse(t,n,s){let r=s[0].from,o=s[s.length-1].to;return{parsedPos:r,advance(){let a=ns;if(a){for(let c of s)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new ze(Ot.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return ns}}function wf(i,e,t){return cn.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class Vn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Vn(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=to.create(e.facet(Nn).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Vn(n)}}qt.state=ci.define({create:Vn.init,update(i,e){for(let t of e.effects)if(t.is(qt.setState))return t.value;return e.startState.facet(Nn)!=e.state.facet(Nn)?Vn.init(e.state):i.apply(e)}});let Zp=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Zp=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const dl=typeof navigator<"u"&&(!((ul=navigator.scheduling)===null||ul===void 0)&&ul.isInputPending)?()=>navigator.scheduling.isInputPending():null,Fx=Hi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(qt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(qt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Zp(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,r=n.field(qt.state);if(r.tree==r.context.tree&&r.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!dl?Math.max(25,e.timeRemaining()-5):1e9),l=r.context.treeLen<s&&n.doc.length>s+1e3,a=r.context.work(()=>dl&&dl()||Date.now()>o,s+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:qt.setState.of(new Vn(r.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ii(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Nn=X.define({combine(i){return i.length?i[0]:null},enables:i=>[qt.state,Fx,Y.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class Ux{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Hx=X.define(),Ro=X.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function io(i){let e=i.facet(Ro);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function Is(i,e){let t="",n=i.tabSize,s=i.facet(Ro)[0];if(s=="	"){for(;e>=n;)t+="	",e-=n;s=" "}for(let r=0;r<e;r++)t+=s;return t}function gh(i,e){i instanceof de&&(i=new Mo(i));for(let n of i.state.facet(Hx)){let s=n(i,e);if(s!==void 0)return s}let t=Mt(i.state);return t.length>=e?Xx(i,t,e):null}class Mo{constructor(e,t={}){this.state=e,this.options=t,this.unit=io(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:r}=this.options;return s!=null&&s>=n.from&&s<=n.to?r&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,t);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,t=1){let{text:n,from:s}=this.lineAt(e,t),r=this.countColumn(n,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(r+=o-this.countColumn(n,n.search(/\S|$/))),r}countColumn(e,t=e.length){return Co(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:s}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let o=r(s);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Kp=new re;function Xx(i,e,t){let n=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=n.node){let r=[];for(let o=s;o&&!(o.from<n.node.from||o.to>n.node.to||o.from==n.node.from&&o.type==n.node.type);o=o.parent)r.push(o);for(let o=r.length-1;o>=0;o--)n={node:r[o],next:n}}return Yp(n,i,t)}function Yp(i,e,t){for(let n=i;n;n=n.next){let s=Zx(n.node);if(s)return s(mh.create(e,t,n))}return 0}function Gx(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function Zx(i){let e=i.type.prop(Kp);if(e)return e;let t=i.firstChild,n;if(t&&(n=t.type.prop(re.closedBy))){let s=i.lastChild,r=s&&n.indexOf(s.name)>-1;return o=>Jp(o,!0,1,void 0,r&&!Gx(o)?s.from:void 0)}return i.parent==null?Kx:null}function Kx(){return 0}class mh extends Mo{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new mh(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Yx(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return Yp(this.context.next,this.base,this.pos)}}function Yx(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function Jx(i){let e=i.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let s=i.options.simulateBreak,r=i.state.doc.lineAt(t.from),o=s==null||s<=r.from?r.to:Math.min(r.to,s);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==n)return null;if(!a.type.isSkipped){if(a.from>=o)return null;let c=/^ */.exec(r.text.slice(t.to-r.from))[0].length;return{from:t.from,to:t.to+c}}l=a.to}}function pl({closing:i,align:e=!0,units:t=1}){return n=>Jp(n,e,t,i)}function Jp(i,e,t,n,s){let r=i.textAfter,o=r.match(/^\s*/)[0].length,l=n&&r.slice(o,o+n.length)==n||s==i.pos+o,a=e?Jx(i):null;return a?l?i.column(a.from):i.column(a.to):i.baseIndent+(l?0:i.unit*t)}const e2=200;function t2(){return de.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let e=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!e.length)return i;let t=i.newDoc,{head:n}=i.newSelection.main,s=t.lineAt(n);if(n>s.from+e2)return i;let r=t.sliceString(s.from,n);if(!e.some(c=>c.test(r)))return i;let{state:o}=i,l=-1,a=[];for(let{head:c}of o.selection.ranges){let h=o.doc.lineAt(c);if(h.from==l)continue;l=h.from;let f=gh(o,h.from);if(f==null)continue;let u=/^\s*/.exec(h.text)[0],p=Is(o,f);u!=p&&a.push({from:h.from,to:h.from+u.length,insert:p})}return a.length?[i,{changes:a,sequential:!0}]:i})}const i2=new re;function n2(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}class Eo{constructor(e,t){this.specs=e;let n;function s(l){let a=ji.newName();return(n||(n=Object.create(null)))["."+a]=l,a}const r=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof qt?l=>l.prop(Sn)==o.data:o?l=>l==o:void 0,this.style=Gp(e.map(l=>({tag:l.tag,class:l.class||s(Object.assign({},l,{tag:null}))})),{all:r}).style,this.module=n?new ji(n):null,this.themeType=t.themeType}static define(e,t){return new Eo(e,t||{})}}const wa=X.define(),s2=X.define({combine(i){return i.length?[i[0]]:null}});function gl(i){let e=i.facet(wa);return e.length?e:i.facet(s2)}function r2(i,e){let t=[l2],n;return i instanceof Eo&&(i.module&&t.push(Y.styleModule.of(i.module)),n=i.themeType),n?t.push(wa.computeN([Y.darkTheme],s=>s.facet(Y.darkTheme)==(n=="dark")?[i]:[])):t.push(wa.of(i)),t}class o2{constructor(e){this.markCache=Object.create(null),this.tree=Mt(e.state),this.decorations=this.buildDeco(e,gl(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Mt(e.state),n=gl(e.state),s=n!=gl(e.startState),{viewport:r}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<r.to&&!s&&t.type==this.tree.type&&o>=r.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=r.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ae.none;let n=new Ms;for(let{from:s,to:r}of e.visibleRanges)Ix(this.tree,t,(o,l,a)=>{n.add(o,l,this.markCache[a]||(this.markCache[a]=Ae.mark({class:a})))},s,r);return n.finish()}}const l2=So.high(Hi.fromClass(o2,{decorations:i=>i.decorations})),a2=Y.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),eg=1e4,tg="()[]{}",ig=X.define({combine(i){return Ja(i,{afterCursor:!0,brackets:tg,maxScanDistance:eg,renderMatch:f2})}}),h2=Ae.mark({class:"cm-matchingBracket"}),c2=Ae.mark({class:"cm-nonmatchingBracket"});function f2(i){let e=[],t=i.matched?h2:c2;return e.push(t.range(i.start.from,i.start.to)),i.end&&e.push(t.range(i.end.from,i.end.to)),e}const u2=ci.define({create(){return Ae.none},update(i,e){if(!e.docChanged&&!e.selection)return i;let t=[],n=e.state.facet(ig);for(let s of e.state.selection.ranges){if(!s.empty)continue;let r=si(e.state,s.head,-1,n)||s.head>0&&si(e.state,s.head-1,1,n)||n.afterCursor&&(si(e.state,s.head,1,n)||s.head<e.state.doc.length&&si(e.state,s.head+1,-1,n));r&&(t=t.concat(n.renderMatch(r,e.state)))}return Ae.set(t,!0)},provide:i=>Y.decorations.from(i)}),d2=[u2,a2];function p2(i={}){return[ig.of(i),d2]}const g2=new re;function ka(i,e,t){let n=i.prop(e<0?re.openedBy:re.closedBy);if(n)return n;if(i.name.length==1){let s=t.indexOf(i.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Sa(i){let e=i.type.prop(g2);return e?e(i.node):i}function si(i,e,t,n={}){let s=n.maxScanDistance||eg,r=n.brackets||tg,o=Mt(i),l=o.resolveInner(e,t);for(let a=l;a;a=a.parent){let c=ka(a.type,t,r);if(c&&a.from<a.to){let h=Sa(a);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return m2(i,e,t,a,h,c,r)}}return O2(i,e,t,o,l.type,s,r)}function m2(i,e,t,n,s,r,o){let l=n.parent,a={from:s.from,to:s.to},c=0,h=l?.cursor();if(h&&(t<0?h.childBefore(n.from):h.childAfter(n.to)))do if(t<0?h.to<=n.from:h.from>=n.to){if(c==0&&r.indexOf(h.type.name)>-1&&h.from<h.to){let f=Sa(h);return{start:a,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(ka(h.type,t,o))c++;else if(ka(h.type,-t,o)){if(c==0){let f=Sa(h);return{start:a,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:a,matched:!1}}function O2(i,e,t,n,s,r,o){let l=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=i.doc.iterRange(e,t>0?i.doc.length:0),f=0;for(let u=0;!h.next().done&&u<=r;){let p=h.value;t<0&&(u+=p.length);let g=e+u*t;for(let O=t>0?0:p.length-1,v=t>0?p.length:-1;O!=v;O+=t){let x=o.indexOf(p[O]);if(!(x<0||n.resolveInner(g+O,1).type!=s))if(x%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:g+O,to:g+O+1},matched:x>>1==a>>1};f--}}t>0&&(u+=p.length)}return h.done?{start:c,matched:!1}:null}const v2=Object.create(null),kf=[Ot.none],Sf=[],Tf=Object.create(null),b2=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])b2[i]=x2(v2,e);function ml(i,e){Sf.indexOf(i)>-1||(Sf.push(i),console.warn(e))}function x2(i,e){let t=[];for(let l of e.split(" ")){let a=[];for(let c of l.split(".")){let h=i[c]||S[c];h?typeof h=="function"?a.length?a=a.map(h):ml(c,`Modifier ${c} used at start of tag`):a.length?ml(c,`Tag ${c} used as modifier`):a=Array.isArray(h)?h:[h]:ml(c,`Unknown highlighting tag ${c}`)}for(let c of a)t.push(c)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),s=n+" "+t.map(l=>l.id),r=Tf[s];if(r)return r.id;let o=Tf[s]=Ot.define({id:kf.length,name:n,props:[Hp({[n]:t})]});return kf.push(o),o.id}Ne.RTL,Ne.LTR;const y2=i=>{let{state:e}=i,t=e.doc.lineAt(e.selection.main.from),n=vh(i.state,t.from);return n.line?w2(i):n.block?S2(i):!1};function Oh(i,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let s=i(e,t);return s?(n(t.update(s)),!0):!1}}const w2=Oh(P2,0),k2=Oh(ng,0),S2=Oh((i,e)=>ng(i,e,C2(e)),0);function vh(i,e){let t=i.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const ss=50;function T2(i,{open:e,close:t},n,s){let r=i.sliceDoc(n-ss,n),o=i.sliceDoc(s,s+ss),l=/\s*$/.exec(r)[0].length,a=/^\s*/.exec(o)[0].length,c=r.length-l;if(r.slice(c-e.length,c)==e&&o.slice(a,a+t.length)==t)return{open:{pos:n-l,margin:l&&1},close:{pos:s+a,margin:a&&1}};let h,f;s-n<=2*ss?h=f=i.sliceDoc(n,s):(h=i.sliceDoc(n,n+ss),f=i.sliceDoc(s-ss,s));let u=/^\s*/.exec(h)[0].length,p=/\s*$/.exec(f)[0].length,g=f.length-p-t.length;return h.slice(u,u+e.length)==e&&f.slice(g,g+t.length)==t?{open:{pos:n+u+e.length,margin:/\s/.test(h.charAt(u+e.length))?1:0},close:{pos:s-p-t.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}function C2(i){let e=[];for(let t of i.selection.ranges){let n=i.doc.lineAt(t.from),s=t.to<=n.to?n:i.doc.lineAt(t.to);s.from>n.from&&s.from==t.to&&(s=t.to==n.to+1?n:i.doc.lineAt(t.to-1));let r=e.length-1;r>=0&&e[r].to>n.from?e[r].to=s.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:s.to})}return e}function ng(i,e,t=e.selection.ranges){let n=t.map(r=>vh(e,r.from).block);if(!n.every(r=>r))return null;let s=t.map((r,o)=>T2(e,n[o],r.from,r.to));if(i!=2&&!s.every(r=>r))return{changes:e.changes(t.map((r,o)=>s[o]?[]:[{from:r.from,insert:n[o].open+" "},{from:r.to,insert:" "+n[o].close}]))};if(i!=1&&s.some(r=>r)){let r=[];for(let o=0,l;o<s.length;o++)if(l=s[o]){let a=n[o],{open:c,close:h}=l;r.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+a.close.length})}return{changes:r}}return null}function P2(i,e,t=e.selection.ranges){let n=[],s=-1;for(let{from:r,to:o}of t){let l=n.length,a=1e9,c=vh(e,r).line;if(c){for(let h=r;h<=o;){let f=e.doc.lineAt(h);if(f.from>s&&(r==o||o>f.from)){s=f.from;let u=/^\s*/.exec(f.text)[0].length,p=u==f.length,g=f.text.slice(u,u+c.length)==c?u:-1;u<f.text.length&&u<a&&(a=u),n.push({line:f,comment:g,token:c,indent:u,empty:p,single:!1})}h=f.to+1}if(a<1e9)for(let h=l;h<n.length;h++)n[h].indent<n[h].line.text.length&&(n[h].indent=a);n.length==l+1&&(n[l].single=!0)}}if(i!=2&&n.some(r=>r.comment<0&&(!r.empty||r.single))){let r=[];for(let{line:l,token:a,indent:c,empty:h,single:f}of n)(f||!h)&&r.push({from:l.from+c,insert:a+" "});let o=e.changes(r);return{changes:o,selection:e.selection.map(o,1)}}else if(i!=1&&n.some(r=>r.comment>=0)){let r=[];for(let{line:o,comment:l,token:a}of n)if(l>=0){let c=o.from+l,h=c+a.length;o.text[h-o.from]==" "&&h++,r.push({from:c,to:h})}return{changes:r}}return null}const Ta=Ri.define(),Q2=Ri.define(),A2=X.define(),sg=X.define({combine(i){return Ja(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,s)=>e(n,s)||t(n,s)})}}),rg=ci.define({create(){return ri.empty},update(i,e){let t=e.state.facet(sg),n=e.annotation(Ta);if(n){let a=gt.fromTransaction(e,n.selection),c=n.side,h=c==0?i.undone:i.done;return a?h=no(h,h.length,t.minDepth,a):h=ag(h,e.startState.selection),new ri(c==0?n.rest:h,c==0?h:n.rest)}let s=e.annotation(Q2);if((s=="full"||s=="before")&&(i=i.isolate()),e.annotation(qe.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let r=gt.fromTransaction(e),o=e.annotation(qe.time),l=e.annotation(qe.userEvent);return r?i=i.addChanges(r,o,l,t,e):e.selection&&(i=i.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(s=="full"||s=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new ri(i.done.map(gt.fromJSON),i.undone.map(gt.fromJSON))}});function _2(i={}){return[rg,sg.of(i),Y.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?og:e.inputType=="historyRedo"?Ca:null;return n?(e.preventDefault(),n(t)):!1}})]}function $o(i,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let s=t.field(rg,!1);if(!s)return!1;let r=s.pop(i,t,e);return r?(n(r),!0):!1}}const og=$o(0,!1),Ca=$o(1,!1),R2=$o(0,!0),M2=$o(1,!0);class gt{constructor(e,t,n,s,r){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=s,this.selectionsAfter=r}setSelAfter(e){return new gt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new gt(e.changes&&Le.fromJSON(e.changes),[],e.mapped&&li.fromJSON(e.mapped),e.startSelection&&E.fromJSON(e.startSelection),e.selectionsAfter.map(E.fromJSON))}static fromTransaction(e,t){let n=Tt;for(let s of e.startState.facet(A2)){let r=s(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new gt(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Tt)}static selection(e){return new gt(void 0,Tt,void 0,void 0,e)}}function no(i,e,t,n){let s=e+1>t+20?e-t-1:0,r=i.slice(s,e);return r.push(n),r}function E2(i,e){let t=[],n=!1;return i.iterChangedRanges((s,r)=>t.push(s,r)),e.iterChangedRanges((s,r,o,l)=>{for(let a=0;a<t.length;){let c=t[a++],h=t[a++];l>=c&&o<=h&&(n=!0)}}),n}function $2(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function lg(i,e){return i.length?e.length?i.concat(e):i:e}const Tt=[],D2=200;function ag(i,e){if(i.length){let t=i[i.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-D2));return n.length&&n[n.length-1].eq(e)?i:(n.push(e),no(i,i.length-1,1e9,t.setSelAfter(n)))}else return[gt.selection([e])]}function B2(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ol(i,e){if(!i.length)return i;let t=i.length,n=Tt;for(;t;){let s=q2(i[t-1],e,n);if(s.changes&&!s.changes.empty||s.effects.length){let r=i.slice(0,t);return r[t-1]=s,r}else e=s.mapped,t--,n=s.selectionsAfter}return n.length?[gt.selection(n)]:Tt}function q2(i,e,t){let n=lg(i.selectionsAfter.length?i.selectionsAfter.map(l=>l.map(e)):Tt,t);if(!i.changes)return gt.selection(n);let s=i.changes.map(e),r=e.mapDesc(i.changes,!0),o=i.mapped?i.mapped.composeDesc(r):r;return new gt(s,Re.mapEffects(i.effects,e),o,i.startSelection.map(r),n)}const z2=/^(input\.type|delete)($|\.)/;class ri{constructor(e,t,n=0,s=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new ri(this.done,this.undone):this}addChanges(e,t,n,s,r){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!n||z2.test(n))&&(!l.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(r,E2(l.changes,e.changes))||n=="input.type.compose")?o=no(o,o.length-1,s.minDepth,new gt(e.changes.compose(l.changes),lg(Re.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,Tt)):o=no(o,o.length,s.minDepth,e),new ri(o,Tt,t,n)}addSelection(e,t,n,s){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:Tt;return r.length>0&&t-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&$2(r[r.length-1],e)?this:new ri(ag(this.done,e),this.undone,t,n)}addMapping(e){return new ri(Ol(this.done,e),Ol(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let s=e==0?this.done:this.undone;if(s.length==0)return null;let r=s[s.length-1],o=r.selectionsAfter[0]||t.selection;if(n&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:Ta.of({side:e,rest:B2(s),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let l=s.length==1?Tt:s.slice(0,s.length-1);return r.mapped&&(l=Ol(l,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:Ta.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ri.empty=new ri(Tt,Tt);const I2=[{key:"Mod-z",run:og,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ca,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ca,preventDefault:!0},{key:"Mod-u",run:R2,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:M2,preventDefault:!0}];function Hn(i,e){return E.create(i.ranges.map(e),i.mainIndex)}function fi(i,e){return i.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Nt({state:i,dispatch:e},t){let n=Hn(i.selection,t);return n.eq(i.selection,!0)?!1:(e(fi(i,n)),!0)}function Do(i,e){return E.cursor(e?i.to:i.from)}function hg(i,e){return Nt(i,t=>t.empty?i.moveByChar(t,e):Do(t,e))}function nt(i){return i.textDirectionAt(i.state.selection.main.head)==Ne.LTR}const cg=i=>hg(i,!nt(i)),fg=i=>hg(i,nt(i));function ug(i,e){return Nt(i,t=>t.empty?i.moveByGroup(t,e):Do(t,e))}const L2=i=>ug(i,!nt(i)),W2=i=>ug(i,nt(i));function V2(i,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(e.from,e.to)))||e.firstChild}function Bo(i,e,t){let n=Mt(i).resolveInner(e.head),s=t?re.closedBy:re.openedBy;for(let a=e.head;;){let c=t?n.childAfter(a):n.childBefore(a);if(!c)break;V2(i,c,s)?n=c:a=t?c.to:c.from}let r=n.type.prop(s),o,l;return r&&(o=t?si(i,n.from,1):si(i,n.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?n.to:n.from,E.cursor(l,t?-1:1)}const N2=i=>Nt(i,e=>Bo(i.state,e,!nt(i))),j2=i=>Nt(i,e=>Bo(i.state,e,nt(i)));function dg(i,e){return Nt(i,t=>{if(!t.empty)return Do(t,e);let n=i.moveVertically(t,e);return n.head!=t.head?n:i.moveToLineBoundary(t,e)})}const pg=i=>dg(i,!1),gg=i=>dg(i,!0);function mg(i){let e=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,t=0,n=0,s;if(e){for(let r of i.state.facet(Y.scrollMargins)){let o=r(i);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(n=Math.max(o?.bottom,n))}s=i.scrollDOM.clientHeight-t-n}else s=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(i.defaultLineHeight,s-5)}}function Og(i,e){let t=mg(i),{state:n}=i,s=Hn(n.selection,o=>o.empty?i.moveVertically(o,e,t.height):Do(o,e));if(s.eq(n.selection))return!1;let r;if(t.selfScroll){let o=i.coordsAtPos(n.selection.main.head),l=i.scrollDOM.getBoundingClientRect(),a=l.top+t.marginTop,c=l.bottom-t.marginBottom;o&&o.top>a&&o.bottom<c&&(r=Y.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-a}))}return i.dispatch(fi(n,s),{effects:r}),!0}const Cf=i=>Og(i,!1),Pa=i=>Og(i,!0);function Ji(i,e,t){let n=i.lineBlockAt(e.head),s=i.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?n.to:n.from)&&(s=i.moveToLineBoundary(e,t,!1)),!t&&s.head==n.from&&n.length){let r=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;r&&e.head!=n.from+r&&(s=E.cursor(n.from+r))}return s}const F2=i=>Nt(i,e=>Ji(i,e,!0)),U2=i=>Nt(i,e=>Ji(i,e,!1)),H2=i=>Nt(i,e=>Ji(i,e,!nt(i))),X2=i=>Nt(i,e=>Ji(i,e,nt(i))),G2=i=>Nt(i,e=>E.cursor(i.lineBlockAt(e.head).from,1)),Z2=i=>Nt(i,e=>E.cursor(i.lineBlockAt(e.head).to,-1));function K2(i,e,t){let n=!1,s=Hn(i.selection,r=>{let o=si(i,r.head,-1)||si(i,r.head,1)||r.head>0&&si(i,r.head-1,1)||r.head<i.doc.length&&si(i,r.head+1,-1);if(!o||!o.end)return r;n=!0;let l=o.start.from==r.head?o.end.to:o.end.from;return E.cursor(l)});return n?(e(fi(i,s)),!0):!1}const Y2=({state:i,dispatch:e})=>K2(i,e);function Et(i,e){let t=Hn(i.state.selection,n=>{let s=e(n);return E.range(n.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(i.state.selection)?!1:(i.dispatch(fi(i.state,t)),!0)}function vg(i,e){return Et(i,t=>i.moveByChar(t,e))}const bg=i=>vg(i,!nt(i)),xg=i=>vg(i,nt(i));function yg(i,e){return Et(i,t=>i.moveByGroup(t,e))}const J2=i=>yg(i,!nt(i)),ey=i=>yg(i,nt(i)),ty=i=>Et(i,e=>Bo(i.state,e,!nt(i))),iy=i=>Et(i,e=>Bo(i.state,e,nt(i)));function wg(i,e){return Et(i,t=>i.moveVertically(t,e))}const kg=i=>wg(i,!1),Sg=i=>wg(i,!0);function Tg(i,e){return Et(i,t=>i.moveVertically(t,e,mg(i).height))}const Pf=i=>Tg(i,!1),Qf=i=>Tg(i,!0),ny=i=>Et(i,e=>Ji(i,e,!0)),sy=i=>Et(i,e=>Ji(i,e,!1)),ry=i=>Et(i,e=>Ji(i,e,!nt(i))),oy=i=>Et(i,e=>Ji(i,e,nt(i))),ly=i=>Et(i,e=>E.cursor(i.lineBlockAt(e.head).from)),ay=i=>Et(i,e=>E.cursor(i.lineBlockAt(e.head).to)),Af=({state:i,dispatch:e})=>(e(fi(i,{anchor:0})),!0),_f=({state:i,dispatch:e})=>(e(fi(i,{anchor:i.doc.length})),!0),Rf=({state:i,dispatch:e})=>(e(fi(i,{anchor:i.selection.main.anchor,head:0})),!0),Mf=({state:i,dispatch:e})=>(e(fi(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0),hy=({state:i,dispatch:e})=>(e(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0),cy=({state:i,dispatch:e})=>{let t=qo(i).map(({from:n,to:s})=>E.range(n,Math.min(s+1,i.doc.length)));return e(i.update({selection:E.create(t),userEvent:"select"})),!0},fy=({state:i,dispatch:e})=>{let t=Hn(i.selection,n=>{let s=Mt(i),r=s.resolveStack(n.from,1);if(n.empty){let o=s.resolveStack(n.from,-1);o.node.from>=r.node.from&&o.node.to<=r.node.to&&(r=o)}for(let o=r;o;o=o.next){let{node:l}=o;if((l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from)&&o.next)return E.range(l.to,l.from)}return n});return t.eq(i.selection)?!1:(e(fi(i,t)),!0)},uy=({state:i,dispatch:e})=>{let t=i.selection,n=null;return t.ranges.length>1?n=E.create([t.main]):t.main.empty||(n=E.create([E.cursor(t.main.head)])),n?(e(fi(i,n)),!0):!1};function Hs(i,e){if(i.state.readOnly)return!1;let t="delete.selection",{state:n}=i,s=n.changeByRange(r=>{let{from:o,to:l}=r;if(o==l){let a=e(r);a<o?(t="delete.backward",a=pr(i,a,!1)):a>o&&(t="delete.forward",a=pr(i,a,!0)),o=Math.min(o,a),l=Math.max(l,a)}else o=pr(i,o,!1),l=pr(i,l,!0);return o==l?{range:r}:{changes:{from:o,to:l},range:E.cursor(o,o<r.head?-1:1)}});return s.changes.empty?!1:(i.dispatch(n.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Y.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function pr(i,e,t){if(i instanceof Y)for(let n of i.state.facet(Y.atomicRanges).map(s=>s(i)))n.between(e,e,(s,r)=>{s<e&&r>e&&(e=t?r:s)});return e}const Cg=(i,e,t)=>Hs(i,n=>{let s=n.from,{state:r}=i,o=r.doc.lineAt(s),l,a;if(t&&!e&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,s-o.from))){if(l[l.length-1]=="	")return s-1;let c=Co(l,r.tabSize),h=c%io(r)||io(r);for(let f=0;f<h&&l[l.length-1-f]==" ";f++)s--;a=s}else a=lt(o.text,s-o.from,e,e)+o.from,a==s&&o.number!=(e?r.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,s-o.from))&&(a=lt(o.text,a-o.from,!1,!1)+o.from);return a}),Qa=i=>Cg(i,!1,!0),Pg=i=>Cg(i,!0,!1),Qg=(i,e)=>Hs(i,t=>{let n=t.head,{state:s}=i,r=s.doc.lineAt(n),o=s.charCategorizer(n);for(let l=null;;){if(n==(e?r.to:r.from)){n==t.head&&r.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let a=lt(r.text,n-r.from,e)+r.from,c=r.text.slice(Math.min(n,a)-r.from,Math.max(n,a)-r.from),h=o(c);if(l!=null&&h!=l)break;(c!=" "||n!=t.head)&&(l=h),n=a}return n}),Ag=i=>Qg(i,!1),dy=i=>Qg(i,!0),py=i=>Hs(i,e=>{let t=i.lineBlockAt(e.head).to;return e.head<t?t:Math.min(i.state.doc.length,e.head+1)}),gy=i=>Hs(i,e=>{let t=i.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),my=i=>Hs(i,e=>{let t=i.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(i.state.doc.length,e.head+1)}),Oy=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:ue.of(["",""])},range:E.cursor(n.from)}));return e(i.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},vy=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=i.changeByRange(n=>{if(!n.empty||n.from==0||n.from==i.doc.length)return{range:n};let s=n.from,r=i.doc.lineAt(s),o=s==r.from?s-1:lt(r.text,s-r.from,!1)+r.from,l=s==r.to?s+1:lt(r.text,s-r.from,!0)+r.from;return{changes:{from:o,to:l,insert:i.doc.slice(s,l).append(i.doc.slice(o,s))},range:E.cursor(l)}});return t.changes.empty?!1:(e(i.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function qo(i){let e=[],t=-1;for(let n of i.selection.ranges){let s=i.doc.lineAt(n.from),r=i.doc.lineAt(n.to);if(!n.empty&&n.to==r.from&&(r=i.doc.lineAt(n.to-1)),t>=s.number){let o=e[e.length-1];o.to=r.to,o.ranges.push(n)}else e.push({from:s.from,to:r.to,ranges:[n]});t=r.number+1}return e}function _g(i,e,t){if(i.readOnly)return!1;let n=[],s=[];for(let r of qo(i)){if(t?r.to==i.doc.length:r.from==0)continue;let o=i.doc.lineAt(t?r.to+1:r.from-1),l=o.length+1;if(t){n.push({from:r.to,to:o.to},{from:r.from,insert:o.text+i.lineBreak});for(let a of r.ranges)s.push(E.range(Math.min(i.doc.length,a.anchor+l),Math.min(i.doc.length,a.head+l)))}else{n.push({from:o.from,to:r.from},{from:r.to,insert:i.lineBreak+o.text});for(let a of r.ranges)s.push(E.range(a.anchor-l,a.head-l))}}return n.length?(e(i.update({changes:n,scrollIntoView:!0,selection:E.create(s,i.selection.mainIndex),userEvent:"move.line"})),!0):!1}const by=({state:i,dispatch:e})=>_g(i,e,!1),xy=({state:i,dispatch:e})=>_g(i,e,!0);function Rg(i,e,t){if(i.readOnly)return!1;let n=[];for(let s of qo(i))t?n.push({from:s.from,insert:i.doc.slice(s.from,s.to)+i.lineBreak}):n.push({from:s.to,insert:i.lineBreak+i.doc.slice(s.from,s.to)});return e(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const yy=({state:i,dispatch:e})=>Rg(i,e,!1),wy=({state:i,dispatch:e})=>Rg(i,e,!0),ky=i=>{if(i.state.readOnly)return!1;let{state:e}=i,t=e.changes(qo(e).map(({from:s,to:r})=>(s>0?s--:r<e.doc.length&&r++,{from:s,to:r}))),n=Hn(e.selection,s=>{let r;if(i.lineWrapping){let o=i.lineBlockAt(s.head),l=i.coordsAtPos(s.head,s.assoc||1);l&&(r=o.bottom+i.documentTop-l.bottom+i.defaultLineHeight/2)}return i.moveVertically(s,!0,r)}).map(t);return i.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Sy(i,e){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Mt(i).resolveInner(e),n=t.childBefore(e),s=t.childAfter(e),r;return n&&s&&n.to<=e&&s.from>=e&&(r=n.type.prop(re.closedBy))&&r.indexOf(s.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(s.from).from&&!/\S/.test(i.sliceDoc(n.to,s.from))?{from:n.to,to:s.from}:null}const Ef=Mg(!1),Ty=Mg(!0);function Mg(i){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(s=>{let{from:r,to:o}=s,l=e.doc.lineAt(r),a=!i&&r==o&&Sy(e,r);i&&(r=o=(o<=l.to?l:e.doc.lineAt(o)).to);let c=new Mo(e,{simulateBreak:r,simulateDoubleBreak:!!a}),h=gh(c,r);for(h==null&&(h=Co(/^\s*/.exec(e.doc.lineAt(r).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;a?{from:r,to:o}=a:r>l.from&&r<l.from+100&&!/\S/.test(l.text.slice(0,r))&&(r=l.from);let f=["",Is(e,h)];return a&&f.push(Is(e,c.lineIndent(l.from,-1))),{changes:{from:r,to:o,insert:ue.of(f)},range:E.cursor(r+1+f[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function bh(i,e){let t=-1;return i.changeByRange(n=>{let s=[];for(let o=n.from;o<=n.to;){let l=i.doc.lineAt(o);l.number>t&&(n.empty||n.to>l.from)&&(e(l,s,n),t=l.number),o=l.to+1}let r=i.changes(s);return{changes:s,range:E.range(r.mapPos(n.anchor,1),r.mapPos(n.head,1))}})}const Cy=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let t=Object.create(null),n=new Mo(i,{overrideIndentation:r=>{let o=t[r];return o??-1}}),s=bh(i,(r,o,l)=>{let a=gh(n,r.from);if(a==null)return;/\S/.test(r.text)||(a=0);let c=/^\s*/.exec(r.text)[0],h=Is(i,a);(c!=h||l.from<r.from+c.length)&&(t[r.from]=a,o.push({from:r.from,to:r.from+c.length,insert:h}))});return s.changes.empty||e(i.update(s,{userEvent:"indent"})),!0},Eg=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(bh(i,(t,n)=>{n.push({from:t.from,insert:i.facet(Ro)})}),{userEvent:"input.indent"})),!0),Py=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update(bh(i,(t,n)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let r=Co(s,i.tabSize),o=0,l=Is(i,Math.max(0,r-io(i)));for(;o<s.length&&o<l.length&&s.charCodeAt(o)==l.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+s.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),Qy=i=>(i.setTabFocusMode(),!0),Ay=[{key:"Ctrl-b",run:cg,shift:bg,preventDefault:!0},{key:"Ctrl-f",run:fg,shift:xg},{key:"Ctrl-p",run:pg,shift:kg},{key:"Ctrl-n",run:gg,shift:Sg},{key:"Ctrl-a",run:G2,shift:ly},{key:"Ctrl-e",run:Z2,shift:ay},{key:"Ctrl-d",run:Pg},{key:"Ctrl-h",run:Qa},{key:"Ctrl-k",run:py},{key:"Ctrl-Alt-h",run:Ag},{key:"Ctrl-o",run:Oy},{key:"Ctrl-t",run:vy},{key:"Ctrl-v",run:Pa}],_y=[{key:"ArrowLeft",run:cg,shift:bg,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:L2,shift:J2,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:H2,shift:ry,preventDefault:!0},{key:"ArrowRight",run:fg,shift:xg,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:W2,shift:ey,preventDefault:!0},{mac:"Cmd-ArrowRight",run:X2,shift:oy,preventDefault:!0},{key:"ArrowUp",run:pg,shift:kg,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Af,shift:Rf},{mac:"Ctrl-ArrowUp",run:Cf,shift:Pf},{key:"ArrowDown",run:gg,shift:Sg,preventDefault:!0},{mac:"Cmd-ArrowDown",run:_f,shift:Mf},{mac:"Ctrl-ArrowDown",run:Pa,shift:Qf},{key:"PageUp",run:Cf,shift:Pf},{key:"PageDown",run:Pa,shift:Qf},{key:"Home",run:U2,shift:sy,preventDefault:!0},{key:"Mod-Home",run:Af,shift:Rf},{key:"End",run:F2,shift:ny,preventDefault:!0},{key:"Mod-End",run:_f,shift:Mf},{key:"Enter",run:Ef,shift:Ef},{key:"Mod-a",run:hy},{key:"Backspace",run:Qa,shift:Qa},{key:"Delete",run:Pg},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ag},{key:"Mod-Delete",mac:"Alt-Delete",run:dy},{mac:"Mod-Backspace",run:gy},{mac:"Mod-Delete",run:my}].concat(Ay.map(i=>({mac:i.key,run:i.run,shift:i.shift}))),Ry=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:N2,shift:ty},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:j2,shift:iy},{key:"Alt-ArrowUp",run:by},{key:"Shift-Alt-ArrowUp",run:yy},{key:"Alt-ArrowDown",run:xy},{key:"Shift-Alt-ArrowDown",run:wy},{key:"Escape",run:uy},{key:"Mod-Enter",run:Ty},{key:"Alt-l",mac:"Ctrl-l",run:cy},{key:"Mod-i",run:fy,preventDefault:!0},{key:"Mod-[",run:Py},{key:"Mod-]",run:Eg},{key:"Mod-Alt-\\",run:Cy},{key:"Shift-Mod-k",run:ky},{key:"Shift-Mod-\\",run:Y2},{key:"Mod-/",run:y2},{key:"Alt-A",run:k2},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Qy}].concat(_y);var $f={};class so{constructor(e,t,n,s,r,o,l,a,c,h=0,f){this.p=e,this.stack=t,this.state=n,this.reducePos=s,this.pos=r,this.score=o,this.buffer=l,this.bufferBase=a,this.curContext=c,this.lookAhead=h,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let s=e.parser.context;return new so(e,[],t,n,n,0,[],0,s?new Df(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,s=e&65535,{parser:r}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let l=r.dynamicPrecedence(s);if(l&&(this.score+=l),n==0){this.pushState(r.getGoto(this.state,s,!0),this.reducePos),s<r.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(s,this.reducePos);return}let a=this.stack.length-(n-1)*3-(e&262144?6:0),c=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-c;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=h));let f=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-f;if(s<r.minRepeatTerm||e&131072){let p=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,c,p,u+4,!0)}if(e&262144)this.state=this.stack[a];else{let p=this.stack[a-3];this.state=r.getGoto(p,s,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(s,c)}storeNode(e,t,n,s=4,r=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(t==n)return;if(o.buffer[l-2]>=t){o.buffer[l-2]=n;return}}}if(!r||this.pos==n)this.buffer.push(e,t,n,s);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let l=!1;for(let a=o;a>0&&this.buffer[a-2]>n;a-=4)if(this.buffer[a-1]>=0){l=!0;break}if(l)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=s}}shift(e,t,n,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let r=e,{parser:o}=this.p;(s>this.pos||t<=o.maxNode)&&(this.pos=s,o.stateFlag(r,1)||(this.reducePos=s)),this.pushState(r,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,s,4)}else this.pos=s,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,s,4)}apply(e,t,n,s){e&65536?this.reduce(e):this.shift(e,t,n,s)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new so(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new My(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if((n&65536)==0)return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let r=0,o;r<t.length;r+=2)(o=t[r+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(t[r],o);if(this.stack.length<120)for(let r=0;s.length<8&&r<t.length;r+=2){let o=t[r+1];s.some((l,a)=>a&1&&l==o)||s.push(t[r],o)}t=s}let n=[];for(let s=0;s<t.length&&n.length<4;s+=2){let r=t[s+1];if(r==this.state)continue;let o=this.split();o.pushState(r,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[s],this.pos),o.reducePos=this.pos,o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let n=t>>19,s=t&65535,r=this.stack.length-n*3;if(r<0||e.getGoto(this.stack[r],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(s,r)=>{if(!t.includes(s))return t.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let l=(o>>19)-r;if(l>1){let a=o&65535,c=this.stack.length-l*3;if(c>=0&&e.getGoto(this.stack[c],a,!1)>=0)return l<<19|65536|a}}else{let l=n(o,r+1);if(l!=null)return l}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Df(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Df{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class My{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class ro{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ro(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ro(this.stack,this.pos,this.index)}}function gr(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let n=0,s=0;n<i.length;){let r=0;for(;;){let o=i.charCodeAt(n++),l=!1;if(o==126){r=65535;break}o>=92&&o--,o>=34&&o--;let a=o-32;if(a>=46&&(a-=46,l=!0),r+=a,l)break;r*=46}t?t[s++]=r:t=new e(r)}return t}class Mr{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Bf=new Mr;class Ey{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Bf,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,s=this.rangeIndex,r=this.pos+e;for(;r<n.from;){if(!s)return null;let o=this.ranges[--s];r-=n.from-o.to,n=o}for(;t<0?r>n.to:r>=n.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];r+=o.from-n.to,n=o}return r}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,s;if(t>=0&&t<this.chunk.length)n=this.pos+e,s=this.chunk.charCodeAt(t);else{let r=this.resolveOffset(e,1);if(r==null)return-1;if(n=r,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=n;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-n)),s=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),s}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Bf,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return n}}class En{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;$y(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}En.prototype.contextual=En.prototype.fallback=En.prototype.extend=!1;En.prototype.fallback=En.prototype.extend=!1;class zo{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function $y(i,e,t,n,s,r){let o=0,l=1<<n,{dialect:a}=t.p.parser;e:for(;(l&i[o])!=0;){let c=i[o+1];for(let p=o+3;p<c;p+=2)if((i[p+1]&l)>0){let g=i[p];if(a.allows(g)&&(e.token.value==-1||e.token.value==g||Dy(g,e.token.value,s,r))){e.acceptToken(g);break}}let h=e.next,f=0,u=i[o+2];if(e.next<0&&u>f&&i[c+u*3-3]==65535){o=i[c+u*3-1];continue e}for(;f<u;){let p=f+u>>1,g=c+p+(p<<1),O=i[g],v=i[g+1]||65536;if(h<O)u=p;else if(h>=v)f=p+1;else{o=i[g+2],e.advance();continue e}}break}}function qf(i,e,t){for(let n=e,s;(s=i[n])!=65535;n++)if(s==t)return n-e;return-1}function Dy(i,e,t,n){let s=qf(t,n,e);return s<0||qf(t,n,i)<s}const bt=typeof process<"u"&&$f&&/\bparse\b/.test($f.LOG);let vl=null;function zf(i,e,t){let n=i.cursor(We.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(i.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:i.length}}class By{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?zf(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?zf(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],s=this.index[t];if(s==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=n.children[s],o=this.start[t]+n.positions[s];if(o>e)return this.nextStart=o,null;if(r instanceof ze){if(o==e){if(o<this.safeFrom)return null;let l=o+r.length;if(l<=this.safeTo){let a=r.prop(re.lookAhead);if(!a||l+a<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}}class qy{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Mr)}getActions(e){let t=0,n=null,{parser:s}=e.p,{tokenizers:r}=s,o=s.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let c=0;c<r.length;c++){if((1<<c&o)==0)continue;let h=r[c],f=this.tokens[c];if(!(n&&!h.fallback)&&((h.contextual||f.start!=e.pos||f.mask!=o||f.context!=l)&&(this.updateCachedToken(f,h,e),f.mask=o,f.context=l),f.lookAhead>f.end+25&&(a=Math.max(f.lookAhead,a)),f.value!=0)){let u=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!h.extend&&(n=f,t>u))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!n&&e.pos==this.stream.end&&(n=new Mr,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Mr,{pos:n,p:s}=e;return t.start=n,t.end=Math.min(n+1,s.stream.end),t.value=n==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,n){let s=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(s,e),n),e.value>-1){let{parser:r}=n.p;for(let o=0;o<r.specialized.length;o++)if(r.specialized[o]==e.value){let l=r.specializers[o](this.stream.read(e.start,e.end),n);if(l>=0&&n.p.parser.dialect.allows(l>>1)){(l&1)==0?e.value=l>>1:e.extended=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,n,s){for(let r=0;r<s;r+=3)if(this.actions[r]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=n,s}addActions(e,t,n,s){let{state:r}=e,{parser:o}=e.p,{data:l}=o;for(let a=0;a<2;a++)for(let c=o.stateSlot(r,a?2:1);;c+=3){if(l[c]==65535)if(l[c+1]==1)c=xi(l,c+2);else{s==0&&l[c+1]==2&&(s=this.putAction(xi(l,c+2),t,n,s));break}l[c]==t&&(s=this.putAction(xi(l,c+1),t,n,s))}return s}}class zy{constructor(e,t,n,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Ey(t,s),this.tokens=new qy(e,this.stream),this.topTerm=e.top[1];let{from:r}=s[0];this.stacks=[so.start(this,e.top[0],r)],this.fragments=n.length&&this.stream.end-r>e.bufferLength*4?new By(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],s,r;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>t)n.push(l);else{if(this.advanceStack(l,n,e))continue;{s||(s=[],r=[]),s.push(l);let a=this.tokens.getMainToken(l);r.push(a.value,a.end)}}break}}if(!n.length){let o=s&&Wy(s);if(o)return bt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw bt&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,r,n);if(o)return bt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((l,a)=>a.score-l.score);n.length>o;)n.pop();n.some(l=>l.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let l=n[o];for(let a=o+1;a<n.length;a++){let c=n[a];if(l.sameState(c)||l.buffer.length>500&&c.buffer.length>500)if((l.score-c.score||l.buffer.length-c.buffer.length)>0)n.splice(a--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let s=e.pos,{parser:r}=this,o=bt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(s);f;){let u=this.parser.nodeSet.types[f.type.id]==f.type?r.getGoto(e.state,f.type.id):-1;if(u>-1&&f.length&&(!c||(f.prop(re.contextHash)||0)==h))return e.useNode(f,u),bt&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(f.type.id)})`),!0;if(!(f instanceof ze)||f.children.length==0||f.positions[0]>0)break;let p=f.children[0];if(p instanceof ze&&f.positions[0]==0)f=p;else break}}let l=r.stateSlot(e.state,4);if(l>0)return e.reduce(l),bt&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let c=0;c<a.length;){let h=a[c++],f=a[c++],u=a[c++],p=c==a.length||!n,g=p?e:e.split(),O=this.tokens.mainToken;if(g.apply(h,f,O?O.start:g.pos,u),bt&&console.log(o+this.stackID(g)+` (via ${(h&65536)==0?"shift":`reduce of ${r.getName(h&65535)}`} for ${r.getName(f)} @ ${s}${g==e?"":", split"})`),p)return!0;g.pos>s?t.push(g):n.push(g)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return If(e,t),!0}}runRecovery(e,t,n){let s=null,r=!1;for(let o=0;o<e.length;o++){let l=e[o],a=t[o<<1],c=t[(o<<1)+1],h=bt?this.stackID(l)+" -> ":"";if(l.deadEnd&&(r||(r=!0,l.restart(),bt&&console.log(h+this.stackID(l)+" (restarted)"),this.advanceFully(l,n))))continue;let f=l.split(),u=h;for(let p=0;f.forceReduce()&&p<10&&(bt&&console.log(u+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));p++)bt&&(u=this.stackID(f)+" -> ");for(let p of l.recoverByInsert(a))bt&&console.log(h+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,n);this.stream.end>l.pos?(c==l.pos&&(c++,a=0),l.recoverByDelete(a,c),bt&&console.log(h+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),If(l,n)):(!s||s.score<l.score)&&(s=l)}return s}stackToTree(e){return e.close(),ze.build({buffer:ro.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(vl||(vl=new WeakMap)).get(e);return t||vl.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function If(i,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==i.pos&&n.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class Iy{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const bl=i=>i;class Ly{constructor(e){this.start=e.start,this.shift=e.shift||bl,this.reduce=e.reduce||bl,this.reuse=e.reuse||bl,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class oo extends Up{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let n=Object.keys(e.topRules).map(l=>e.topRules[l][1]),s=[];for(let l=0;l<t.length;l++)s.push([]);function r(l,a,c){s[l].push([a,a.deserialize(String(c))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=re[a]);for(let c=1;c<l.length;){let h=l[c++];if(h>=0)r(h,a,l[c++]);else{let f=l[c+-h];for(let u=-h;u>0;u--)r(l[c++],a,f);c++}}}this.nodeSet=new fh(t.map((l,a)=>Ot.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:s[a],top:n.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Vp;let o=gr(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(Lf),this.states=gr(e.states,Uint32Array),this.data=gr(e.stateData),this.goto=gr(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new En(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let s=new zy(this,e,t,n);for(let r of this.wrappers)s=r(s,e,t,n);return s}getGoto(e,t,n=!1){let s=this.goto;if(t>=s[0])return-1;for(let r=s[t+1];;){let o=s[r++],l=o&1,a=s[r++];if(l&&n)return a;for(let c=r+(o>>1);r<c;r++)if(s[r]==e)return a;if(l)return-1}}hasAction(e,t){let n=this.data;for(let s=0;s<2;s++)for(let r=this.stateSlot(e,s?2:1),o;;r+=3){if((o=n[r])==65535)if(n[r+1]==1)o=n[r=xi(n,r+2)];else{if(n[r+1]==2)return xi(n,r+2);break}if(o==t||o==0)return xi(n,r+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),s=n?t(n):void 0;for(let r=this.stateSlot(e,1);s==null;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=xi(this.data,r+2);else break;s=t(xi(this.data,r+1))}return s}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=xi(this.data,n+2);else break;if((this.data[n+2]&1)==0){let s=this.data[n+1];t.some((r,o)=>o&1&&r==s)||t.push(this.data[n],s)}}return t}configure(e){let t=Object.assign(Object.create(oo.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let s=e.tokenizers.find(r=>r.from==n);return s?s.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,s)=>{let r=e.specializers.find(l=>l.from==n.external);if(!r)return n;let o=Object.assign(Object.assign({},n),{external:r.to});return t.specializers[s]=Lf(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let r of e.split(" ")){let o=t.indexOf(r);o>=0&&(n[o]=!0)}let s=null;for(let r=0;r<t.length;r++)if(!n[r])for(let o=this.dialects[t[r]],l;(l=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[l]=1;return new Iy(e,n,s)}static deserialize(e){return new oo(e)}}function xi(i,e){return i[e]|i[e+1]<<16}function Wy(i){let e=null;for(let t of i){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Lf(i){if(i.external){let e=i.extend?1:0;return(t,n)=>i.external(t,n)<<1|e}return i.get}const Vy=1,$g=194,Dg=195,Ny=196,Wf=197,jy=198,Fy=199,Uy=200,Hy=2,Bg=3,Vf=201,Xy=24,Gy=25,Zy=49,Ky=50,Yy=55,Jy=56,ew=57,tw=59,iw=60,nw=61,sw=62,rw=63,ow=65,lw=238,aw=71,hw=241,cw=242,fw=243,uw=244,dw=245,pw=246,gw=247,mw=248,qg=72,Ow=249,vw=250,bw=251,xw=252,yw=253,ww=254,kw=255,Sw=256,Tw=73,Cw=77,Pw=263,Qw=112,Aw=130,_w=151,Rw=152,Mw=155,mn=10,Ls=13,xh=32,Io=9,yh=35,Ew=40,$w=46,Aa=123,Nf=125,zg=39,Ig=34,jf=92,Dw=111,Bw=120,qw=78,zw=117,Iw=85,Lw=new Set([Gy,Zy,Ky,Pw,ow,Aw,Jy,ew,lw,sw,rw,qg,Tw,Cw,iw,nw,_w,Rw,Mw,Qw]);function xl(i){return i==mn||i==Ls}function yl(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}const Ww=new zo((i,e)=>{let t;if(i.next<0)i.acceptToken(Fy);else if(e.context.flags&Er)xl(i.next)&&i.acceptToken(jy,1);else if(((t=i.peek(-1))<0||xl(t))&&e.canShift(Wf)){let n=0;for(;i.next==xh||i.next==Io;)i.advance(),n++;(i.next==mn||i.next==Ls||i.next==yh)&&i.acceptToken(Wf,-n)}else xl(i.next)&&i.acceptToken(Ny,1)},{contextual:!0}),Vw=new zo((i,e)=>{let t=e.context;if(t.flags)return;let n=i.peek(-1);if(n==mn||n==Ls){let s=0,r=0;for(;;){if(i.next==xh)s++;else if(i.next==Io)s+=8-s%8;else break;i.advance(),r++}s!=t.indent&&i.next!=mn&&i.next!=Ls&&i.next!=yh&&(s<t.indent?i.acceptToken(Dg,-r):i.acceptToken($g))}}),Er=1,Lg=2,gi=4,mi=8,Oi=16,vi=32;function $r(i,e,t){this.parent=i,this.indent=e,this.flags=t,this.hash=(i?i.hash+i.hash<<8:0)+e+(e<<4)+t+(t<<6)}const Nw=new $r(null,0,0);function jw(i){let e=0;for(let t=0;t<i.length;t++)e+=i.charCodeAt(t)==Io?8-e%8:1;return e}const Ff=new Map([[hw,0],[cw,gi],[fw,mi],[uw,mi|gi],[dw,Oi],[pw,Oi|gi],[gw,Oi|mi],[mw,Oi|mi|gi],[Ow,vi],[vw,vi|gi],[bw,vi|mi],[xw,vi|mi|gi],[yw,vi|Oi],[ww,vi|Oi|gi],[kw,vi|Oi|mi],[Sw,vi|Oi|mi|gi]].map(([i,e])=>[i,e|Lg])),Fw=new Ly({start:Nw,reduce(i,e,t,n){return i.flags&Er&&Lw.has(e)||(e==aw||e==qg)&&i.flags&Lg?i.parent:i},shift(i,e,t,n){return e==$g?new $r(i,jw(n.read(n.pos,t.pos)),0):e==Dg?i.parent:e==Xy||e==Yy||e==tw||e==Bg?new $r(i,0,Er):Ff.has(e)?new $r(i,0,Ff.get(e)|i.flags&Er):i},hash(i){return i.hash}}),Uw=new zo(i=>{for(let e=0;e<5;e++){if(i.next!="print".charCodeAt(e))return;i.advance()}if(!/\w/.test(String.fromCharCode(i.next)))for(let e=0;;e++){let t=i.peek(e);if(!(t==xh||t==Io)){t!=Ew&&t!=$w&&t!=mn&&t!=Ls&&t!=yh&&i.acceptToken(Vy);return}}}),Hw=new zo((i,e)=>{let{flags:t}=e.context,n=t&gi?Ig:zg,s=(t&mi)>0,r=!(t&Oi),o=(t&vi)>0,l=i.pos;for(;!(i.next<0);)if(o&&i.next==Aa)if(i.peek(1)==Aa)i.advance(2);else{if(i.pos==l){i.acceptToken(Bg,1);return}break}else if(r&&i.next==jf){if(i.pos==l){i.advance();let a=i.next;a>=0&&(i.advance(),Xw(i,a)),i.acceptToken(Hy);return}break}else if(i.next==jf&&!r&&i.peek(1)>-1)i.advance(2);else if(i.next==n&&(!s||i.peek(1)==n&&i.peek(2)==n)){if(i.pos==l){i.acceptToken(Vf,s?3:1);return}break}else if(i.next==mn){if(s)i.advance();else if(i.pos==l){i.acceptToken(Vf);return}break}else i.advance();i.pos>l&&i.acceptToken(Uy)});function Xw(i,e){if(e==Dw)for(let t=0;t<2&&i.next>=48&&i.next<=55;t++)i.advance();else if(e==Bw)for(let t=0;t<2&&yl(i.next);t++)i.advance();else if(e==zw)for(let t=0;t<4&&yl(i.next);t++)i.advance();else if(e==Iw)for(let t=0;t<8&&yl(i.next);t++)i.advance();else if(e==qw&&i.next==Aa){for(i.advance();i.next>=0&&i.next!=Nf&&i.next!=zg&&i.next!=Ig&&i.next!=mn;)i.advance();i.next==Nf&&i.advance()}}const Gw=Hp({'async "*" "**" FormatConversion FormatSpec':S.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":S.controlKeyword,"in not and or is del":S.operatorKeyword,"from def class global nonlocal lambda":S.definitionKeyword,import:S.moduleKeyword,"with as print":S.keyword,Boolean:S.bool,None:S.null,VariableName:S.variableName,"CallExpression/VariableName":S.function(S.variableName),"FunctionDefinition/VariableName":S.function(S.definition(S.variableName)),"ClassDefinition/VariableName":S.definition(S.className),PropertyName:S.propertyName,"CallExpression/MemberExpression/PropertyName":S.function(S.propertyName),Comment:S.lineComment,Number:S.number,String:S.string,FormatString:S.special(S.string),Escape:S.escape,UpdateOp:S.updateOperator,"ArithOp!":S.arithmeticOperator,BitOp:S.bitwiseOperator,CompareOp:S.compareOperator,AssignOp:S.definitionOperator,Ellipsis:S.punctuation,At:S.meta,"( )":S.paren,"[ ]":S.squareBracket,"{ }":S.brace,".":S.derefOperator,", ;":S.separator}),Zw={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},Kw=oo.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:Fw,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[Gw],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[Uw,Vw,Ww,Hw,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:i=>Zw[i]||-1}],tokenPrec:7668});function Uf(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Yw(i){let e=Object.create(null),t=Object.create(null);for(let{label:s}of i){e[s[0]]=!0;for(let r=1;r<s.length;r++)t[s[r]]=!0}let n=Uf(e)+Uf(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function Jw(i){let e=i.map(s=>typeof s=="string"?{label:s}:s),[t,n]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:Yw(e);return s=>{let r=s.matchBefore(n);return r||s.explicit?{from:r?r.from:s.pos,options:e,validFor:t}:null}}function ek(i,e){return t=>{for(let n=Mt(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(i.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}const tk=Ri.define(),ik=Y.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class nk{constructor(e,t,n,s){this.field=e,this.line=t,this.from=n,this.to=s}}class wh{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,ot.TrackDel),n=e.mapPos(this.to,1,ot.TrackDel);return t==null||n==null?null:new wh(this.field,t,n)}}class kh{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],s=[t],r=e.doc.lineAt(t),o=/^\s*/.exec(r.text)[0];for(let a of this.lines){if(n.length){let c=o,h=/^\t*/.exec(a)[0].length;for(let f=0;f<h;f++)c+=e.facet(Ro);s.push(t+c.length-h),a=c+a.slice(h)}n.push(a),t+=a.length+1}let l=this.fieldPositions.map(a=>new wh(a.field,s[a.line]+a.from,s[a.line]+a.to));return{text:n,ranges:l}}static parse(e){let t=[],n=[],s=[],r;for(let o of e.split(/\r\n?|\n/)){for(;r=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let l=r[1]?+r[1]:null,a=r[2]||r[3]||"",c=-1,h=a.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<t.length;f++)(l!=null?t[f].seq==l:h&&t[f].name==h)&&(c=f);if(c<0){let f=0;for(;f<t.length&&(l==null||t[f].seq!=null&&t[f].seq<l);)f++;t.splice(f,0,{seq:l,name:h}),c=f;for(let u of s)u.field>=c&&u.field++}s.push(new nk(c,n.length,r.index,r.index+h.length)),o=o.slice(0,r.index)+a+o.slice(r.index+r[0].length)}o=o.replace(/\\([{}])/g,(l,a,c)=>{for(let h of s)h.line==n.length&&h.from>c&&(h.from--,h.to--);return a}),n.push(o)}return new kh(n,s)}}let sk=Ae.widget({widget:new class extends Ao{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),rk=Ae.mark({class:"cm-snippetField"});class Xn{constructor(e,t){this.ranges=e,this.active=t,this.deco=Ae.set(e.map(n=>(n.from==n.to?sk:rk).range(n.from,n.to)))}map(e){let t=[];for(let n of this.ranges){let s=n.map(e);if(!s)return null;t.push(s)}return new Xn(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const Xs=Re.define({map(i,e){return i&&i.map(e)}}),ok=Re.define(),Ws=ci.define({create(){return null},update(i,e){for(let t of e.effects){if(t.is(Xs))return t.value;if(t.is(ok)&&i)return new Xn(i.ranges,t.value)}return i&&e.docChanged&&(i=i.map(e.changes)),i&&e.selection&&!i.selectionInsideField(e.selection)&&(i=null),i},provide:i=>Y.decorations.from(i,e=>e?e.deco:Ae.none)});function Sh(i,e){return E.create(i.filter(t=>t.field==e).map(t=>E.range(t.from,t.to)))}function lk(i){let e=kh.parse(i);return(t,n,s,r)=>{let{text:o,ranges:l}=e.instantiate(t.state,s),{main:a}=t.state.selection,c={changes:{from:s,to:r==a.from?a.to:r,insert:ue.of(o)},scrollIntoView:!0,annotations:n?[tk.of(n),qe.userEvent.of("input.complete")]:void 0};if(l.length&&(c.selection=Sh(l,0)),l.some(h=>h.field>0)){let h=new Xn(l,0),f=c.effects=[Xs.of(h)];t.state.field(Ws,!1)===void 0&&f.push(Re.appendConfig.of([Ws,uk,dk,ik]))}t.dispatch(t.state.update(c))}}function Wg(i){return({state:e,dispatch:t})=>{let n=e.field(Ws,!1);if(!n||i<0&&n.active==0)return!1;let s=n.active+i,r=i>0&&!n.ranges.some(o=>o.field==s+i);return t(e.update({selection:Sh(n.ranges,s),effects:Xs.of(r?null:new Xn(n.ranges,s)),scrollIntoView:!0})),!0}}const ak=({state:i,dispatch:e})=>i.field(Ws,!1)?(e(i.update({effects:Xs.of(null)})),!0):!1,hk=Wg(1),ck=Wg(-1),fk=[{key:"Tab",run:hk,shift:ck},{key:"Escape",run:ak}],Hf=X.define({combine(i){return i.length?i[0]:fk}}),uk=So.highest(ch.compute([Hf],i=>i.facet(Hf)));function pi(i,e){return Object.assign(Object.assign({},e),{apply:lk(i)})}const dk=Y.domEventHandlers({mousedown(i,e){let t=e.state.field(Ws,!1),n;if(!t||(n=e.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let s=t.ranges.find(r=>r.from<=n&&r.to>=n);return!s||s.field==t.active?!1:(e.dispatch({selection:Sh(t.ranges,s.field),effects:Xs.of(t.ranges.some(r=>r.field>s.field)?new Xn(t.ranges,s.field):null),scrollIntoView:!0}),!0)}}),Vg=new class extends un{};Vg.startSide=1;Vg.endSide=-1;const Xf=new Mx,Ng=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function mr(i){return(e,t,n)=>{if(n)return!1;let s=e.node.getChild("VariableName");return s&&t(s,i),!0}}const pk={FunctionDefinition:mr("function"),ClassDefinition:mr("class"),ForStatement(i,e,t){if(t){for(let n=i.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")e(n,"variable");else if(n.name=="in")break}},ImportStatement(i,e){var t,n;let{node:s}=i,r=((t=s.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=s.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((n=o.nextSibling)===null||n===void 0?void 0:n.name)!="as"&&e(o,r?"variable":"namespace")},AssignStatement(i,e){for(let t=i.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(i,e){for(let t=null,n=i.node.firstChild;n;n=n.nextSibling)n.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(n,"variable"),t=n},CapturePattern:mr("variable"),AsPattern:mr("variable"),__proto__:null};function jg(i,e){let t=Xf.get(e);if(t)return t;let n=[],s=!0;function r(o,l){let a=i.sliceString(o.from,o.to);n.push({label:a,type:l})}return e.cursor(We.IncludeAnonymous).iterate(o=>{if(o.name){let l=pk[o.name];if(l&&l(o,r,s)||!s&&Ng.has(o.name))return!1;s=!1}else if(o.to-o.from>8192){for(let l of jg(i,o.node))n.push(l);return!1}}),Xf.set(e,n),n}const Gf=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,Fg=["String","FormatString","Comment","PropertyName"];function gk(i){let e=Mt(i.state).resolveInner(i.pos,-1);if(Fg.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&Gf.test(i.state.sliceDoc(e.from,e.to));if(!t&&!i.explicit)return null;let n=[];for(let s=e;s;s=s.parent)Ng.has(s.name)&&(n=n.concat(jg(i.state.doc,s)));return{options:n,from:t?e.from:i.pos,validFor:Gf}}const mk=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(i=>({label:i,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(i=>({label:i,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(i=>({label:i,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(i=>({label:i,type:"function"}))),Ok=[pi("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),pi("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),pi("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),pi("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),pi(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),pi("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),pi("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),pi("import ${module}",{label:"import",detail:"statement",type:"keyword"}),pi("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],vk=ek(Fg,Jw(mk.concat(Ok)));function wl(i){let{node:e,pos:t}=i,n=i.lineIndent(t,-1),s=null;for(;;){let r=e.childBefore(t);if(r)if(r.name=="Comment")t=r.from;else if(r.name=="Body"||r.name=="MatchBody")i.baseIndentFor(r)+i.unit<=n&&(s=r),e=r;else if(r.name=="MatchClause")e=r;else if(r.type.is("Statement"))e=r;else break;else break}return s}function kl(i,e){let t=i.baseIndentFor(e),n=i.lineAt(i.pos,-1),s=n.from+n.text.length;return/^\s*($|#)/.test(n.text)&&i.node.to<s+100&&!/\S/.test(i.state.sliceDoc(s,i.node.to))&&i.lineIndent(i.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(i.textAfter)&&i.lineIndent(i.pos,-1)>t?null:t+i.unit}const Sl=eo.define({name:"python",parser:Kw.configure({props:[Kp.add({Body:i=>{var e;let t=/^\s*(#|$)/.test(i.textAfter)&&wl(i)||i.node;return(e=kl(i,t))!==null&&e!==void 0?e:i.continue()},MatchBody:i=>{var e;let t=wl(i);return(e=kl(i,t||i.node))!==null&&e!==void 0?e:i.continue()},IfStatement:i=>/^\s*(else:|elif )/.test(i.textAfter)?i.baseIndent:i.continue(),"ForStatement WhileStatement":i=>/^\s*else:/.test(i.textAfter)?i.baseIndent:i.continue(),TryStatement:i=>/^\s*(except[ :]|finally:|else:)/.test(i.textAfter)?i.baseIndent:i.continue(),MatchStatement:i=>/^\s*case /.test(i.textAfter)?i.baseIndent+i.unit:i.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":pl({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":pl({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":pl({closing:"]"}),MemberExpression:i=>i.baseIndent+i.unit,"String FormatString":()=>null,Script:i=>{var e;let t=wl(i);return(e=t&&kl(i,t))!==null&&e!==void 0?e:i.continue()}}),i2.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":n2,Body:(i,e)=>({from:i.from+1,to:i.to-(i.to==e.doc.length?0:1)}),"String FormatString":(i,e)=>({from:e.doc.lineAt(i.from).to,to:i.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function bk(){return new Ux(Sl,[Sl.data.of({autocomplete:gk}),Sl.data.of({autocomplete:vk})])}const xk="#e5c07b",Zf="#e06c75",yk="#56b6c2",wk="#ffffff",Dr="#abb2bf",_a="#7d8799",kk="#61afef",Sk="#98c379",Kf="#d19a66",Tk="#c678dd",Ck="#21252b",Yf="#2c313a",Jf="#282c34",Tl="#353a42",Pk="#3E4451",eu="#528bff",Qk=Y.theme({"&":{color:Dr,backgroundColor:Jf},".cm-content":{caretColor:eu},".cm-cursor, .cm-dropCursor":{borderLeftColor:eu},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Pk},".cm-panels":{backgroundColor:Ck,color:Dr},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Jf,color:_a,border:"none"},".cm-activeLineGutter":{backgroundColor:Yf},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Tl},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Tl,borderBottomColor:Tl},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Yf,color:Dr}}},{dark:!0}),Ak=Eo.define([{tag:S.keyword,color:Tk},{tag:[S.name,S.deleted,S.character,S.propertyName,S.macroName],color:Zf},{tag:[S.function(S.variableName),S.labelName],color:kk},{tag:[S.color,S.constant(S.name),S.standard(S.name)],color:Kf},{tag:[S.definition(S.name),S.separator],color:Dr},{tag:[S.typeName,S.className,S.number,S.changed,S.annotation,S.modifier,S.self,S.namespace],color:xk},{tag:[S.operator,S.operatorKeyword,S.url,S.escape,S.regexp,S.link,S.special(S.string)],color:yk},{tag:[S.meta,S.comment],color:_a},{tag:S.strong,fontWeight:"bold"},{tag:S.emphasis,fontStyle:"italic"},{tag:S.strikethrough,textDecoration:"line-through"},{tag:S.link,color:_a,textDecoration:"underline"},{tag:S.heading,fontWeight:"bold",color:Zf},{tag:[S.atom,S.bool,S.special(S.variableName)],color:Kf},{tag:[S.processingInstruction,S.string,S.inserted],color:Sk},{tag:S.invalid,color:wk}]),_k=[Qk,r2(Ak)],Rk={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},Mk={class:"relative flex min-h-screen flex-col"},Ek={class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},$k={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Dk={class:"flex h-20 items-center justify-between"},Bk={class:"flex items-center gap-3"},qk={key:0,class:"text-sm text-slate-400"},zk={class:"relative flex-grow w-full px-3 sm:px-4 lg:px-6 py-6 grid gap-4 md:grid-cols-[22rem_minmax(0,1fr)] lg:grid-cols-[26rem_minmax(0,1fr)]"},Ik={class:"hidden md:block"},Lk={class:"sticky top-4 rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl p-6"},Wk={key:0,class:"animate-pulse space-y-3"},Vk={key:1,class:"text-sm text-slate-300 whitespace-pre-wrap leading-relaxed"},Nk={class:"flex flex-col gap-4"},jk={class:"flex flex-col gap-3"},Fk={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl p-6"},Uk={class:"flex items-center justify-between mb-4"},Hk={class:"flex items-center gap-2"},Xk=["disabled"],Gk={class:"flex flex-col gap-3"},Zk={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl p-6"},Kk={class:"flex items-center gap-2 mb-4"},Yk={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Jk=Ai({__name:"interprete",setup(i){const e=x1(),t=J(null),n=J(!0),s=J(!1),r=J(`
print("Hola mundo")

`),o=J(""),l=J(!1),a=J(null);let c=null;const h=J(!1);function f(){h.value=!0}function u(){h.value=!1}async function p(){h.value=!1,await v()}async function g(){n.value=!0,t.value=null;const x=Number(e.params.id);try{t.value=await sv(x)}catch(y){console.log("Error al cargar la evaluación:",y)}finally{n.value=!1}}async function O(){if(!s.value){s.value=!0;try{const x=await rv(r.value);if(!x.ok){console.log("Error en la respuesta de /code-run/:",x.statusText);return}const y=await x.json();console.log("Respuesta de /run-code/:",y),y.stderr?(o.value=y.stderr,l.value=!0):(o.value=y.stdout,l.value=!1)}catch(x){console.log("Error al llamar /run-code/:",x)}finally{s.value=!1}}}async function v(){if(!s.value)try{const y=await(await ov(r.value,t.value?.id)).json();console.log("Respuesta de /send-code/:",y),y.stderr?(o.value=y.stderr,l.value=!0):(o.value=y.stdout,l.value=!1)}catch(x){console.log("Error al enviar el código:",x)}finally{}}return Fn(()=>{if(g(),a.value&&!c){const x=de.create({doc:r.value,extensions:[wx(),Tx(),ch.of([...Ry,...I2,{key:"Tab",preventDefault:!0,run:Eg}]),_2(),t2(),p2(),bk(),_k,Y.lineWrapping,Y.updateListener.of(y=>{y.docChanged&&(r.value=y.state.doc.toString())}),Y.theme({"&":{height:"65vh",borderRadius:"0.75rem",border:"1px solid rgba(148, 163, 184, 0.1)",backgroundColor:"rgba(15, 23, 42, 0.6)"},".cm-scroller":{fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:"1rem"},".cm-gutters":{backgroundColor:"rgba(15, 23, 42, 0.4)",borderRight:"1px solid rgba(148, 163, 184, 0.1)"}})]});c=new Y({state:x,parent:a.value})}}),Bu(()=>{c&&(c.destroy(),c=null)}),(x,y)=>{const T=Un("RouterLink");return I(),V("div",Rk,[y[12]||(y[12]=d("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[d("div",{class:"absolute top-20 left-10 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-sky-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute top-1/2 left-1/2 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl"})],-1)),d("div",Mk,[d("header",Ek,[d("div",$k,[d("div",Dk,[d("div",Bk,[y[1]||(y[1]=d("div",{class:"bg-gradient-to-br from-emerald-400 to-teal-600 p-2 rounded-xl shadow-lg"},[d("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})])],-1)),d("div",null,[y[0]||(y[0]=d("h1",{class:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent"}," Intérprete de Python ",-1)),t.value?(I(),V("p",qk,le(t.value.titulo),1)):je("",!0)])]),Ve(T,{to:"/evaluaciones",class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105",title:"Salir del intérprete"},{default:jn(()=>y[2]||(y[2]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),se(" Volver ",-1)])),_:1,__:[2]})])])]),d("main",zk,[d("aside",Ik,[d("div",Lk,[y[4]||(y[4]=Be('<div class="flex items-center gap-2 mb-4" data-v-b46e750d><div class="bg-gradient-to-br from-amber-400 to-orange-600 p-2 rounded-lg shadow-lg" data-v-b46e750d><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b46e750d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-b46e750d></path></svg></div><h2 class="text-lg font-semibold text-white" data-v-b46e750d>Enunciado</h2></div>',1)),n.value?(I(),V("div",Wk,y[3]||(y[3]=[d("div",{class:"h-4 w-5/6 rounded bg-slate-700/50"},null,-1),d("div",{class:"h-4 w-4/6 rounded bg-slate-700/50"},null,-1),d("div",{class:"h-4 w-3/6 rounded bg-slate-700/50"},null,-1),d("div",{class:"h-4 w-2/6 rounded bg-slate-700/50"},null,-1)]))):(I(),V("p",Vk,le(t.value?.contenido),1))])]),d("div",Nk,[d("section",jk,[d("div",Fk,[d("div",Uk,[y[7]||(y[7]=Be('<div class="flex items-center gap-2" data-v-b46e750d><div class="bg-gradient-to-br from-sky-400 to-blue-600 p-2 rounded-lg shadow-lg" data-v-b46e750d><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b46e750d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" data-v-b46e750d></path></svg></div><span class="text-lg font-semibold text-white" data-v-b46e750d>Editor de Código</span></div>',1)),d("div",Hk,[d("button",{class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-sky-600 to-blue-700 px-4 py-2.5 text-white text-sm font-medium hover:from-sky-500 hover:to-blue-600 transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:s.value,onClick:O},[y[5]||(y[5]=d("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("polygon",{points:"8,5 19,12 8,19"})],-1)),d("span",null,le(s.value?"Ejecutando…":"Ejecutar"),1)],8,Xk),d("button",{class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-700 px-4 py-2.5 text-white text-sm font-medium hover:from-emerald-500 hover:to-teal-600 transition-all duration-200 hover:scale-105 shadow-lg",onClick:f},y[6]||(y[6]=[d("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[d("path",{d:"M22 3L9 14"}),d("path",{d:"M22 3l-7 18-3-7-7-3 17-8Z"})],-1),d("span",null,"Enviar",-1)]))])]),d("div",{ref_key:"codeMirrorContainer",ref:a,class:"w-full"},null,512)])]),d("section",Gk,[d("div",Zk,[d("div",Kk,[d("div",{class:fn(["p-2 rounded-lg shadow-lg",l.value?"bg-gradient-to-br from-rose-400 to-red-600":"bg-gradient-to-br from-slate-400 to-slate-600"])},y[8]||(y[8]=[d("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)]),2),y[9]||(y[9]=d("span",{class:"text-lg font-semibold text-white"},"Terminal",-1))]),d("pre",{class:fn(["h-[220px] w-full overflow-auto rounded-lg border p-4 text-sm font-mono",l.value?"border-rose-500/50 bg-rose-950/50 text-rose-200":"border-slate-700/50 bg-slate-900/50 text-slate-100"])},le(o.value||"—"),3)])])])])]),h.value?(I(),V("div",Yk,[d("div",{class:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm",onClick:u}),d("div",{class:"relative mx-4 w-full max-w-md rounded-2xl border border-white/10 bg-slate-950/90 backdrop-blur-md shadow-2xl p-6"},[y[11]||(y[11]=Be('<div class="flex items-center gap-3 mb-4" data-v-b46e750d><div class="bg-gradient-to-br from-emerald-400 to-teal-600 p-2 rounded-lg shadow-lg" data-v-b46e750d><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b46e750d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-b46e750d></path></svg></div><h3 class="text-xl font-bold text-white" data-v-b46e750d>Enviar evaluación</h3></div><p class="text-sm text-slate-300 mb-6" data-v-b46e750d> ¿Confirmas que deseas enviar tu solución para esta evaluación? Esta acción será registrada. </p>',2)),d("div",{class:"flex justify-end gap-3"},[d("button",{class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200",onClick:u}," Cancelar "),d("button",{class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-700 px-4 py-2.5 text-white text-sm font-medium hover:from-emerald-500 hover:to-teal-600 transition-all duration-200 hover:scale-105 shadow-lg",onClick:p},y[10]||(y[10]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),d("span",null,"Confirmar",-1)]))])])])):je("",!0)])}}}),tu=Yi(Jk,[["__scopeId","data-v-b46e750d"]]),eS="https://edurunbackend.loca.lt/api";async function Ug(i){const e=await fetch(`${eS}/tareas/${i}`).then(t=>t.json());return console.log("Tareas del curso obtenidas:",e),e}function $n(i){try{const e=new Date(i);return new Intl.DateTimeFormat("es-CL",{dateStyle:"medium",timeStyle:"short"}).format(e)}catch{return i}}const tS={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},iS={class:"relative flex min-h-screen flex-col"},nS={class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},sS={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},rS={class:"flex h-20 items-center justify-between"},oS={class:"flex items-center gap-3"},lS={key:0,class:"text-sm text-slate-400"},aS={class:"flex items-center gap-3"},hS={class:"flex flex-grow items-center justify-center px-4 py-8"},cS={class:"mx-auto max-w-4xl w-full"},fS={key:0,class:"space-y-4"},uS={key:1,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},dS={key:2,class:"space-y-4"},pS={class:"relative p-6"},gS={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},mS={class:"flex-grow"},OS={class:"flex items-start gap-3 mb-3"},vS={class:"text-xl font-bold text-white group-hover:text-sky-400 transition-colors"},bS={class:"flex items-center gap-2 mt-2 text-sm text-slate-400"},xS=["onClick"],yS=Ai({__name:"tareas_list_estudiante",setup(i){const e=J(!0),t=J([]),n=J(""),s=wo();Fn(async()=>{try{const o=await js();n.value=o.title||o.label;const l=o.id;t.value=await Ug(l)}catch(o){console.error("Error al cargar las evaluaciones:",o)}finally{e.value=!1}});function r(o){s.push({name:"entorno-evaluacion",params:{id:o.id}})}return(o,l)=>{const a=Un("RouterLink");return I(),V("div",tS,[l[10]||(l[10]=d("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[d("div",{class:"absolute top-20 left-10 w-72 h-72 bg-sky-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})],-1)),d("div",iS,[d("header",nS,[d("div",sS,[d("div",rS,[d("div",oS,[l[1]||(l[1]=d("div",{class:"bg-gradient-to-br from-sky-400 to-blue-600 p-2 rounded-xl shadow-lg"},[d("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),d("div",null,[l[0]||(l[0]=d("h1",{class:"text-2xl font-bold bg-gradient-to-r from-sky-400 to-blue-500 bg-clip-text text-transparent"}," Mis Evaluaciones ",-1)),n.value?(I(),V("p",lS,le(n.value),1)):je("",!0)])]),d("div",aS,[Ve(a,{to:"/",class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105"},{default:jn(()=>l[2]||(l[2]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),se(" Volver ",-1)])),_:1,__:[2]})])])])]),d("main",hS,[d("div",cS,[e.value?(I(),V("div",fS,l[3]||(l[3]=[Be('<div class="rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden" data-v-b8186fb8><div class="p-6" data-v-b8186fb8><div class="animate-pulse space-y-4" data-v-b8186fb8><div class="h-6 w-2/3 rounded bg-slate-700/50" data-v-b8186fb8></div><div class="h-4 w-40 rounded bg-slate-800/50" data-v-b8186fb8></div><div class="h-10 w-28 rounded bg-slate-800/50" data-v-b8186fb8></div></div></div></div><div class="rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden" data-v-b8186fb8><div class="p-6" data-v-b8186fb8><div class="animate-pulse space-y-4" data-v-b8186fb8><div class="h-6 w-1/2 rounded bg-slate-700/50" data-v-b8186fb8></div><div class="h-4 w-32 rounded bg-slate-800/50" data-v-b8186fb8></div><div class="h-10 w-28 rounded bg-slate-800/50" data-v-b8186fb8></div></div></div></div>',2)]))):t.value.length===0?(I(),V("div",uS,l[4]||(l[4]=[Be('<div class="p-12 text-center" data-v-b8186fb8><div class="mx-auto w-20 h-20 rounded-full bg-gradient-to-br from-slate-700/50 to-slate-800/50 flex items-center justify-center mb-6" data-v-b8186fb8><svg class="w-10 h-10 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b8186fb8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-b8186fb8></path></svg></div><h3 class="text-2xl font-bold text-white mb-2" data-v-b8186fb8>No hay evaluaciones disponibles</h3><p class="text-slate-400" data-v-b8186fb8>Tu docente aún no ha asignado evaluaciones para este curso.</p></div>',1)]))):(I(),V("div",dS,[(I(!0),V(dt,null,Cs(t.value,c=>(I(),V("div",{key:c.id,class:"group relative overflow-hidden rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl hover:border-sky-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-sky-500/20"},[l[8]||(l[8]=d("div",{class:"absolute top-0 right-0 w-64 h-64 bg-sky-500/10 rounded-full blur-3xl group-hover:bg-sky-500/20 transition-all duration-300"},null,-1)),d("div",pS,[d("div",gS,[d("div",mS,[d("div",OS,[l[6]||(l[6]=d("div",{class:"flex-shrink-0 mt-1"},[d("div",{class:"bg-gradient-to-br from-sky-400 to-blue-600 p-2 rounded-lg shadow-lg"},[d("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),d("div",null,[d("h3",vS,le(c.titulo),1),d("div",bS,[l[5]||(l[5]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),d("span",null,"Fecha límite: "+le(Pt($n)(c.fecha_limite)),1)])])])]),d("button",{onClick:h=>r(c),class:"flex-shrink-0 inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-sky-600 to-blue-700 px-6 py-3 text-sm font-medium text-white hover:from-sky-500 hover:to-blue-600 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-sky-500/50"},l[7]||(l[7]=[d("span",null,"Comenzar",-1),d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)]),8,xS)])])]))),128))]))])]),l[9]||(l[9]=d("footer",{class:"border-t border-white/10 bg-slate-950/30 backdrop-blur-sm"},[d("div",{class:"mx-auto max-w-7xl px-4 py-8"},[d("div",{class:"flex flex-col md:flex-row items-center justify-between gap-4"},[d("p",{class:"text-sm text-slate-400"}," © 2025 Edurun. Todos los derechos reservados. ")])])],-1))])])}}}),wS=Yi(yS,[["__scopeId","data-v-b8186fb8"]]),kS={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},SS={class:"relative flex min-h-screen flex-col"},TS={class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},CS={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},PS={class:"flex h-20 items-center justify-between"},QS={class:"flex items-center gap-3"},AS={key:0,class:"text-sm text-slate-400"},_S={class:"flex items-center gap-3"},RS={class:"flex flex-grow items-center justify-center px-4 py-8"},MS={class:"mx-auto max-w-5xl w-full"},ES={key:0,class:"space-y-4"},$S={key:1,class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},DS={key:2,class:"space-y-6"},BS={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},qS={class:"flex items-center gap-3"},zS={class:"text-left"},IS={class:"text-sm text-slate-400"},LS={class:"border-t border-white/10"},WS={key:0,class:"p-6 text-center text-slate-400"},VS={key:1,class:"divide-y divide-white/10"},NS={class:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},jS={class:"flex-grow"},FS={class:"text-lg font-bold text-white mb-2"},US={class:"flex flex-wrap items-center gap-4"},HS={class:"flex items-center gap-2 text-sm text-slate-400"},XS={class:"flex flex-wrap gap-2"},GS=["onClick"],ZS=["onClick"],KS={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},YS={class:"flex items-center gap-3"},JS={class:"text-left"},e4={class:"text-sm text-slate-400"},t4={class:"border-t border-white/10"},i4={key:0,class:"p-6 text-center text-slate-400"},n4={key:1,class:"divide-y divide-white/10"},s4={class:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},r4={class:"flex-grow"},o4={class:"text-lg font-bold text-white mb-2"},l4={class:"flex flex-wrap items-center gap-4"},a4={class:"flex items-center gap-2 text-sm text-slate-400"},h4={class:"flex items-center gap-2 text-sm text-slate-400"},c4={class:"flex flex-wrap gap-2"},f4=["onClick"],u4=["onClick"],d4=Ai({__name:"tareas_list_docente",setup(i){const e=J(!0),t=J([]),n=J([]),s=J(""),r=wo(),o=J(!0),l=J(!0);Fn(async()=>{try{const O=await js();s.value=O.title||O.label;const v=O.id,[x,y]=await Promise.all([Td(v),Ug(v)]);t.value=x,n.value=y}catch(O){console.error("Error al cargar las actividades:",O)}finally{e.value=!1}});function a(O){console.log("Ver detalles de evaluación:",O.id)}function c(O){console.log("Editar evaluación:",O.id)}function h(O){console.log("Ver detalles de tarea:",O.id)}function f(O){console.log("Editar tarea:",O.id)}function u(){r.push("/crear_evaluacion")}function p(){o.value=!o.value}function g(){l.value=!l.value}return(O,v)=>{const x=Un("RouterLink");return I(),V("div",kS,[v[21]||(v[21]=d("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[d("div",{class:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})],-1)),d("div",SS,[d("header",TS,[d("div",CS,[d("div",PS,[d("div",QS,[v[1]||(v[1]=d("div",{class:"bg-gradient-to-br from-purple-400 to-blue-600 p-2 rounded-xl shadow-lg"},[d("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),d("div",null,[v[0]||(v[0]=d("h1",{class:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-blue-500 bg-clip-text text-transparent"}," Panel de Actividades ",-1)),s.value?(I(),V("p",AS,le(s.value),1)):je("",!0)])]),d("div",_S,[d("button",{onClick:u,class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-700 px-4 py-2.5 text-sm font-medium text-white hover:from-emerald-500 hover:to-teal-600 transition-all duration-200 hover:scale-105 shadow-lg"},v[2]||(v[2]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),se(" Crear Actividad ",-1)])),Ve(x,{to:"/",class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105"},{default:jn(()=>v[3]||(v[3]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),se(" Volver ",-1)])),_:1,__:[3]})])])])]),d("main",RS,[d("div",MS,[e.value?(I(),V("div",ES,v[4]||(v[4]=[Be('<div class="rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden" data-v-91172a2f><div class="p-6" data-v-91172a2f><div class="animate-pulse space-y-4" data-v-91172a2f><div class="h-6 w-2/3 rounded bg-slate-700/50" data-v-91172a2f></div><div class="h-4 w-40 rounded bg-slate-800/50" data-v-91172a2f></div><div class="flex gap-2" data-v-91172a2f><div class="h-10 w-24 rounded bg-slate-800/50" data-v-91172a2f></div><div class="h-10 w-24 rounded bg-slate-800/50" data-v-91172a2f></div></div></div></div></div>',1)]))):t.value.length===0&&n.value.length===0?(I(),V("div",$S,[d("div",{class:"p-12 text-center"},[v[6]||(v[6]=Be('<div class="mx-auto w-20 h-20 rounded-full bg-gradient-to-br from-slate-700/50 to-slate-800/50 flex items-center justify-center mb-6" data-v-91172a2f><svg class="w-10 h-10 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-91172a2f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-91172a2f></path></svg></div><h3 class="text-2xl font-bold text-white mb-2" data-v-91172a2f>No hay actividades creadas</h3><p class="text-slate-400 mb-6" data-v-91172a2f>Comienza creando tu primera actividad para este curso.</p>',3)),d("button",{onClick:u,class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-700 px-6 py-3 text-sm font-medium text-white hover:from-emerald-500 hover:to-teal-600 transition-all duration-200 hover:scale-105 shadow-lg"},v[5]||(v[5]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),se(" Crear Primera Actividad ",-1)]))])])):(I(),V("div",DS,[d("div",BS,[d("button",{onClick:p,class:"w-full flex items-center justify-between p-6 hover:bg-white/5 transition-all duration-200"},[d("div",qS,[v[8]||(v[8]=d("div",{class:"bg-gradient-to-br from-purple-400 to-blue-600 p-2 rounded-lg shadow-lg"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1)),d("div",zS,[v[7]||(v[7]=d("h2",{class:"text-xl font-bold text-white"},"Evaluaciones",-1)),d("p",IS,le(t.value.length)+" evaluaciones disponibles",1)])]),(I(),V("svg",{class:fn(["w-6 h-6 text-slate-400 transition-transform duration-200",{"rotate-180":o.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v[9]||(v[9]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),on(d("div",LS,[t.value.length===0?(I(),V("div",WS," No hay evaluaciones creadas para este curso. ")):(I(),V("div",VS,[(I(!0),V(dt,null,Cs(t.value,y=>(I(),V("div",{key:y.id,class:"p-6 hover:bg-white/5 transition-all duration-200"},[d("div",NS,[d("div",jS,[d("h3",FS,le(y.titulo),1),d("div",US,[d("div",HS,[v[10]||(v[10]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),d("span",null,"Límite: "+le(Pt($n)(y.fecha_limite)),1)])])]),d("div",XS,[d("button",{onClick:T=>a(y),class:"inline-flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-slate-600 px-4 py-2.5 text-sm font-medium text-white transition-all duration-200 hover:scale-105"},v[11]||(v[11]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),se(" Ver ",-1)]),8,GS),d("button",{onClick:T=>c(y),class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-700 px-4 py-2.5 text-sm font-medium text-white hover:from-purple-500 hover:to-blue-600 transition-all duration-200 hover:scale-105 shadow-lg"},v[12]||(v[12]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),se(" Editar ",-1)]),8,ZS)])])]))),128))]))],512),[[Uh,o.value]])]),d("div",KS,[d("button",{onClick:g,class:"w-full flex items-center justify-between p-6 hover:bg-white/5 transition-all duration-200"},[d("div",YS,[v[14]||(v[14]=d("div",{class:"bg-gradient-to-br from-emerald-400 to-teal-600 p-2 rounded-lg shadow-lg"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1)),d("div",JS,[v[13]||(v[13]=d("h2",{class:"text-xl font-bold text-white"},"Tareas",-1)),d("p",e4,le(n.value.length)+" tareas disponibles",1)])]),(I(),V("svg",{class:fn(["w-6 h-6 text-slate-400 transition-transform duration-200",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v[15]||(v[15]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),on(d("div",t4,[n.value.length===0?(I(),V("div",i4," No hay tareas creadas para este curso. ")):(I(),V("div",n4,[(I(!0),V(dt,null,Cs(n.value,y=>(I(),V("div",{key:y.id,class:"p-6 hover:bg-white/5 transition-all duration-200"},[d("div",s4,[d("div",r4,[d("h3",o4,le(y.titulo),1),d("div",l4,[d("div",a4,[v[16]||(v[16]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),d("span",null,"Límite: "+le(Pt($n)(y.fecha_limite)),1)]),d("div",h4,[v[17]||(v[17]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",null,"Creada: "+le(Pt($n)(y.fecha_registro)),1)])])]),d("div",c4,[d("button",{onClick:T=>h(y),class:"inline-flex items-center gap-2 rounded-lg bg-slate-700 hover:bg-slate-600 px-4 py-2.5 text-sm font-medium text-white transition-all duration-200 hover:scale-105"},v[18]||(v[18]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),se(" Ver ",-1)]),8,f4),d("button",{onClick:T=>f(y),class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-700 px-4 py-2.5 text-sm font-medium text-white hover:from-emerald-500 hover:to-teal-600 transition-all duration-200 hover:scale-105 shadow-lg"},v[19]||(v[19]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),se(" Editar ",-1)]),8,u4)])])]))),128))]))],512),[[Uh,l.value]])])]))])]),v[20]||(v[20]=d("footer",{class:"border-t border-white/10 bg-slate-950/30 backdrop-blur-sm"},[d("div",{class:"mx-auto max-w-7xl px-4 py-8"},[d("div",{class:"flex flex-col md:flex-row items-center justify-between gap-4"},[d("p",{class:"text-sm text-slate-400"}," © 2025 Edurun. Todos los derechos reservados. ")])])],-1))])])}}}),p4=Yi(d4,[["__scopeId","data-v-91172a2f"]]),g4={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-8"},m4={key:0,class:"text-center text-white"},O4=["innerHTML"],v4={key:1,class:"max-w-4xl mx-auto space-y-4"},b4={key:2,class:"max-w-4xl mx-auto"},x4={key:3,class:"max-w-4xl mx-auto space-y-4"},y4={class:"p-6 flex items-center justify-between gap-6"},w4={class:"flex-grow"},k4={class:"flex items-start gap-3"},S4={class:"flex-grow"},T4={class:"text-xl font-bold text-white group-hover:text-purple-400 transition-colors mb-2"},C4={class:"flex flex-wrap items-center gap-4"},P4={class:"flex items-center gap-2 text-sm text-slate-400"},Q4={class:"flex items-center gap-2 text-sm text-slate-400"},A4={class:"flex-shrink-0"},_4=["onClick"],R4=Ai({__name:"docente_select_evaluacion",setup(i){const e=J(!0),t=J([]),n=J(""),s=J(!1);Fn(async()=>{try{const l=(await js()).id;t.value=await Td(l)}catch(o){console.error("Error al cargar las evaluaciones:",o)}finally{e.value=!1}});async function r(o){const l="https://1k4sjt-ip-190-101-201-29.tunnelmole.net";console.log("Evaluación seleccionada:",o.id);const c=new URLSearchParams(window.location.search).get("ltik");s.value=!0;try{const f=await(await fetch(`${l}/deeplink`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({name:"evaluacion id",value:o.id})})).text();n.value=f,console.log("formHtml value set",n.value),await new Promise(p=>setTimeout(p,100));const u=document.querySelector('form[id^="ltijs_submit"]');u?u.submit():console.error("No se encontró el formulario de DeepLink")}catch(h){console.error("Error al seleccionar evaluación:",h),s.value=!1}}return(o,l)=>(I(),V("div",g4,[s.value?(I(),V("div",m4,[l[0]||(l[0]=d("h2",{class:"text-2xl font-bold"},"Finalizando...",-1)),l[1]||(l[1]=d("p",{class:"text-slate-400"},"Redirigiendo a Canvas. Por favor, espera un momento.",-1)),n.value?(I(),V("div",{key:0,innerHTML:n.value},null,8,O4)):je("",!0)])):je("",!0),e.value?(I(),V("div",v4,[(I(),V(dt,null,Cs(3,a=>d("div",{key:a,class:"rounded-xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden"},l[2]||(l[2]=[Be('<div class="p-6" data-v-9154beb0><div class="animate-pulse flex items-center justify-between" data-v-9154beb0><div class="flex-grow space-y-3" data-v-9154beb0><div class="h-6 w-2/3 rounded bg-slate-700/50" data-v-9154beb0></div><div class="h-4 w-40 rounded bg-slate-800/50" data-v-9154beb0></div></div><div class="h-10 w-32 rounded bg-slate-700/50" data-v-9154beb0></div></div></div>',1)]))),64))])):t.value.length===0?(I(),V("div",b4,l[3]||(l[3]=[Be('<div class="rounded-xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden" data-v-9154beb0><div class="p-12 text-center" data-v-9154beb0><div class="mx-auto w-20 h-20 rounded-full bg-gradient-to-br from-slate-700/50 to-slate-800/50 flex items-center justify-center mb-6" data-v-9154beb0><svg class="w-10 h-10 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9154beb0><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-9154beb0></path></svg></div><h3 class="text-2xl font-bold text-white mb-2" data-v-9154beb0>No hay evaluaciones disponibles</h3><p class="text-slate-400" data-v-9154beb0>No se encontraron evaluaciones registradas en este curso.</p></div></div>',1)]))):(I(),V("div",x4,[(I(!0),V(dt,null,Cs(t.value,a=>(I(),V("div",{key:a.id,class:"group rounded-xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl hover:border-purple-500/50 transition-all duration-300 overflow-hidden"},[d("div",y4,[d("div",w4,[d("div",k4,[l[6]||(l[6]=d("div",{class:"flex-shrink-0 mt-1"},[d("div",{class:"bg-gradient-to-br from-purple-400 to-blue-600 p-2 rounded-lg shadow-lg"},[d("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),d("div",S4,[d("h3",T4,le(a.titulo),1),d("div",C4,[d("div",P4,[l[4]||(l[4]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),d("span",null,"Límite: "+le(Pt($n)(a.fecha_limite)),1)]),d("div",Q4,[l[5]||(l[5]=d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",null,"Creada: "+le(Pt($n)(a.fecha_registro)),1)])])])])]),d("div",A4,[d("button",{onClick:c=>r(a),class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-700 px-6 py-3 text-sm font-semibold text-white hover:from-emerald-500 hover:to-teal-600 transition-all duration-200 hover:scale-105 shadow-lg"},l[7]||(l[7]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),se(" Seleccionar ",-1)]),8,_4)])])]))),128))]))]))}}),M4=Yi(R4,[["__scopeId","data-v-9154beb0"]]),E4={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},$4={class:"relative flex min-h-screen flex-col"},D4={class:"flex flex-grow items-center justify-center px-4 py-8"},B4={class:"mx-auto max-w-4xl w-full"},q4={key:0,class:"mb-6 rounded-xl border border-green-500/20 bg-green-950/40 backdrop-blur-md p-4"},z4={class:"flex items-center gap-3"},I4={class:"text-green-200 font-medium"},L4={key:1,class:"mb-6 rounded-xl border border-red-500/20 bg-red-950/40 backdrop-blur-md p-4"},W4={class:"flex items-center gap-3"},V4={class:"text-red-200 font-medium"},N4={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl overflow-hidden"},j4={class:"space-y-2"},F4={class:"space-y-2"},U4={class:"space-y-2"},H4={class:"space-y-2"},X4={class:"flex items-center justify-end gap-4 pt-6 border-t border-white/10"},G4=["disabled"],Z4={key:0,class:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K4={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y4=Ai({__name:"docente_create_evaluacion",setup(i){const e=wo(),t=J({id_curso:null,titulo:"",contenido:"",fecha_limite:"",test:""}),n=J(!1),s=J(""),r=J(""),o=async()=>{if(s.value="",r.value="",!t.value.id_curso||!t.value.titulo||!t.value.contenido){s.value="Por favor complete todos los campos obligatorios";return}n.value=!0;try{const a={id_curso:t.value.id_curso,titulo:t.value.titulo,contenido:t.value.contenido,fecha_limite:t.value.fecha_limite||void 0,test:t.value.test||void 0};console.log("Datos de evaluación a enviar:",a),await new Promise(c=>setTimeout(c,1e3)),r.value="Evaluación creada exitosamente",setTimeout(()=>{l()},2e3)}catch(a){console.error("Error al crear evaluación:",a),s.value=a instanceof Error?a.message:"Error al crear la evaluación"}finally{n.value=!1}},l=()=>{t.value={id_curso:null,titulo:"",contenido:"",fecha_limite:"",test:""},s.value="",r.value="",e.back()};return(a,c)=>(I(),V("div",E4,[c[15]||(c[15]=d("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[d("div",{class:"absolute top-20 left-10 w-72 h-72 bg-sky-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})],-1)),d("div",$4,[d("header",{class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},[d("div",{class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},[d("div",{class:"flex h-20 items-center justify-between"},[c[5]||(c[5]=Be('<div class="flex items-center gap-3" data-v-471ad046><div class="bg-gradient-to-br from-sky-400 to-blue-600 p-2 rounded-xl shadow-lg" data-v-471ad046><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-471ad046><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-471ad046></path></svg></div><div data-v-471ad046><h1 class="text-2xl font-bold bg-gradient-to-r from-sky-400 to-blue-500 bg-clip-text text-transparent" data-v-471ad046> Crear Nueva Evaluación </h1><p class="text-sm text-slate-400" data-v-471ad046>Completa los datos de la evaluación</p></div></div>',1)),d("div",{class:"flex items-center gap-3"},[d("button",{onClick:l,class:"inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium text-slate-200 hover:bg-white/10 hover:text-white transition-all duration-200 hover:scale-105"},c[4]||(c[4]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),se(" Volver ",-1)]))])])])]),d("main",D4,[d("div",B4,[r.value?(I(),V("div",q4,[d("div",z4,[c[6]||(c[6]=d("svg",{class:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",I4,le(r.value),1)])])):je("",!0),s.value?(I(),V("div",L4,[d("div",W4,[c[7]||(c[7]=d("svg",{class:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",V4,le(s.value),1)])])):je("",!0),d("div",N4,[d("form",{onSubmit:oO(o,["prevent"]),class:"p-8 space-y-6"},[d("div",j4,[c[8]||(c[8]=d("label",{for:"titulo",class:"block text-sm font-medium text-slate-200"},[se(" Título "),d("span",{class:"text-red-400"},"*")],-1)),on(d("input",{id:"titulo","onUpdate:modelValue":c[0]||(c[0]=h=>t.value.titulo=h),type:"text",required:"",placeholder:"Ingrese el título de la evaluación",class:"w-full rounded-lg border border-white/10 bg-slate-900/50 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-sky-500/50 focus:outline-none focus:ring-2 focus:ring-sky-500/20 transition-all"},null,512),[[os,t.value.titulo]])]),d("div",F4,[c[9]||(c[9]=d("label",{for:"contenido",class:"block text-sm font-medium text-slate-200"},[se(" Contenido "),d("span",{class:"text-red-400"},"*")],-1)),on(d("textarea",{id:"contenido","onUpdate:modelValue":c[1]||(c[1]=h=>t.value.contenido=h),rows:"8",required:"",placeholder:"Ingrese la descripción y detalles de la evaluación",class:"w-full rounded-lg border border-white/10 bg-slate-900/50 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-sky-500/50 focus:outline-none focus:ring-2 focus:ring-sky-500/20 transition-all resize-vertical"},null,512),[[os,t.value.contenido]])]),d("div",U4,[c[10]||(c[10]=d("label",{for:"fecha_limite",class:"block text-sm font-medium text-slate-200"}," Fecha Límite ",-1)),on(d("input",{id:"fecha_limite","onUpdate:modelValue":c[2]||(c[2]=h=>t.value.fecha_limite=h),type:"datetime-local",class:"w-full rounded-lg border border-white/10 bg-slate-900/50 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-sky-500/50 focus:outline-none focus:ring-2 focus:ring-sky-500/20 transition-all"},null,512),[[os,t.value.fecha_limite]])]),d("div",H4,[c[11]||(c[11]=d("label",{for:"test",class:"block text-sm font-medium text-slate-200"},[se(" Código de Prueba (Pytest) "),d("span",{class:"text-slate-500 text-xs ml-2"},"(opcional)")],-1)),on(d("textarea",{id:"test","onUpdate:modelValue":c[3]||(c[3]=h=>t.value.test=h),rows:"10",placeholder:`Ingrese el código de pytest para evaluar las tareas
Ejemplo:
def test_example():
    assert 1 + 1 == 2`,class:"w-full rounded-lg border border-white/10 bg-slate-900/50 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:border-sky-500/50 focus:outline-none focus:ring-2 focus:ring-sky-500/20 transition-all resize-vertical font-mono text-sm"},null,512),[[os,t.value.test]]),c[12]||(c[12]=d("p",{class:"text-slate-400 text-xs flex items-center gap-1"},[d("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Escriba el código de prueba que se ejecutará para evaluar las tareas de los estudiantes ")],-1))]),d("div",X4,[d("button",{type:"button",onClick:l,class:"rounded-lg px-6 py-3 text-sm font-medium text-slate-200 hover:bg-white/10 transition-all duration-200 hover:scale-105"}," Cancelar "),d("button",{type:"submit",disabled:n.value,class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-sky-500 to-blue-600 px-6 py-3 text-sm font-medium text-white shadow-lg shadow-sky-500/30 transition-all duration-200 hover:scale-105 hover:shadow-sky-500/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[n.value?(I(),V("svg",Z4,c[13]||(c[13]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(I(),V("svg",K4,c[14]||(c[14]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),se(" "+le(n.value?"Creando...":"Crear Evaluación"),1)],8,G4)])],32)])])])])]))}}),J4=Yi(Y4,[["__scopeId","data-v-471ad046"]]),eT={class:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-900"},tT={class:"relative min-h-screen"},iT={class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-md shadow-lg"},nT={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},sT={class:"flex h-20 items-center justify-between"},rT={class:"flex items-center gap-3"},oT={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12"},lT={class:"mb-8 rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md p-6 shadow-xl"},aT={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},hT={class:"flex flex-wrap gap-3"},cT=["disabled"],fT={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},uT={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden"},dT={class:"p-6 space-y-4"},pT=["disabled"],gT={key:0,class:"flex items-center justify-center gap-2"},mT={key:1,class:"flex items-center justify-center gap-2"},OT={key:0,class:"rounded-lg bg-red-900/30 border border-red-500/50 p-4"},vT={class:"flex items-start gap-2"},bT={class:"text-sm text-red-300"},xT={key:1,class:"space-y-3"},yT={class:"flex items-center justify-between"},wT={class:"bg-slate-900/60 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto border border-white/5"},kT={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden"},ST={class:"p-6 space-y-4"},TT=["disabled"],CT={key:0,class:"flex items-center justify-center gap-2"},PT={key:1,class:"flex items-center justify-center gap-2"},QT={key:0,class:"rounded-lg bg-red-900/30 border border-red-500/50 p-4"},AT={class:"flex items-start gap-2"},_T={class:"text-sm text-red-300"},RT={key:1,class:"space-y-3"},MT={class:"flex items-center justify-between"},ET={class:"bg-slate-900/60 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto border border-white/5"},$T={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden"},DT={class:"p-6 space-y-4"},BT=["disabled"],qT={key:0,class:"flex items-center justify-center gap-2"},zT={key:1,class:"flex items-center justify-center gap-2"},IT={key:0,class:"rounded-lg bg-red-900/30 border border-red-500/50 p-4"},LT={class:"flex items-start gap-2"},WT={class:"text-sm text-red-300"},VT={key:1,class:"space-y-3"},NT={class:"flex items-center justify-between"},jT={class:"bg-slate-900/60 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto border border-white/5"},FT={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden"},UT={class:"p-6 space-y-4"},HT=["disabled"],XT={key:0,class:"flex items-center justify-center gap-2"},GT={key:1,class:"flex items-center justify-center gap-2"},ZT={key:0,class:"rounded-lg bg-red-900/30 border border-red-500/50 p-4"},KT={class:"flex items-start gap-2"},YT={class:"text-sm text-red-300"},JT={key:1,class:"space-y-3"},e5={class:"flex items-center justify-between"},t5={class:"bg-slate-900/60 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto border border-white/5"},i5={class:"mt-6"},n5={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-xl overflow-hidden"},s5={class:"p-6 space-y-4"},r5={class:"space-y-2"},o5=["disabled"],l5={key:0,class:"flex items-center justify-center gap-2"},a5={key:1,class:"flex items-center justify-center gap-2"},h5={key:0,class:"rounded-lg bg-red-900/30 border border-red-500/50 p-4"},c5={class:"flex items-start gap-2"},f5={class:"text-sm text-red-300"},u5={key:1,class:"space-y-3"},d5={class:"flex items-center justify-between"},p5={class:"bg-slate-900/60 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto border border-white/5"},g5=Ai({__name:"endpointtest",setup(i){const e=J(!1),t=J(!1),n=J(!1),s=J(!1),r=J(!1),o=J(null),l=J(null),a=J(null),c=J(null),h=J(null),f=J(""),u=J(null),p=J(null),g=J(null),O=J(null),v=J(null),x=U=>{navigator.clipboard.writeText(U)},y=U=>JSON.stringify(U,null,2),T=async()=>{e.value=!0,u.value=null,o.value=null;try{const U=await Za();o.value=U}catch(U){u.value=U.message||"Error al obtener información del usuario"}finally{e.value=!1}},C=async()=>{t.value=!0,p.value=null,l.value=null;try{const U=await js();l.value=U}catch(U){p.value=U.message||"Error al obtener información del curso"}finally{t.value=!1}},M=async()=>{n.value=!0,g.value=null,a.value=null;try{const U=await yd();a.value=U}catch(U){g.value=U.message||"Error al obtener información de la plataforma"}finally{n.value=!1}},N=async()=>{if(!f.value.trim()){O.value="Por favor ingresa un User ID LMS";return}s.value=!0,O.value=null,c.value=null;try{const U=await w1(f.value.trim());c.value=U}catch(U){O.value=U.message||"Error al verificar si el usuario está registrado"}finally{s.value=!1}},D=async()=>{r.value=!0,v.value=null,h.value=null;try{const U=await y1();h.value=U}catch(U){v.value=U.message||"Error al obtener información de la asignación"}finally{r.value=!1}},ae=async()=>{await Promise.all([T(),C(),M(),D()])},oe=()=>{o.value=null,l.value=null,a.value=null,c.value=null,h.value=null,u.value=null,p.value=null,g.value=null,O.value=null,v.value=null,f.value=""};return(U,k)=>{const G=Un("RouterLink");return I(),V("div",eT,[k[43]||(k[43]=d("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[d("div",{class:"absolute top-20 left-10 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"}),d("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"})],-1)),d("div",tT,[d("header",iT,[d("div",nT,[d("div",sT,[k[7]||(k[7]=Be('<div class="flex items-center gap-4" data-v-f1d3d60e><div class="bg-gradient-to-br from-indigo-500 to-purple-600 p-2.5 rounded-xl shadow-lg" data-v-f1d3d60e><svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" data-v-f1d3d60e></path></svg></div><div data-v-f1d3d60e><h1 class="text-2xl font-bold text-white" data-v-f1d3d60e>LTI Endpoints Tester</h1><p class="text-sm text-slate-400" data-v-f1d3d60e>Prueba los servicios de LTI</p></div></div>',1)),d("div",rT,[Ve(G,{to:"/",class:"rounded-lg px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-white/10 transition-all"},{default:jn(()=>k[6]||(k[6]=[d("span",{class:"flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]),se(" Volver ")],-1)])),_:1,__:[6]})])])])]),d("main",oT,[d("div",lT,[d("div",aT,[k[10]||(k[10]=d("div",null,[d("h2",{class:"text-xl font-bold text-white flex items-center gap-2"},[d("svg",{class:"w-6 h-6 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),se(" Panel de Control ")]),d("p",{class:"text-sm text-slate-400 mt-1"},"Ejecuta las pruebas de los endpoints")],-1)),d("div",hT,[d("button",{onClick:ae,disabled:e.value||t.value||n.value||r.value,class:"rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 px-6 py-2.5 text-sm font-semibold text-white shadow-lg hover:shadow-indigo-500/50 transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},k[8]||(k[8]=[d("span",{class:"flex items-center gap-2"},[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Probar Todo ")],-1)]),8,cT),d("button",{onClick:oe,class:"rounded-lg bg-slate-700 hover:bg-slate-600 px-6 py-2.5 text-sm font-semibold text-white transition-all duration-200 hover:scale-105"},k[9]||(k[9]=[d("span",{class:"flex items-center gap-2"},[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),se(" Limpiar ")],-1)]))])])]),d("div",fT,[d("div",uT,[k[16]||(k[16]=Be('<div class="bg-gradient-to-r from-blue-600 to-cyan-600 px-6 py-4" data-v-f1d3d60e><div class="flex items-center justify-between" data-v-f1d3d60e><div class="flex items-center gap-3" data-v-f1d3d60e><div class="bg-white/20 p-2 rounded-lg" data-v-f1d3d60e><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-f1d3d60e></path></svg></div><div data-v-f1d3d60e><h3 class="text-lg font-bold text-white" data-v-f1d3d60e>User Info</h3><p class="text-xs text-blue-100" data-v-f1d3d60e>/info/user</p></div></div></div></div>',1)),d("div",dT,[d("button",{onClick:T,disabled:e.value,class:"w-full rounded-lg bg-blue-600 hover:bg-blue-500 px-4 py-3 text-sm font-semibold text-white transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[e.value?(I(),V("span",gT,k[11]||(k[11]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1),se(" Cargando... ",-1)]))):(I(),V("span",mT,k[12]||(k[12]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),se(" Ejecutar ",-1)])))],8,pT),u.value?(I(),V("div",OT,[d("div",vT,[k[13]||(k[13]=d("svg",{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",bT,le(u.value),1)])])):je("",!0),o.value&&!u.value?(I(),V("div",xT,[d("div",yT,[k[15]||(k[15]=d("span",{class:"text-sm font-medium text-emerald-400 flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Respuesta exitosa ")],-1)),d("button",{onClick:k[0]||(k[0]=ne=>x(y(o.value))),class:"text-slate-400 hover:text-white transition-colors",title:"Copiar JSON"},k[14]||(k[14]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))]),d("pre",wT,le(y(o.value)),1)])):je("",!0)])]),d("div",kT,[k[22]||(k[22]=Be('<div class="bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4" data-v-f1d3d60e><div class="flex items-center justify-between" data-v-f1d3d60e><div class="flex items-center gap-3" data-v-f1d3d60e><div class="bg-white/20 p-2 rounded-lg" data-v-f1d3d60e><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-f1d3d60e></path></svg></div><div data-v-f1d3d60e><h3 class="text-lg font-bold text-white" data-v-f1d3d60e>Course Info</h3><p class="text-xs text-purple-100" data-v-f1d3d60e>/info/course</p></div></div></div></div>',1)),d("div",ST,[d("button",{onClick:C,disabled:t.value,class:"w-full rounded-lg bg-purple-600 hover:bg-purple-500 px-4 py-3 text-sm font-semibold text-white transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[t.value?(I(),V("span",CT,k[17]||(k[17]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1),se(" Cargando... ",-1)]))):(I(),V("span",PT,k[18]||(k[18]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),se(" Ejecutar ",-1)])))],8,TT),p.value?(I(),V("div",QT,[d("div",AT,[k[19]||(k[19]=d("svg",{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",_T,le(p.value),1)])])):je("",!0),l.value&&!p.value?(I(),V("div",RT,[d("div",MT,[k[21]||(k[21]=d("span",{class:"text-sm font-medium text-emerald-400 flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Respuesta exitosa ")],-1)),d("button",{onClick:k[1]||(k[1]=ne=>x(y(l.value))),class:"text-slate-400 hover:text-white transition-colors",title:"Copiar JSON"},k[20]||(k[20]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))]),d("pre",ET,le(y(l.value)),1)])):je("",!0)])]),d("div",$T,[k[28]||(k[28]=Be('<div class="bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4" data-v-f1d3d60e><div class="flex items-center justify-between" data-v-f1d3d60e><div class="flex items-center gap-3" data-v-f1d3d60e><div class="bg-white/20 p-2 rounded-lg" data-v-f1d3d60e><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" data-v-f1d3d60e></path></svg></div><div data-v-f1d3d60e><h3 class="text-lg font-bold text-white" data-v-f1d3d60e>Platform Info</h3><p class="text-xs text-emerald-100" data-v-f1d3d60e>/info/platform</p></div></div></div></div>',1)),d("div",DT,[d("button",{onClick:M,disabled:n.value,class:"w-full rounded-lg bg-emerald-600 hover:bg-emerald-500 px-4 py-3 text-sm font-semibold text-white transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[n.value?(I(),V("span",qT,k[23]||(k[23]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1),se(" Cargando... ",-1)]))):(I(),V("span",zT,k[24]||(k[24]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),se(" Ejecutar ",-1)])))],8,BT),g.value?(I(),V("div",IT,[d("div",LT,[k[25]||(k[25]=d("svg",{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",WT,le(g.value),1)])])):je("",!0),a.value&&!g.value?(I(),V("div",VT,[d("div",NT,[k[27]||(k[27]=d("span",{class:"text-sm font-medium text-emerald-400 flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Respuesta exitosa ")],-1)),d("button",{onClick:k[2]||(k[2]=ne=>x(y(a.value))),class:"text-slate-400 hover:text-white transition-colors",title:"Copiar JSON"},k[26]||(k[26]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))]),d("pre",jT,le(y(a.value)),1)])):je("",!0)])]),d("div",FT,[k[34]||(k[34]=Be('<div class="bg-gradient-to-r from-rose-600 to-red-600 px-6 py-4" data-v-f1d3d60e><div class="flex items-center justify-between" data-v-f1d3d60e><div class="flex items-center gap-3" data-v-f1d3d60e><div class="bg-white/20 p-2 rounded-lg" data-v-f1d3d60e><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-f1d3d60e></path></svg></div><div data-v-f1d3d60e><h3 class="text-lg font-bold text-white" data-v-f1d3d60e>Assignment Info</h3><p class="text-xs text-rose-100" data-v-f1d3d60e>/info/assignment</p></div></div></div></div>',1)),d("div",UT,[d("button",{onClick:D,disabled:r.value,class:"w-full rounded-lg bg-rose-600 hover:bg-rose-500 px-4 py-3 text-sm font-semibold text-white transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[r.value?(I(),V("span",XT,k[29]||(k[29]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1),se(" Cargando... ",-1)]))):(I(),V("span",GT,k[30]||(k[30]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),se(" Ejecutar ",-1)])))],8,HT),v.value?(I(),V("div",ZT,[d("div",KT,[k[31]||(k[31]=d("svg",{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",YT,le(v.value),1)])])):je("",!0),h.value&&!v.value?(I(),V("div",JT,[d("div",e5,[k[33]||(k[33]=d("span",{class:"text-sm font-medium text-emerald-400 flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Respuesta exitosa ")],-1)),d("button",{onClick:k[3]||(k[3]=ne=>x(y(h.value))),class:"text-slate-400 hover:text-white transition-colors",title:"Copiar JSON"},k[32]||(k[32]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))]),d("pre",t5,le(y(h.value)),1)])):je("",!0)])])]),d("div",i5,[d("div",n5,[k[41]||(k[41]=Be('<div class="bg-gradient-to-r from-amber-600 to-orange-600 px-6 py-4" data-v-f1d3d60e><div class="flex items-center justify-between" data-v-f1d3d60e><div class="flex items-center gap-3" data-v-f1d3d60e><div class="bg-white/20 p-2 rounded-lg" data-v-f1d3d60e><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-f1d3d60e></path></svg></div><div data-v-f1d3d60e><h3 class="text-lg font-bold text-white" data-v-f1d3d60e>Check User Registered</h3><p class="text-xs text-amber-100" data-v-f1d3d60e>/lti/check_user/:userIdLms</p></div></div></div></div>',1)),d("div",s5,[d("div",r5,[k[35]||(k[35]=d("label",{for:"userIdLms",class:"block text-sm font-medium text-slate-300"}," User ID LMS ",-1)),on(d("input",{id:"userIdLms","onUpdate:modelValue":k[4]||(k[4]=ne=>f.value=ne),type:"text",placeholder:"Ingresa el User ID LMS",class:"w-full rounded-lg bg-slate-900/60 border border-white/10 px-4 py-3 text-white placeholder-slate-500 focus:border-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-500/20 transition-all",onKeyup:aO(N,["enter"])},null,544),[[os,f.value]])]),d("button",{onClick:N,disabled:s.value||!f.value.trim(),class:"w-full rounded-lg bg-amber-600 hover:bg-amber-500 px-4 py-3 text-sm font-semibold text-white transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[s.value?(I(),V("span",l5,k[36]||(k[36]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1),se(" Verificando... ",-1)]))):(I(),V("span",a5,k[37]||(k[37]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1),se(" Verificar Usuario ",-1)])))],8,o5),O.value?(I(),V("div",h5,[d("div",c5,[k[38]||(k[38]=d("svg",{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("p",f5,le(O.value),1)])])):je("",!0),c.value&&!O.value?(I(),V("div",u5,[d("div",d5,[k[40]||(k[40]=d("span",{class:"text-sm font-medium text-emerald-400 flex items-center gap-2"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),se(" Respuesta exitosa ")],-1)),d("button",{onClick:k[5]||(k[5]=ne=>x(y(c.value))),class:"text-slate-400 hover:text-white transition-colors",title:"Copiar JSON"},k[39]||(k[39]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))]),d("pre",p5,le(y(c.value)),1)])):je("",!0)])])]),k[42]||(k[42]=Be('<div class="mt-8 rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md p-6 shadow-xl" data-v-f1d3d60e><div class="flex items-start gap-4" data-v-f1d3d60e><div class="bg-blue-500/20 p-2 rounded-lg" data-v-f1d3d60e><svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1d3d60e></path></svg></div><div class="flex-1" data-v-f1d3d60e><h3 class="text-lg font-bold text-white mb-2" data-v-f1d3d60e>Información de uso</h3><ul class="space-y-2 text-sm text-slate-300" data-v-f1d3d60e><li class="flex items-start gap-2" data-v-f1d3d60e><svg class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1d3d60e></path></svg><span data-v-f1d3d60e>Asegúrate de tener un token LTI válido en sessionStorage</span></li><li class="flex items-start gap-2" data-v-f1d3d60e><svg class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1d3d60e></path></svg><span data-v-f1d3d60e>Puedes probar cada endpoint individualmente o todos a la vez (excepto Check User Registered)</span></li><li class="flex items-start gap-2" data-v-f1d3d60e><svg class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1d3d60e></path></svg><span data-v-f1d3d60e>El botón &quot;Probar Todo&quot; ejecutará User Info, Course Info, Platform Info y Assignment Info simultáneamente</span></li><li class="flex items-start gap-2" data-v-f1d3d60e><svg class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1d3d60e></path></svg><span data-v-f1d3d60e>Para &quot;Check User Registered&quot;, ingresa un User ID LMS en el campo de texto y presiona Enter o el botón</span></li><li class="flex items-start gap-2" data-v-f1d3d60e><svg class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1d3d60e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1d3d60e></path></svg><span data-v-f1d3d60e>Haz clic en el icono de copiar para copiar la respuesta JSON al portapapeles</span></li></ul></div></div></div>',1))])])])}}}),m5=Yi(g5,[["__scopeId","data-v-f1d3d60e"]]);async function O5(i,e,t){try{const n=await Za(),s=kd(n.roles);t(s==="docente"?{name:"evaluaciones-docente"}:s==="estudiante"?{name:"evaluaciones-estudiante"}:{name:"home"})}catch(n){console.error("Error al obtener el rol del usuario:",n),t({name:"home"})}}const v5=v1({history:HO(),routes:[{path:"/",name:"home",component:nv},{path:"/tareas",name:"tareas",redirect:i=>({name:"home"}),beforeEnter:O5},{path:"/tareas/estudiante",name:"tareas-estudiante",component:wS},{path:"/tareas/docente",name:"tareas-docente",component:p4},{path:"/tarea/:id",name:"entorno-tarea",component:tu,props:!0},{path:"/evaluacion/:id",name:"entorno-evaluacion",component:tu,props:!0},{path:"/seleccionar_evaluacion",name:"seleccionar-evaluacion",component:M4},{path:"/testendpoint",name:"testendpoint",component:m5},{path:"/crear_evaluacion",name:"crear-evaluacion",component:J4}],scrollBehavior:()=>({top:0})});fO(mO).use(v5).mount("#app");
