import{d as M,r as a,o as T,m as j,a as u,b as e,n as E,u as B,e as V,t as c,k as f,p as x,q as R,f as p,_ as S}from"./index-BeI-SkGy.js";import{a as N}from"./activitys.service-Ot-Rr1o1.js";import{r as I,a as L}from"./code.service-IJyPqPiO.js";import{E as z,l as H,h as P,k as D,a as F,i as K,b as U,p as q,o as A,c as g,d as G,e as O,f as W}from"./index-UlJKtRD1.js";const $={class:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"},J={class:"relative flex min-h-screen flex-col"},Q={class:"border-b border-white/10 bg-slate-950/30 backdrop-blur-sm shadow-lg"},X={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Y={class:"flex h-20 items-center justify-between"},Z={class:"flex items-center gap-3"},ee={key:0,class:"text-sm text-slate-400"},te={class:"relative flex-grow w-full px-3 sm:px-4 lg:px-6 py-6 grid gap-4 md:grid-cols-[22rem_minmax(0,1fr)] lg:grid-cols-[26rem_minmax(0,1fr)]"},oe={class:"hidden md:block"},se={class:"sticky top-4 rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl p-6"},ae={key:0,class:"animate-pulse space-y-3"},re={key:1,class:"text-sm text-slate-300 whitespace-pre-wrap leading-relaxed"},le={class:"flex flex-col gap-4"},ne={class:"flex flex-col gap-3"},ie={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl p-6"},de={class:"flex items-center justify-between mb-4"},ue={class:"flex items-center gap-2"},ce=["disabled"],pe={class:"flex flex-col gap-3"},ge={class:"rounded-2xl border border-white/10 bg-slate-950/40 backdrop-blur-md shadow-2xl p-6"},ve={class:"flex items-center gap-2 mb-4"},me=M({__name:"interprete_tarea",setup(be){const w=R(),k=B(),r=a(null),v=a(!0),s=a(!1),d=a(`
print("Hola mundo")

`),n=a(""),l=a(!1),m=a(null);let i=null;async function y(){v.value=!0,r.value=null;const o=Number(w.params.id);try{r.value=await N(o)}catch(t){console.log("Error al cargar la tarea:",t)}finally{v.value=!1}}async function _(){if(!s.value){s.value=!0;try{const o=await I(d.value);if(!o.ok){console.log("Error en la respuesta de /code-run/:",o.statusText);return}const t=await o.json();console.log("Respuesta de /run-code/:",t),t.stderr?(n.value=t.stderr,l.value=!0):(n.value=t.stdout,l.value=!1)}catch(o){console.log("Error al llamar /run-code/:",o)}finally{s.value=!1}}}async function C(){if(!s.value){s.value=!0;try{const o=await L(d.value,r.value?.id);if(!o.ok){console.log("Error en la respuesta de /run-tarea-test/:",o.statusText);return}const t=await o.json();console.log("Respuesta de /run-tarea-test/:",t),t.stderr?(n.value=t.stderr,l.value=!0):(n.value=t.stdout,l.value=!1)}catch(o){console.log("Error al correr los tests:",o)}finally{s.value=!1}}}return T(()=>{const t=new URLSearchParams(window.location.search).get("ltik");if(t&&sessionStorage.setItem("ltik",t),y(),m.value&&!i){const b=z.create({doc:d.value,extensions:[H(),P(),D.of([...G,...O,{key:"Tab",preventDefault:!0,run:W}]),F(),K(),U(),q(),A,g.lineWrapping,g.updateListener.of(h=>{h.docChanged&&(d.value=h.state.doc.toString())}),g.theme({"&":{height:"65vh",borderRadius:"0.75rem",border:"1px solid rgba(148, 163, 184, 0.1)",backgroundColor:"rgba(15, 23, 42, 0.6)"},".cm-scroller":{fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:"1rem"},".cm-gutters":{backgroundColor:"rgba(15, 23, 42, 0.4)",borderRight:"1px solid rgba(148, 163, 184, 0.1)"}})]});i=new g({state:b,parent:m.value})}}),j(()=>{i&&(i.destroy(),i=null)}),(o,t)=>(p(),u("div",$,[t[11]||(t[11]=e("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute top-20 left-10 w-72 h-72 bg-emerald-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-20 right-10 w-96 h-96 bg-sky-500/10 rounded-full blur-3xl"}),e("div",{class:"absolute top-1/2 left-1/2 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl"})],-1)),e("div",J,[e("header",Q,[e("div",X,[e("div",Y,[e("div",Z,[e("button",{onClick:t[0]||(t[0]=b=>E(k).push({name:"tareas-estudiante"})),class:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 hover:text-white transition-all duration-200 border border-white/10 hover:border-white/20",title:"Volver a lista de tareas"},t[1]||(t[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",{class:"hidden sm:inline text-sm font-medium"},"Volver",-1)])),t[3]||(t[3]=e("div",{class:"bg-gradient-to-br from-emerald-400 to-teal-600 p-2 rounded-xl shadow-lg"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})])],-1)),e("div",null,[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent"}," Intérprete de Python - Tarea ",-1)),r.value?(p(),u("p",ee,c(r.value.titulo),1)):V("",!0)])])])])]),e("main",te,[e("aside",oe,[e("div",se,[t[5]||(t[5]=f('<div class="flex items-center gap-2 mb-4" data-v-81cce3eb><div class="bg-gradient-to-br from-amber-400 to-orange-600 p-2 rounded-lg shadow-lg" data-v-81cce3eb><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-81cce3eb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-81cce3eb></path></svg></div><h2 class="text-lg font-semibold text-white" data-v-81cce3eb>Contenido</h2></div>',1)),v.value?(p(),u("div",ae,t[4]||(t[4]=[e("div",{class:"h-4 w-5/6 rounded bg-slate-700/50"},null,-1),e("div",{class:"h-4 w-4/6 rounded bg-slate-700/50"},null,-1),e("div",{class:"h-4 w-3/6 rounded bg-slate-700/50"},null,-1),e("div",{class:"h-4 w-2/6 rounded bg-slate-700/50"},null,-1)]))):(p(),u("p",re,c(r.value?.contenido),1))])]),e("div",le,[e("section",ne,[e("div",ie,[e("div",de,[t[8]||(t[8]=f('<div class="flex items-center gap-2" data-v-81cce3eb><div class="bg-gradient-to-br from-sky-400 to-blue-600 p-2 rounded-lg shadow-lg" data-v-81cce3eb><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-81cce3eb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" data-v-81cce3eb></path></svg></div><span class="text-lg font-semibold text-white" data-v-81cce3eb>Editor de Código</span></div>',1)),e("div",ue,[e("button",{class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-sky-600 to-blue-700 px-4 py-2.5 text-white text-sm font-medium hover:from-sky-500 hover:to-blue-600 transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:s.value,onClick:_},[t[6]||(t[6]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polygon",{points:"8,5 19,12 8,19"})],-1)),e("span",null,c(s.value?"Ejecutando…":"Ejecutar"),1)],8,ce),e("button",{class:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-purple-600 to-indigo-700 px-4 py-2.5 text-white text-sm font-medium hover:from-purple-500 hover:to-indigo-600 transition-all duration-200 hover:scale-105 shadow-lg",onClick:C},t[7]||(t[7]=[e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M9 11l3 3L22 4"}),e("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})],-1),e("span",null,"Correr Tests",-1)]))])]),e("div",{ref_key:"codeMirrorContainer",ref:m,class:"w-full"},null,512)])]),e("section",pe,[e("div",ge,[e("div",ve,[e("div",{class:x(["p-2 rounded-lg shadow-lg",l.value?"bg-gradient-to-br from-rose-400 to-red-600":"bg-gradient-to-br from-slate-400 to-slate-600"])},t[9]||(t[9]=[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)]),2),t[10]||(t[10]=e("span",{class:"text-lg font-semibold text-white"},"Terminal",-1))]),e("pre",{class:x(["h-[220px] w-full overflow-auto rounded-lg border p-4 text-sm font-mono",l.value?"border-rose-500/50 bg-rose-950/50 text-rose-200":"border-slate-700/50 bg-slate-900/50 text-slate-100"])},c(n.value||"—"),3)])])])])])]))}}),ke=S(me,[["__scopeId","data-v-81cce3eb"]]);export{ke as default};
